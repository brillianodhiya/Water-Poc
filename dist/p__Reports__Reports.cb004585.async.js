"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[2311],{84155:function(U,l,a){a.r(l);var c=a(97983),m=a.n(c),v=a(40794),Y=a.n(v),L=a(12741),u=a.n(L),K=a(58638),y=a(38402),M=a(23349),S=a(27049),B=a(59652),W=a(71230),Z=a(15746),E=a(26713),f=a(21802),z=a(41232),N=a(71577),s=a(67294),b=a(64593),$=a(30381),d=a.n($),o=a(75539),F=a(98435),k=a(39173),G=a(78560),V=a(69408),I=a(39347),H=a(83461),e=a(85893),n=M.Z.Column;d().locale("en");var J=function(){var Q=s.useState([]),P=u()(Q,2),D=P[0],X=P[1],w=s.useState(!1),g=u()(w,2),O=g[0],C=g[1],q=s.useState(0),R=u()(q,2),i=R[0],ee=R[1],te=s.useState(0),h=u()(te,2),x=h[0],ae=h[1],ne=s.useState(d()()),p=u()(ne,2),j=p[0],re=p[1],ie=function(){(0,G.x)()("reports-log","Reports Log ","Reports Log "+d()().unix())},de=function(){var r=Y()(m()().mark(function t(){var _;return m()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return C(!0),A.next=3,(0,V.tq)({params:{area_id:i||void 0,tenant_id:x||void 0,periode:j.format("YYYY-MM")}});case 3:_=A.sent,C(!1),_.error||X(_.data);case 6:case"end":return A.stop()}},t)}));return function(){return r.apply(this,arguments)}}();s.useEffect(function(){return de(),function(){}},[j,i,x]),console.log(D);var _e=function(){var t=[{A1:"",A2:"",A3:"PT. BUKIT INDAH TIRTA ALAM",A4:"",A5:"",A6:"",A7:"",A8:"",A9:"",A10:""},{A1:"",A2:"",A3:"",A4:"",A5:"",A6:"",A7:"",A8:"",A9:"",A10:""},{A1:"",A2:"",A3:"Usage List",A4:"",A5:"",A6:"",A7:"",A8:"",A9:"",A10:""},{A1:"",A2:"",A3:"",A4:"",A5:"",A6:"Period",A7:"",A8:"Meter",A9:"",A10:""},{A1:"#",A2:"Kode Unit",A3:"Unit Name",A4:"Meter No.",A5:"Customer Name",A6:"From",A7:"To",A8:"From",A9:"To",A10:"Usage"}];return D.map(function(_,T){t.push({A1:(T+1).toString(),A2:_.kode_unit,A3:_.unit_name,A4:_.meter_id,A5:_.tenant_name,A6:d()(_.start_date).format("DD/MM/YYYY"),A7:d()(_.end_date).format("DD/MM/YYYY"),A8:_.start_totalizer.toString(),A9:_.end_totalizer.toString(),A10:_.usage.toString()})}),t},se=_e();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(b.q,{children:[(0,e.jsx)("meta",{charSet:"utf-8"}),(0,e.jsx)("link",{rel:"icon",href:"https://aetratangerang.co.id/wp-content/uploads/2020/07/cropped-favicon-192x192.png",type:"image/x-icon"})]}),(0,e.jsxs)(y._z,{childrenContentStyle:{minHeight:"70vh"},title:"Transaction Usage",content:"Usage Totalizer of device ",children:[(0,e.jsx)(S.Z,{}),(0,e.jsx)(B.Z,{style:{borderRadius:8,marginBottom:20},bodyStyle:{background:" rgba(230, 247, 255, 0.5)"},children:(0,e.jsx)(W.Z,{gutter:[16,16],align:"bottom",children:(0,e.jsxs)(Z.Z,{span:24,style:{textAlign:"left"},children:[(0,e.jsxs)(E.Z,{size:"large",wrap:!0,children:[(0,e.jsxs)(E.Z,{direction:"vertical",children:[(0,e.jsx)(f.Z,{children:"Periode"}),(0,e.jsx)(z.Z.MonthPicker,{allowClear:!1,value:j,onChange:function(t){return re(t)}})]}),(0,e.jsxs)(E.Z,{direction:"vertical",children:[(0,e.jsx)(f.Z,{children:"Area Name"}),(0,e.jsx)(F.U,{onChange:function(t){ee(t)},style:{width:"200px"},type:"rounded",useAll:!0,value:i})]}),(0,e.jsxs)(E.Z,{direction:"vertical",children:[(0,e.jsx)(f.Z,{children:"Tenant Name"}),(0,e.jsx)(k.w,{onChange:function(t){ae(t)},areaId:i==0?void 0:i,style:{width:"200px"},type:"rounded",useAll:!0,value:x})]})]}),(0,e.jsx)(H.CSVLink,{data:se,headers:[{label:"",key:"A1"},{label:"",key:"A2"},{label:"",key:"A3"},{label:"",key:"A4"},{label:"",key:"A5"},{label:"",key:"A6"},{label:"",key:"A7"},{label:"",key:"A8"},{label:"",key:"A9"},{label:"",key:"A10"}],filename:"Reports_Log_".concat(d()().format("YYYY-MM"),"_").concat(d()().unix(),".csv"),children:(0,e.jsx)(N.Z,{style:{float:"right",marginTop:"24px"},type:"primary",icon:(0,e.jsx)(K.Z,{}),children:"Export"})})]})})}),(0,e.jsxs)(M.Z,{dataSource:D,loading:O,style:{borderRadius:8,border:"1px solid #f0f0f0"},size:"small",bordered:!0,scroll:{x:!0},children:[(0,e.jsx)(n,{title:"Area Name",dataIndex:"area_name"},"area_name"),(0,e.jsx)(n,{title:"Kode Unit",dataIndex:"kode_unit"},"kode_unit"),(0,e.jsx)(n,{title:"Unit Name",dataIndex:"unit_name"},"unit_name"),(0,e.jsx)(n,{title:"DevEui",dataIndex:"deveui"},"deveui"),(0,e.jsx)(n,{title:"Meter Id",dataIndex:"meter_id"},"meter_id"),(0,e.jsx)(n,{title:"Customer Name",dataIndex:"tenant_name"},"tenant_name"),(0,e.jsx)(n,{title:"Periode",dataIndex:"periode",render:function(t){return d()(t).format("MMM YYYY")}},"periode"),(0,e.jsx)(n,{title:"Start Date",dataIndex:"start_date",render:function(t){return d()(t).format("DD/MM/YYYY")}},"start_date"),(0,e.jsx)(n,{title:"End Date",dataIndex:"end_date",render:function(t){return d()(t).format("DD/MM/YYYY")}},"end_date"),(0,e.jsxs)(I.Z,{title:"Meter",children:[(0,e.jsx)(n,{title:"Start Totalizer",dataIndex:"start_totalizer",render:function(t){return(0,o.D)(t)}},"start_totalizer"),(0,e.jsx)(n,{title:"End Totalizer",dataIndex:"end_totalizer",render:function(t){return(0,o.D)(t)}},"end_totalizer"),(0,e.jsx)(n,{title:"Usage",dataIndex:"usage",render:function(t){return(0,o.D)(t)}},"usage")]})]}),(0,e.jsxs)("div",{style:{opacity:0,position:"fixed"},children:[(0,e.jsx)("a",{id:"dlink"}),(0,e.jsxs)(M.Z,{dataSource:D,loading:O,style:{borderRadius:8,border:"1px solid #f0f0f0"},bordered:!0,pagination:!1,children:[(0,e.jsx)(n,{title:"Area Name",dataIndex:"area_name"},"area_name"),(0,e.jsx)(n,{title:"Kode Unit",dataIndex:"kode_unit"},"kode_unit"),(0,e.jsx)(n,{title:"Unit Name",dataIndex:"unit_name"},"unit_name"),(0,e.jsx)(n,{title:"DevEui",dataIndex:"deveui"},"deveui"),(0,e.jsx)(n,{title:"Meter Id",dataIndex:"meter_id"},"meter_id"),(0,e.jsx)(n,{title:"Customer Name",dataIndex:"tenant_name"},"tenant_name"),(0,e.jsx)(n,{title:"Periode",dataIndex:"periode",render:function(t){return d()(t).format("MMM YYYY")}},"periode"),(0,e.jsx)(n,{title:"Start Date",dataIndex:"start_date",render:function(t){return d()(t).format("DD/MM/YYYY")}},"start_date"),(0,e.jsx)(n,{title:"End Date",dataIndex:"end_date",render:function(t){return d()(t).format("DD/MM/YYYY")}},"end_date"),(0,e.jsxs)(I.Z,{title:"Meter",children:[(0,e.jsx)(n,{title:"Start Totalizer",dataIndex:"start_totalizer",render:function(t){return(0,o.D)(t)}},"start_totalizer"),(0,e.jsx)(n,{title:"End Totalizer",dataIndex:"end_totalizer",render:function(t){return(0,o.D)(t)}},"end_totalizer"),(0,e.jsx)(n,{title:"Usage",dataIndex:"usage",render:function(t){return(0,o.D)(t)}},"usage")]})]})]})]})]})};l.default=J},39347:function(U,l){var a;a={value:!0},l.Z=void 0;function c(v){return null}var m=c;l.Z=m}}]);
