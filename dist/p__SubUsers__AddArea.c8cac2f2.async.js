"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9175],{82826:function(z,p,n){n.d(p,{Z:function(){return D}});var E=n(1413),o=n(67294),x={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},j=x,P=n(84089),l=function(O,M){return o.createElement(P.Z,(0,E.Z)((0,E.Z)({},O),{},{ref:M,icon:j}))};l.displayName="ArrowLeftOutlined";var D=o.forwardRef(l)},3814:function(z,p,n){n.r(p);var E=n(97983),o=n.n(E),x=n(40794),j=n.n(x),P=n(12741),l=n.n(P),D=n(5200),y=n.n(D),O=n(98435),M=n(87806),N=n(82826),G=n(24969),H=n(71063),g=n(14776),t=n(66490),Z=n(422),f=n(71577),A=n(26713),T=n(58492),i=n(67669),k=n(27049),J=n(11382),Q=n(71230),s=n(15746),C=n(11486),V=n(74565),X=n(83652),c=n(67294),Y=n(64593),e=n(85893),q=function(L){return new Promise(function(I,R){var u=new FileReader;u.readAsDataURL(L),u.onload=function(){return I(u.result)},u.onerror=function(U){return R(U)}})},ee=function(L){y()(L);var I=t.Z.useForm(),R=l()(I,1),u=R[0],U=c.useState([]),B=l()(U,2),v=B[0],K=B[1],re=(0,c.useState)(!1),W=l()(re,2),se=W[0],S=W[1],te=c.useState(!1),F=l()(te,2),ae=F[0],w=F[1],le=(0,c.useState)(""),$=l()(le,2),ie=$[0],_e=$[1],oe=(0,c.useState)(""),b=l()(oe,2),de=b[0],ue=b[1],ce=function(_){var r=_.fileList;return K(r)},me=function(){var a=j()(o()().mark(function _(r){return o()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(!(!r.url&&!r.preview)){d.next=4;break}return d.next=3,q(r.originFileObj);case 3:r.preview=d.sent;case 4:_e(r.url||r.preview),S(!0),ue(r.name||r.url.substring(r.url.lastIndexOf("/")+1));case 7:case"end":return d.stop()}},_)}));return function(r){return a.apply(this,arguments)}}(),he=function(){var a=j()(o()().mark(function _(r){var m;return o()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return console.log(r),w(!0),h.next=4,(0,M.lR)({name:r.name,phone:r.phone,email:r.email,role_id:r.role_id,password:"12345",image:v[0].originFileObj,area_id:r.area_id});case 4:m=h.sent,w(!1),m.error?Z.Z.error({content:m.message}):Z.Z.success({content:m.message,onOk:function(){g.history.push("/users/area")}});case 7:case"end":return h.stop()}},_)}));return function(r){return a.apply(this,arguments)}}();return(0,e.jsxs)(H._zJ,{breadcrumb:void 0,title:(0,e.jsx)(f.Z,{type:"link",onClick:function(){return g.history.back()},size:"large",children:(0,e.jsxs)(A.Z,{style:{cursor:"pointer"},align:"start",size:"large",children:[(0,e.jsx)(N.Z,{onClick:function(){return g.history.back()},style:{marginTop:"12px",fontSize:"24px",color:"#000"}}),(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"column",textAlign:"left"},children:[(0,e.jsxs)(T.Z,{children:[(0,e.jsx)(T.Z.Item,{children:"User"}),(0,e.jsx)(T.Z.Item,{href:"#",children:"Add User Area"})]}),(0,e.jsx)(i.Z.Title,{level:5,children:"Add User"})]})]})}),style:{borderTop:"1px solid rgba(0, 0, 0, 0.06)"},children:[(0,e.jsxs)(Y.q,{children:[(0,e.jsx)("meta",{charSet:"utf-8"}),(0,e.jsx)("title",{children:"AAT IoT Platform | User"}),(0,e.jsx)("link",{rel:"icon",href:"https://aetratangerang.co.id/wp-content/uploads/2020/07/cropped-favicon-192x192.png",type:"image/x-icon"})]}),(0,e.jsx)(k.Z,{style:{paddingTop:0,marginTop:0}}),(0,e.jsx)(J.Z,{spinning:ae,children:(0,e.jsx)(t.Z,{form:u,name:"add-area",onFinish:he,style:{width:500,margin:"0px auto",paddingTop:20},children:(0,e.jsxs)(Q.Z,{gutter:16,children:[(0,e.jsx)(s.Z,{span:12,children:(0,e.jsx)(i.Z,{children:"Area Name"})}),(0,e.jsx)(s.Z,{span:12,children:(0,e.jsx)(t.Z.Item,{name:"area_id",rules:[{required:!0,message:"Please input area name!"}],requiredMark:"optional",children:(0,e.jsx)(O.U,{onChange:function(){}})})}),(0,e.jsx)(s.Z,{span:12,children:(0,e.jsx)(i.Z,{children:"Full Name"})}),(0,e.jsx)(s.Z,{span:12,children:(0,e.jsx)(t.Z.Item,{name:"name",rules:[{required:!0,message:"Please input full name!"}],requiredMark:"optional",children:(0,e.jsx)(C.Z,{placeholder:"Full Name"})})}),(0,e.jsx)(s.Z,{span:12,children:(0,e.jsx)(i.Z,{children:"Email"})}),(0,e.jsx)(s.Z,{span:12,children:(0,e.jsx)(t.Z.Item,{name:"email",rules:[{required:!0,message:"Please input email!",type:"email"}],requiredMark:"optional",children:(0,e.jsx)(C.Z,{placeholder:"Email"})})}),(0,e.jsx)(s.Z,{span:12,children:(0,e.jsx)(i.Z,{children:"Phone"})}),(0,e.jsx)(s.Z,{span:12,children:(0,e.jsx)(t.Z.Item,{name:"phone",rules:[{required:!0,message:"Please input phone!"},{pattern:/^(\+62|62|0)8[1-9][0-9]{6,13}$/g,message:"Phone not valid!"}],requiredMark:"optional",children:(0,e.jsx)(C.Z,{placeholder:"Phone"})})}),(0,e.jsx)(s.Z,{span:12,children:(0,e.jsx)(i.Z,{children:(0,e.jsxs)("div",{children:[(0,e.jsx)(i.Z,{style:{fontSize:16},children:"Photo"}),(0,e.jsx)(i.Z,{style:{fontSize:12,color:"#8C8C8C"},children:"This wil be displayed on profile."})]})})}),(0,e.jsx)(s.Z,{span:12,children:(0,e.jsx)(t.Z.Item,{style:{marginTop:"24px"},children:(0,e.jsxs)(A.Z,{children:[(0,e.jsx)(V.Z,{listType:"picture-card",fileList:v,customRequest:function(_){var r=_.onSuccess;r&&setTimeout(function(){r("ok")},0)},maxCount:1,multiple:!1,accept:"image/*",onChange:ce,onPreview:me,children:v.length>0?null:(0,e.jsxs)("div",{children:[(0,e.jsx)(G.Z,{}),(0,e.jsx)("div",{style:{marginTop:8},children:"Upload"})]})}),(0,e.jsx)(Z.Z,{open:se,title:de,footer:null,onCancel:function(){return S(!1)},children:(0,e.jsx)("img",{alt:"example",style:{width:"100%"},src:ie})}),v.length>0?(0,e.jsx)(f.Z,{danger:!0,type:"text",onClick:function(){return K([])},children:"Delete"}):null]})})}),(0,e.jsx)(s.Z,{span:12,children:(0,e.jsx)(i.Z,{children:"Role"})}),(0,e.jsx)(s.Z,{span:12,children:(0,e.jsx)(t.Z.Item,{name:"role_id",rules:[{required:!0,message:"Please select role!"}],requiredMark:"optional",children:(0,e.jsx)(X.Z,{placeholder:"Select Role",className:"not-rounded",options:[{label:"Admin",value:1},{label:"Finance",value:4},{label:"Technician",value:5}]})})}),(0,e.jsx)(s.Z,{offset:16,children:(0,e.jsxs)(A.Z,{children:[(0,e.jsx)(t.Z.Item,{children:(0,e.jsx)(f.Z,{type:"primary",htmlType:"submit",children:"Save"})}),(0,e.jsx)(t.Z.Item,{children:(0,e.jsx)(f.Z,{type:"default",htmlType:"button",children:"Cancel"})})]})})]})})})]})};p.default=ee}}]);
