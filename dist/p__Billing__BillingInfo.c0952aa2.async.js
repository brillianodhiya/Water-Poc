"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[6251],{63694:function(re,W,r){r.r(W),r.d(W,{default:function(){return xe}});var G=r(12741),b=r.n(G),K=r(5200),B=r.n(K),Y=r(97983),Z=r.n(Y),A=r(40794),S=r.n(A),L=r(38402),M=r(23349),R=r(71577),E=r(26713),O=r(58492),l=r(21802),F=r(11382),y=r(27049),v=r(71230),a=r(15746),o=r(20550),c=r(24093),le=r(30381),_=r.n(le),Se=r(29218),D=r(67294),ae=r(84730),z=r(30028),ie=r(82826),te=r(30019),se=r(48689),de=r(41231),e=r(85893),oe=function(f){var i=f.data,h=function(p){return p==null?void 0:p.toLocaleString("id-ID",{style:"currency",currency:"IDR"})};return(0,e.jsxs)(v.Z,{gutter:[16,16],style:{maxWidth:700},children:[(0,e.jsx)(a.Z,{span:18,children:(0,e.jsx)(l.Z.Title,{level:4,children:"Sub Total"})}),(0,e.jsx)(a.Z,{span:6,children:(0,e.jsx)(l.Z.Title,{level:4,style:{textAlign:"right"},children:h(i==null?void 0:i.sub_total)})}),(0,e.jsx)(a.Z,{span:8,children:(0,e.jsx)(l.Z,{children:"Pajak (excluded)"})}),(0,e.jsx)(a.Z,{span:10,children:(0,e.jsxs)(l.Z,{children:[i==null?void 0:i.ppn,"%"]})}),(0,e.jsx)(a.Z,{span:6,style:{textAlign:"right"},children:(0,e.jsxs)(l.Z,{children:[h(i==null?void 0:i.ppn_value)," "]})}),(0,e.jsx)(a.Z,{span:8,children:(0,e.jsx)(l.Z,{children:"Materai"})}),(0,e.jsx)(a.Z,{span:10,children:(0,e.jsx)(l.Z,{children:h(i==null?void 0:i.materai)})}),(0,e.jsx)(a.Z,{span:6,children:(0,e.jsx)(l.Z,{style:{textAlign:"right"},children:h(i==null?void 0:i.materai)})}),(0,e.jsx)(a.Z,{span:18,children:(0,e.jsx)(l.Z,{children:"Biaya Transaksi"})}),(0,e.jsx)(a.Z,{span:6,children:(0,e.jsx)(l.Z,{style:{textAlign:"right"},children:h(i==null?void 0:i.biaya_transaksi)})}),(0,e.jsx)(y.Z,{style:{height:1,backgroundColor:"black",marginTop:0}}),(0,e.jsx)(a.Z,{span:18,children:(0,e.jsx)(l.Z.Title,{level:4,children:"Grand Total"})}),(0,e.jsx)(a.Z,{span:6,children:(0,e.jsx)(l.Z.Title,{level:4,style:{textAlign:"right"},children:h(i==null?void 0:i.grand_total)})})]})},ue=oe,U=r(80737),ce=r(14538),ve=r(69677),he=function(f){var i=U.Z.useForm(),h=b()(i,1),I=h[0],p=function(){},g=["john.doe@example.com","jane.doe@example.com","alex.smith@example.com","emily.nguyen@example.com","david.lee@example.com"];return(0,e.jsx)(ce.Z,{title:(0,e.jsxs)(l.Z,{style:{fontSize:16},children:["Send to Customers ",(0,e.jsx)("span",{style:{fontWeight:"bold"},children:f.title})]}),open:f.open,onOk:function(){},onCancel:function(){f.onCancel()},width:1200,children:(0,e.jsxs)(U.Z,{form:I,name:"add",onFinish:p,layout:"vertical",children:[(0,e.jsx)("div",{style:{padding:24,marginBottom:20,border:"1px solid  rgba(0, 0, 0, 0.06)"},children:(0,e.jsxs)(v.Z,{justify:"space-between",children:[(0,e.jsx)(a.Z,{xxl:14,sm:14,xs:24,children:(0,e.jsxs)(v.Z,{children:[(0,e.jsx)(a.Z,{span:4,children:(0,e.jsx)(l.Z,{children:"No Faktur"})}),(0,e.jsx)(a.Z,{span:20,children:(0,e.jsx)(l.Z,{style:{fontSize:16},children:": IKI.__DEV__.1658-INV-011122-1658G"})}),(0,e.jsx)(a.Z,{span:4,children:(0,e.jsx)(l.Z,{children:"Tanggal Faktur"})}),(0,e.jsx)(a.Z,{span:20,children:(0,e.jsx)(l.Z,{style:{fontSize:16,fontWeight:"bold"},children:": Nov 12 2020"})}),(0,e.jsx)(a.Z,{span:4,children:(0,e.jsx)(l.Z,{children:"Due Date"})}),(0,e.jsx)(a.Z,{span:20,children:(0,e.jsx)(l.Z,{style:{fontSize:16,fontWeight:"bold"},children:": Nov 12 2020"})}),(0,e.jsx)(a.Z,{span:4,children:(0,e.jsx)(l.Z,{children:"No eFaktur"})}),(0,e.jsx)(a.Z,{span:20,children:(0,e.jsx)(l.Z,{style:{fontSize:16,fontWeight:"bold"},children:": 0eee3ed8-2110-4d9c-b790-593bdb30d3b7"})})]})}),(0,e.jsxs)(a.Z,{xxl:10,sm:10,xs:24,children:[(0,e.jsx)(l.Z.Text,{strong:!0,children:"Catatan Invoice"}),(0,e.jsx)(l.Z.Paragraph,{style:{maxWidth:400},children:"Lorem ipsum dolor sit amet, vince adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco"})]})]})}),(0,e.jsxs)(v.Z,{gutter:[16,16],children:[(0,e.jsxs)(a.Z,{span:24,children:[(0,e.jsx)(l.Z,{children:"Email"}),(0,e.jsx)(v.Z,{style:{border:"1px solid rgba(0, 0, 0, 0.06)",padding:"24px 16px",marginTop:"20px"},gutter:[18,16],children:g.map(function(x){return(0,e.jsx)(a.Z,{children:(0,e.jsxs)(l.Z.Link,{style:{fontSize:16,border:"1px solid #91D5FF",padding:"4px 10px"},children:[x," ",(0,e.jsx)("span",{style:{color:" rgba(0, 0, 0, 0.45)"},children:"x"})]})},x)})})]}),(0,e.jsxs)(a.Z,{span:24,children:[(0,e.jsx)(l.Z,{children:"CC"}),(0,e.jsx)(v.Z,{style:{border:"1px solid rgba(0, 0, 0, 0.06)",padding:"24px 16px",marginTop:"20px"},gutter:[18,16],children:g.map(function(x){return(0,e.jsx)(a.Z,{children:(0,e.jsxs)(l.Z.Link,{style:{fontSize:16,border:"1px solid #91D5FF",padding:"4px 10px"},children:[x," ",(0,e.jsx)("span",{style:{color:" rgba(0, 0, 0, 0.45)"},children:"x"})]})})})})]}),(0,e.jsx)(a.Z,{span:24,children:(0,e.jsx)(U.Z.Item,{label:"Catatan Email",name:"email_note",rules:[{required:!0,message:"Please input Catatan Email!"}],requiredMark:"optional",children:(0,e.jsx)(ve.Z.TextArea,{placeholder:"Catatan Email"})})}),(0,e.jsx)(a.Z,{children:(0,e.jsx)(U.Z.Item,{label:"Attach Invoice (Hasil Generate Invoice)"})})]})]})})},ge=he,me=r(46293);_().locale("en");var T=M.Z.Column,V=function(){var $=S()(Z()().mark(function f(i){var h,I;return Z()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,fetch(i);case 2:return h=g.sent,g.next=5,h.blob();case 5:return I=g.sent,g.abrupt("return",new Promise(function(x){var P=new FileReader;P.readAsDataURL(I),P.onloadend=function(){var H=P.result;x(H)}}));case 7:case"end":return g.stop()}},f)}));return function(i){return $.apply(this,arguments)}}(),J=function(f){return f==null?void 0:f.toLocaleString("id-ID",{style:"currency",currency:"IDR"})},fe=function(f){var i,h,I,p,g;B()(f);var x=(0,z.useParams)(),P=x.id,H=D.useState({}),Q=b()(H,2),n=Q[0],pe=Q[1],je=D.useState(!1),X=b()(je,2),Ze=X[0],k=X[1],ye=D.useState(!1),w=b()(ye,2),Ie=w[0],be=w[1],Ee=D.useState(""),q=b()(Ee,2),De=q[0],Te=q[1],Ce=D.useState(""),ee=b()(Ce,2),Be=ee[0],Ae=ee[1];D.useEffect(function(){if(n.id){var m=function(){var u=S()(Z()().mark(function t(){var s,d,j,N;return Z()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,V(n==null||(s=n.Nebula_Area)===null||s===void 0?void 0:s.photo);case 2:return j=C.sent,C.next=5,V(n==null||(d=n.Nebula_Node_Type)===null||d===void 0?void 0:d.icon);case 5:N=C.sent,Ae(j),Te(N);case 8:case"end":return C.stop()}},t)}));return function(){return u.apply(this,arguments)}}();m()}},[n]);var Fe=function(){var m=S()(Z()().mark(function u(){var t;return Z()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return k(!0),d.next=3,(0,de.W)(P);case 3:t=d.sent,console.log(t,"data billing"),k(!1),t.error||pe(t.data);case 7:case"end":return d.stop()}},u)}));return function(){return m.apply(this,arguments)}}();D.useEffect(function(){Fe()},[P]);var Pe=function(){var u,t=(u=document.getElementById("invoice"))!==null&&u!==void 0?u:document.createElement("div");(0,me.rT)(t,{pixelRatio:1}).then(function(s){var d=new ae.ZP("p","px","a4"),j=d.getImageProperties(s),N=d.internal.pageSize.getWidth(),ne=j.height*N/j.width;d.addImage(s,"PNG",0,0,N,ne),d.save("".concat(n==null?void 0:n.invoice,".pdf"))}).catch(function(s){console.log(s,"ERR")})};return(0,e.jsx)(L._z,{childrenContentStyle:{minHeight:"70vh"},title:(0,e.jsx)(R.Z,{type:"link",onClick:function(){return z.history.push("/billing")},size:"large",children:(0,e.jsxs)(E.Z,{style:{cursor:"pointer"},align:"start",size:"large",children:[(0,e.jsx)(ie.Z,{onClick:function(){return z.history.push("/billing")},style:{marginTop:"12px",fontSize:"24px",color:"#000"}}),(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"column",textAlign:"left"},children:[(0,e.jsxs)(O.Z,{children:[(0,e.jsx)(O.Z.Item,{children:"Billing and Invoice"}),(0,e.jsx)(O.Z.Item,{href:"#",children:"Invoice"})]}),(0,e.jsx)(l.Z.Title,{level:5,children:"Invoice"})]})]})}),children:(0,e.jsxs)(F.Z,{spinning:Ze,children:[(0,e.jsxs)(z.Helmet,{children:[(0,e.jsx)("title",{children:"AAT | Detail Billing "}),(0,e.jsx)("link",{rel:"icon",href:"https://aetratangerang.co.id/wp-content/uploads/2020/07/cropped-favicon-192x192.png",type:"image/x-icon"})]}),(0,e.jsx)(ge,{title:n==null||(i=n.Nebula_Area)===null||i===void 0?void 0:i.area_name,open:Ie,onOk:function(){},onCancel:function(){be(!1)}}),(0,e.jsx)(y.Z,{style:{marginTop:0}}),(0,e.jsxs)(v.Z,{justify:"space-between",children:[(0,e.jsx)(a.Z,{children:(0,e.jsx)(E.Z,{children:(0,e.jsx)(R.Z,{onClick:Pe,icon:(0,e.jsx)(te.Z,{}),children:"Print"})})}),(0,e.jsx)(a.Z,{children:(0,e.jsx)(R.Z,{danger:!0,icon:(0,e.jsx)(se.Z,{}),children:"Cancel Billing"})})]}),(0,e.jsx)(y.Z,{style:{backgroundColor:"#1890FF",height:2}}),(0,e.jsxs)("div",{id:"invoice",style:{padding:20},children:[(0,e.jsx)(v.Z,{wrap:!0,justify:"space-between",style:{width:"100%"},children:(0,e.jsx)(a.Z,{span:24,children:(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:"12px"},children:[(0,e.jsx)("img",{width:114,alt:n==null||(h=n.Nebula_Area)===null||h===void 0?void 0:h.area_name,src:Be}),(0,e.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start"},children:(0,e.jsx)(l.Z.Title,{level:3,style:{width:200},children:n==null||(I=n.Nebula_Area)===null||I===void 0?void 0:I.area_name})})]})})}),(0,e.jsxs)(v.Z,{justify:"space-between",style:{background:"linear-gradient(285.34deg, #4776E6 0%, #8E54E9 98.2%)",borderRadius:"16px",margin:"20px 0px",padding:24},children:[(0,e.jsxs)(a.Z,{children:[(0,e.jsx)(o.Z,{color:"#E6F7FF",style:{color:"#1890FF",borderRadius:100},children:"Draft Invoice"}),(0,e.jsx)(l.Z,{style:{fontSize:16,color:"#ffffff",marginTop:"14px"},children:"Invoice Number"}),(0,e.jsx)(l.Z,{style:{color:"#ffffff",fontWeight:500},children:n==null?void 0:n.invoice}),(0,e.jsxs)(E.Z,{children:[(0,e.jsx)(l.Z,{style:{color:"#ffffff"},children:"Invoice Date :"}),(0,e.jsx)(l.Z,{style:{color:"#ffffff",fontWeight:500},children:_()(n==null?void 0:n.cut_date).format("MMM DD YYYY")})]})]}),(0,e.jsxs)(a.Z,{style:{textAlign:"right"},children:[(0,e.jsx)(o.Z,{color:(n==null?void 0:n.status)==="new"?"cyan":(n==null?void 0:n.status)==="paid"?"green":(n==null?void 0:n.status)==="unpaid"?"orange":(n==null?void 0:n.status)==="cancel"?"red":"cyan",style:{borderRadius:100,border:"1px solid #ffffff",textTransform:"capitalize"},children:n==null?void 0:n.status}),(0,e.jsx)(l.Z,{style:{fontSize:16,color:"#FFFFFF"},children:"Billed to"}),(0,e.jsx)(l.Z,{style:{fontSize:28,color:"#FFFFFF"},children:n==null||(p=n.Nebula_Tenant)===null||p===void 0?void 0:p.name}),(0,e.jsx)(l.Z,{style:{maxWidth:312,color:"#ffffff"},children:n==null||(g=n.Nebula_Tenant)===null||g===void 0?void 0:g.address})]})]}),(0,e.jsx)(l.Z.Title,{level:4,children:"Bill for this month"}),(0,e.jsxs)(M.Z,{dataSource:[n,{},n,n,n],pagination:!1,size:"middle",scroll:{x:1200},children:[(0,e.jsx)(T,{title:"Month",dataIndex:"periode",render:function(u,t,s){return s==0?_()(u).format("MMMM YYYY"):""}},"month"),(0,e.jsx)(T,{title:"Type",dataIndex:"Nebula_Node_Type",render:function(u,t,s){return s==0?(0,e.jsxs)(E.Z,{children:[(0,e.jsx)(c.C,{src:De,alt:"icon-type"}),(0,e.jsx)(l.Z,{children:u==null?void 0:u.name})]}):""}},"Nebula_Node_Type"),(0,e.jsx)(T,{title:"Usage (m3)",dataIndex:"usage",render:function(u,t,s){return s==0?u:""}},"usage"),(0,e.jsx)(T,{title:"Minimum Usage",dataIndex:"min_usage_value",render:function(u,t,s){return s==0?u:""}},"min_usage_value"),(0,e.jsx)(T,{align:"right",title:"Total Usage (m3)",dataIndex:"billing_usage",width:250,render:function(u,t,s){if(s==0)return u;if(s==1)return(0,e.jsx)(l.Z,{style:{textAlign:"left"},children:"Tiered pricing"});var d=s-1,j=" < ";return d==1?j=" < ":(d==2||d==3)&&(j=" >= "),(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[(0,e.jsxs)(l.Z,{style:{textAlign:"right",width:"30px"},children:[j,t==null?void 0:t["parameter_".concat(d)]]}),(0,e.jsx)(l.Z,{children:t==null?void 0:t["usage_parameter_".concat(d)]})]})}},"total_usage"),(0,e.jsx)(T,{title:"Price",dataIndex:"price",align:"right",render:function(u,t,s){if(s==0)return"";var d=s-1;return J(t==null?void 0:t["price_parameter_".concat(d)])}},"price"),(0,e.jsx)(T,{title:"Total",dataIndex:"total",align:"right",render:function(u,t,s){if(s==0)return"";var d=s-1;return J(t==null?void 0:t["amount_parameter_".concat(d)])}},"total")]}),(0,e.jsxs)(v.Z,{gutter:[16,16],justify:"space-between",style:{marginTop:40},children:[(0,e.jsx)(a.Z,{span:10}),(0,e.jsx)(a.Z,{children:(0,e.jsx)(ue,{data:n})})]})]})]})})},xe=fe},41231:function(re,W,r){r.d(W,{W:function(){return O},t:function(){return R}});var G=r(11281),b=r.n(G),K=r(97983),B=r.n(K),Y=r(40794),Z=r.n(Y),A=r(12461),S=r(9669),L=r.n(S),M=r(9212);function R(l){return E.apply(this,arguments)}function E(){return E=Z()(B()().mark(function l(F){var y,v;return B()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,M.Z.get("/billing",b()({method:"GET"},F||{}));case 3:return y=o.sent,v=y.data,o.abrupt("return",{data:v.data,error:!1,message:"Success Get",responseCode:v.responseCode});case 8:if(o.prev=8,o.t0=o.catch(0),!L().isAxiosError(o.t0)){o.next=16;break}return console.log("error message: ",o.t0.message),A.ZP.error(o.t0.message),o.abrupt("return",{data:null,error:!0,message:o.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",o.t0),A.ZP.error("An unexpected error occurred"),o.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return o.stop()}},l,null,[[0,8]])})),E.apply(this,arguments)}var O=function(){var l=Z()(B()().mark(function F(y){var v,a;return B()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,M.Z.get("/billing/"+y,{method:"GET"});case 3:return v=c.sent,a=v.data,c.abrupt("return",{data:a.data,error:!1,message:"Success Get",responseCode:a.responseCode});case 8:if(c.prev=8,c.t0=c.catch(0),!L().isAxiosError(c.t0)){c.next=16;break}return console.log("error message: ",c.t0.message),A.ZP.error(c.t0.message),c.abrupt("return",{data:null,error:!0,message:c.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",c.t0),A.ZP.error("An unexpected error occurred"),c.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return c.stop()}},F,null,[[0,8]])}));return function(y){return l.apply(this,arguments)}}()}}]);
