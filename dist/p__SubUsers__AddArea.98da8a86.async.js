"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9175],{3814:function(ee,I,n){n.r(I);var M=n(97983),o=n.n(M),W=n(40794),R=n.n(W),g=n(12741),P=n.n(g),U=n(5200),B=n.n(U),c=n(98435),i=n(87806),r=n(82826),a=n(24969),u=n(38402),D=n(30028),_=n(80737),x=n(14538),j=n(71577),f=n(26713),h=n(58492),l=n(21802),K=n(27049),C=n(11382),S=n(71230),s=n(15746),Z=n(69677),d=n(78116),F=n(40038),p=n(67294),y=n(64593),e=n(85893),b=function(N){return new Promise(function(z,G){var O=new FileReader;O.readAsDataURL(N),O.onload=function(){return z(O.result)},O.onerror=function(w){return G(w)}})},$=function(N){B()(N);var z=_.Z.useForm(),G=P()(z,1),O=G[0],w=p.useState([]),H=P()(w,2),L=H[0],J=H[1],te=(0,p.useState)(!1),Q=P()(te,2),re=Q[0],V=Q[1],ae=p.useState(!1),X=P()(ae,2),se=X[0],Y=X[1],ie=(0,p.useState)(""),k=P()(ie,2),le=k[0],oe=k[1],_e=(0,p.useState)(""),q=P()(_e,2),de=q[0],ce=q[1],ue=function(E){var t=E.fileList;return J(t)},me=function(){var m=R()(o()().mark(function E(t){return o()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(!(!t.url&&!t.preview)){v.next=4;break}return v.next=3,b(t.originFileObj);case 3:t.preview=v.sent;case 4:oe(t.url||t.preview),V(!0),ce(t.name||t.url.substring(t.url.lastIndexOf("/")+1));case 7:case"end":return v.stop()}},E)}));return function(t){return m.apply(this,arguments)}}(),he=function(){var m=R()(o()().mark(function E(t){var T;return o()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return console.log(t),Y(!0),A.next=4,(0,i.lR)({name:t.name,phone:t.phone,email:t.email,role_id:t.role_id,password:"12345",image:L[0].originFileObj,area_id:t.area_id});case 4:T=A.sent,Y(!1),T.error?x.Z.error({content:T.message}):x.Z.success({content:T.message,onOk:function(){D.history.push("/users/area")}});case 7:case"end":return A.stop()}},E)}));return function(t){return m.apply(this,arguments)}}();return(0,e.jsxs)(u._z,{breadcrumb:void 0,title:(0,e.jsx)(j.Z,{type:"link",onClick:function(){return D.history.back()},size:"large",children:(0,e.jsxs)(f.Z,{style:{cursor:"pointer"},align:"start",size:"large",children:[(0,e.jsx)(r.Z,{onClick:function(){return D.history.back()},style:{marginTop:"12px",fontSize:"24px",color:"#000"}}),(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"column",textAlign:"left"},children:[(0,e.jsxs)(h.Z,{children:[(0,e.jsx)(h.Z.Item,{children:"User"}),(0,e.jsx)(h.Z.Item,{href:"#",children:"Add User Area"})]}),(0,e.jsx)(l.Z.Title,{level:5,children:"Add User"})]})]})}),style:{borderTop:"1px solid rgba(0, 0, 0, 0.06)"},children:[(0,e.jsxs)(y.q,{children:[(0,e.jsx)("meta",{charSet:"utf-8"}),(0,e.jsx)("title",{children:"AAT IoT Platform | User"}),(0,e.jsx)("link",{rel:"icon",href:"https://aetratangerang.co.id/wp-content/uploads/2020/07/cropped-favicon-192x192.png",type:"image/x-icon"})]}),(0,e.jsx)(K.Z,{style:{paddingTop:0,marginTop:0}}),(0,e.jsx)(C.Z,{spinning:se,children:(0,e.jsx)(_.Z,{form:O,name:"add-area",onFinish:he,style:{width:500,margin:"0px auto",paddingTop:20},children:(0,e.jsxs)(S.Z,{gutter:16,children:[(0,e.jsx)(s.Z,{span:12,children:(0,e.jsx)(l.Z,{children:"Area Name"})}),(0,e.jsx)(s.Z,{span:12,children:(0,e.jsx)(_.Z.Item,{name:"area_id",rules:[{required:!0,message:"Please input area name!"}],requiredMark:"optional",children:(0,e.jsx)(c.U,{onChange:function(){}})})}),(0,e.jsx)(s.Z,{span:12,children:(0,e.jsx)(l.Z,{children:"Full Name"})}),(0,e.jsx)(s.Z,{span:12,children:(0,e.jsx)(_.Z.Item,{name:"name",rules:[{required:!0,message:"Please input full name!"}],requiredMark:"optional",children:(0,e.jsx)(Z.Z,{placeholder:"Full Name"})})}),(0,e.jsx)(s.Z,{span:12,children:(0,e.jsx)(l.Z,{children:"Email"})}),(0,e.jsx)(s.Z,{span:12,children:(0,e.jsx)(_.Z.Item,{name:"email",rules:[{required:!0,message:"Please input email!",type:"email"}],requiredMark:"optional",children:(0,e.jsx)(Z.Z,{placeholder:"Email"})})}),(0,e.jsx)(s.Z,{span:12,children:(0,e.jsx)(l.Z,{children:"Phone"})}),(0,e.jsx)(s.Z,{span:12,children:(0,e.jsx)(_.Z.Item,{name:"phone",rules:[{required:!0,message:"Please input phone!"},{pattern:/^(\+62|62|0)8[1-9][0-9]{6,13}$/g,message:"Phone not valid!"}],requiredMark:"optional",children:(0,e.jsx)(Z.Z,{placeholder:"Phone"})})}),(0,e.jsx)(s.Z,{span:12,children:(0,e.jsx)(l.Z,{children:(0,e.jsxs)("div",{children:[(0,e.jsx)(l.Z,{style:{fontSize:16},children:"Photo"}),(0,e.jsx)(l.Z,{style:{fontSize:12,color:"#8C8C8C"},children:"This wil be displayed on profile."})]})})}),(0,e.jsx)(s.Z,{span:12,children:(0,e.jsx)(_.Z.Item,{style:{marginTop:"24px"},children:(0,e.jsxs)(f.Z,{children:[(0,e.jsx)(d.Z,{listType:"picture-card",fileList:L,customRequest:function(E){var t=E.onSuccess;t&&setTimeout(function(){t("ok")},0)},maxCount:1,multiple:!1,accept:"image/*",onChange:ue,onPreview:me,children:L.length>0?null:(0,e.jsxs)("div",{children:[(0,e.jsx)(a.Z,{}),(0,e.jsx)("div",{style:{marginTop:8},children:"Upload"})]})}),(0,e.jsx)(x.Z,{open:re,title:de,footer:null,onCancel:function(){return V(!1)},children:(0,e.jsx)("img",{alt:"example",style:{width:"100%"},src:le})}),L.length>0?(0,e.jsx)(j.Z,{danger:!0,type:"text",onClick:function(){return J([])},children:"Delete"}):null]})})}),(0,e.jsx)(s.Z,{span:12,children:(0,e.jsx)(l.Z,{children:"Role"})}),(0,e.jsx)(s.Z,{span:12,children:(0,e.jsx)(_.Z.Item,{name:"role_id",rules:[{required:!0,message:"Please select role!"}],requiredMark:"optional",children:(0,e.jsx)(F.Z,{placeholder:"Select Role",className:"not-rounded",options:[{label:"Admin",value:1},{label:"Finance",value:4},{label:"Technician",value:5}]})})}),(0,e.jsx)(s.Z,{offset:16,children:(0,e.jsxs)(f.Z,{children:[(0,e.jsx)(_.Z.Item,{children:(0,e.jsx)(j.Z,{type:"primary",htmlType:"submit",children:"Save"})}),(0,e.jsx)(_.Z.Item,{children:(0,e.jsx)(j.Z,{type:"default",htmlType:"button",children:"Cancel"})})]})})]})})})]})};I.default=$},27049:function(ee,I,n){var M=n(87462),o=n(4942),W=n(94184),R=n.n(W),g=n(67294),P=n(53124),U=function(c,i){var r={};for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&i.indexOf(a)<0&&(r[a]=c[a]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(c);u<a.length;u++)i.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(c,a[u])&&(r[a[u]]=c[a[u]]);return r},B=function(i){var r,a=g.useContext(P.E_),u=a.getPrefixCls,D=a.direction,_=i.prefixCls,x=i.type,j=x===void 0?"horizontal":x,f=i.orientation,h=f===void 0?"center":f,l=i.orientationMargin,K=i.className,C=i.children,S=i.dashed,s=i.plain,Z=U(i,["prefixCls","type","orientation","orientationMargin","className","children","dashed","plain"]),d=u("divider",_),F=h.length>0?"-".concat(h):h,p=!!C,y=h==="left"&&l!=null,e=h==="right"&&l!=null,b=R()(d,"".concat(d,"-").concat(j),(r={},(0,o.Z)(r,"".concat(d,"-with-text"),p),(0,o.Z)(r,"".concat(d,"-with-text").concat(F),p),(0,o.Z)(r,"".concat(d,"-dashed"),!!S),(0,o.Z)(r,"".concat(d,"-plain"),!!s),(0,o.Z)(r,"".concat(d,"-rtl"),D==="rtl"),(0,o.Z)(r,"".concat(d,"-no-default-orientation-margin-left"),y),(0,o.Z)(r,"".concat(d,"-no-default-orientation-margin-right"),e),r),K),$=(0,M.Z)((0,M.Z)({},y&&{marginLeft:l}),e&&{marginRight:l});return g.createElement("div",(0,M.Z)({className:b},Z,{role:"separator"}),C&&j!=="vertical"&&g.createElement("span",{className:"".concat(d,"-inner-text"),style:$},C))};I.Z=B}}]);
