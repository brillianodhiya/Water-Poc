"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9308],{32676:function(G,v,u){u.r(v);var O=u(97983),m=u.n(O),j=u(40794),_=u.n(j),b=u(12741),c=u.n(b),l=u(4745),T=u(68795),f=u(24969),g=u(87547),R=u(38402),E=u(30028),y=u(69677),D=u(71577),Z=u(27049),I=u(11382),L=u(71230),$=u(59652),U=u(26713),h=u(21802),C=u(24093),d=u(67294),a=u(85893),t=y.Z.Search,o=function(){var s=d.useState([]),r=c()(s,2),e=r[0],n=r[1],w=d.useState(!1),K=c()(w,2),z=K[0],B=K[1],F=d.useState(!1),W=c()(F,2),S=W[0],k=W[1],H=(0,E.useModel)("@@initialState"),N=H.initialState,J=N.currentUser,Q=function(A){A||B(!1)},V=function(){var p=_()(m()().mark(function A(){var M;return m()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return k(!0),P.next=3,(0,l.bg)({});case 3:M=P.sent,console.log(M),k(!1),M.error||n(M.data);case 7:case"end":return P.stop()}},A)}));return function(){return p.apply(this,arguments)}}();return d.useEffect(function(){V()},[]),(0,a.jsxs)(R._z,{childrenContentStyle:{minHeight:"70vh"},title:"Area Management",content:"Management area setting, device and more.",extra:(0,a.jsxs)(a.Fragment,{children:[z?(0,a.jsx)(t,{onSearch:Q,style:{width:200},className:"search-rounded",allowClear:!0}):(0,a.jsx)(D.Z,{shape:"circle",icon:(0,a.jsx)(T.Z,{}),onClick:function(){B(!0)}}),J.role!="area"?(0,a.jsxs)(D.Z,{shape:"round",onClick:function(){E.history.push("/area/create")},children:[(0,a.jsx)(f.Z,{})," Create Area"]}):(0,a.jsx)(a.Fragment,{})]}),children:[(0,a.jsx)(Z.Z,{}),(0,a.jsx)(I.Z,{spinning:S,children:(0,a.jsx)(L.Z,{children:e.map(function(p){return(0,a.jsxs)($.Z,{loading:S,className:"ant-col ant-col-xs-24\r ant-col-sm-12 ant-col-md-12 ant-col-lg-8 ant-col-xl-8 ant-col-xxl-8 card-hover",onClick:function(){return E.history.push("/area/info",{area_id:p.id})},style:{cursor:"pointer"},actions:[(0,a.jsxs)(U.Z,{style:{cursor:"pointer",float:"left",paddingLeft:20},onClick:function(){return E.history.push("/area/info",{area_id:p.id})},children:[(0,a.jsx)(g.Z,{color:"#8C8C8C"}),(0,a.jsx)(h.Z.Text,{children:p.pic_name})]},p.id)],children:[(0,a.jsxs)(U.Z,{align:"center",children:[p.photo&&p.photo!==""?(0,a.jsx)(C.C,{src:p.photo,size:48}):(0,a.jsx)(C.C,{icon:(0,a.jsx)(g.Z,{}),size:48}),(0,a.jsx)(h.Z.Text,{strong:!0,children:p.area_name})]}),(0,a.jsx)(h.Z.Paragraph,{type:"secondary",style:{paddingTop:15,minHeight:70},children:p.address})]},p.id)})})})]})};v.default=o},4745:function(G,v,u){u.d(v,{K7:function(){return C},OO:function(){return D},Ug:function(){return L},_J:function(){return Z},bg:function(){return R},if:function(){return $},yz:function(){return y}});var O=u(11281),m=u.n(O),j=u(97983),_=u.n(j),b=u(40794),c=u.n(b),l=u(12461),T=u(9669),f=u.n(T),g=u(9212);function R(d){return E.apply(this,arguments)}function E(){return E=c()(_()().mark(function d(a){var t,o;return _()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,g.Z.get("/area",m()({method:"GET"},a||{}));case 3:return t=s.sent,o=t.data,s.abrupt("return",{data:o.data,error:!1,message:"Success Get",responseCode:o.responseCode});case 8:if(s.prev=8,s.t0=s.catch(0),!f().isAxiosError(s.t0)){s.next=16;break}return console.log("error message: ",s.t0.message),l.ZP.error(s.t0.message),s.abrupt("return",{data:null,error:!0,message:s.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",s.t0),l.ZP.error("An unexpected error occurred"),s.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return s.stop()}},d,null,[[0,8]])})),E.apply(this,arguments)}var y=function(){var d=c()(_()().mark(function a(t){var o,i;return _()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,g.Z.get("/area/detail/".concat(t),{method:"GET"});case 3:return o=r.sent,i=o.data,r.abrupt("return",{data:i.data,error:!1,message:"Success Get",responseCode:i.responseCode});case 8:if(r.prev=8,r.t0=r.catch(0),!f().isAxiosError(r.t0)){r.next=16;break}return console.log("error message: ",r.t0.message),l.ZP.error(r.t0.message),r.abrupt("return",{data:null,error:!0,message:r.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",r.t0),l.ZP.error("An unexpected error occurred"),r.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return r.stop()}},a,null,[[0,8]])}));return function(t){return d.apply(this,arguments)}}(),D=function(){var d=c()(_()().mark(function a(t){var o,i,s;return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Z.post("/area",{company_name:t.company_name,area_name:t.area_name,pic_name:t.pic_name,billing_address:t.billing_address,image:t.image,phone:t.phone,email_pic:t.email_pic,email_pic_admin:t.email_pic_admin,address:t.address,latitude:t.latitude,longitude:t.longitude},{headers:{"Content-Type":"multipart/form-data"}});case 3:return o=e.sent,i=o.data,e.abrupt("return",m()(m()({},i),{},{status:"ok",error:!1}));case 8:if(e.prev=8,e.t0=e.catch(0),!f().isAxiosError(e.t0)){e.next=17;break}return console.log("error message: ",e.t0.message),s=e.t0.response,s.data.message?l.ZP.error(s.data.message):l.ZP.error(e.t0.message),e.abrupt("return",{responseCode:400,message:e.t0.message,error:!0});case 17:return console.log("unexpected error: ",e.t0),l.ZP.error("An unexpected error occured"),e.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return e.stop()}},a,null,[[0,8]])}));return function(t){return d.apply(this,arguments)}}(),Z=function(){var d=c()(_()().mark(function a(t,o){var i,s,r;return _()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.Z.post("/area/setting/"+o,m()({},t));case 3:return i=n.sent,s=i.data,n.abrupt("return",m()(m()({},s),{},{status:"ok",error:!1}));case 8:if(n.prev=8,n.t0=n.catch(0),!f().isAxiosError(n.t0)){n.next=17;break}return console.log("error message: ",n.t0.message),r=n.t0.response,r.data.message?l.ZP.error(r.data.message):l.ZP.error(n.t0.message),n.abrupt("return",{responseCode:400,message:n.t0.message,error:!0});case 17:return console.log("unexpected error: ",n.t0),l.ZP.error("An unexpected error occured"),n.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return n.stop()}},a,null,[[0,8]])}));return function(t,o){return d.apply(this,arguments)}}(),I=null,L=function(){var d=c()(_()().mark(function a(t,o){var i,s,r;return _()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.Z.put("/area/"+o,t);case 3:return i=n.sent,s=i.data,n.abrupt("return",m()(m()({},s),{},{status:"ok",error:!1}));case 8:if(n.prev=8,n.t0=n.catch(0),!f().isAxiosError(n.t0)){n.next=17;break}return console.log("error message: ",n.t0.message),r=n.t0.response,r.data.message?l.ZP.error(r.data.message):l.ZP.error(n.t0.message),n.abrupt("return",{responseCode:400,message:n.t0.message,error:!0});case 17:return console.log("unexpected error: ",n.t0),l.ZP.error("An unexpected error occured"),n.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return n.stop()}},a,null,[[0,8]])}));return function(t,o){return d.apply(this,arguments)}}(),$=function(){var d=c()(_()().mark(function a(t){var o,i,s;return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Z.post("/area/create/member",{name:t.member_name,area_id:t.area_id});case 3:return o=e.sent,i=o.data,e.abrupt("return",m()(m()({},i),{},{status:"ok",error:!1}));case 8:if(e.prev=8,e.t0=e.catch(0),!f().isAxiosError(e.t0)){e.next=17;break}return console.log("error message: ",e.t0.message),s=e.t0.response,s.data.message?l.ZP.error(s.data.message):l.ZP.error(e.t0.message),e.abrupt("return",{responseCode:400,message:e.t0.message,error:!0});case 17:return console.log("unexpected error: ",e.t0),l.ZP.error("An unexpected error occured"),e.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return e.stop()}},a,null,[[0,8]])}));return function(t){return d.apply(this,arguments)}}();function U(d,a){return h.apply(this,arguments)}function h(){return h=_asyncToGenerator(_regeneratorRuntime().mark(function d(a,t){var o,i;return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,api.get("/area/member/"+t,_objectSpread({method:"GET"},a||{}));case 3:return o=r.sent,i=o.data,r.abrupt("return",{data:i.data,error:!1,message:"Success Get",responseCode:i.responseCode});case 8:if(r.prev=8,r.t0=r.catch(0),!axios.isAxiosError(r.t0)){r.next=16;break}return console.log("error message: ",r.t0.message),message.error(r.t0.message),r.abrupt("return",{data:null,error:!0,message:r.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",r.t0),message.error("An unexpected error occurred"),r.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return r.stop()}},d,null,[[0,8]])})),h.apply(this,arguments)}var C=function(){var d=c()(_()().mark(function a(t){var o,i,s;return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Z.post("/area/pricing/member",t,{});case 3:return o=e.sent,i=o.data,e.abrupt("return",m()(m()({},i),{},{status:"ok",error:!1}));case 8:if(e.prev=8,e.t0=e.catch(0),!f().isAxiosError(e.t0)){e.next=17;break}return console.log("error message: ",e.t0.message),s=e.t0.response,s.data.message?l.ZP.error(s.data.message):l.ZP.error(e.t0.message),e.abrupt("return",{responseCode:400,message:e.t0.message,error:!0});case 17:return console.log("unexpected error: ",e.t0),l.ZP.error("An unexpected error occured"),e.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return e.stop()}},a,null,[[0,8]])}));return function(t){return d.apply(this,arguments)}}()}}]);
