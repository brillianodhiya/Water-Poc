"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8191],{86873:function(X,T,e){e.d(T,{B:function(){return E}});var M=e(97983),f=e.n(M),W=e(40794),C=e.n(W),I=e(52948),E=function(){var h=C()(f()().mark(function O(A,j){var v;return f()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return I.Z.setApiKey("AIzaSyAcli1qFFLWrhhlDhVUCWkAJqzEY6Cp9UI"),I.Z.setLanguage("en"),I.Z.setRegion("id"),g.next=5,I.Z.fromLatLng(A,j);case 5:return v=g.sent,g.next=8,v==null?void 0:v.results[0].formatted_address;case 8:return g.abrupt("return",g.sent);case 9:case"end":return g.stop()}},O)}));return function(A,j){return h.apply(this,arguments)}}()},72923:function(X,T,e){e.d(T,{Z:function(){return g}});var M=e(97983),f=e.n(M),W=e(40794),C=e.n(W),I=e(67294),E=e(37054),h=e(69677),O=e(21802),A=e(49288),j=e(20906),v=e(85893),b=h.Z.Search;function g(u){var d=u.center,l=d===void 0?{lat:-6.2,lng:106.816666}:d,r=u.onChange,s=r===void 0?function(n){}:r,_=(0,E.Db)({googleMapsApiKey:"AIzaSyAcli1qFFLWrhhlDhVUCWkAJqzEY6Cp9UI",libraries:["places"]}),m=_.isLoaded;return m?(0,v.jsx)(c,{c:l,onChange:s}):(0,v.jsx)("div",{children:"Loading..."})}function c(u){var d=u.c,l=d===void 0?{lat:-6.2,lng:106.816666}:d,r=u.onChange,s=r===void 0?function(m){}:r,_=(0,I.useMemo)(function(){return l},[l]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px",alignItems:"center",alignContent:"center"},children:[(0,v.jsx)(O.Z,{style:{fontSize:"14px",fontWeight:400,marginTop:"12px"},children:"Pin Location"}),(0,v.jsx)(a,{setSelected:s})]}),(0,v.jsx)(E.b6,{onRightClick:function(n){var o=n.latLng.lat(),p=n.latLng.lng();console.log(n,"E");try{s({lat:o,lng:p})}catch(i){}},zoom:16,center:_,mapContainerClassName:"map-container-gateway",children:(0,v.jsx)(E.Jx,{onDragEnd:function(n){var o=n.latLng.lat(),p=n.latLng.lng();try{s({lat:o,lng:p})}catch(i){}},draggable:!0,position:_})})]})}var a=function(d){var l=d.setSelected,r=(0,j.ZP)(),s=r.ready,_=r.value,m=r.setValue,n=r.suggestions,o=n.status,p=n.data,i=r.clearSuggestions,t=function(){var U=C()(f()().mark(function D(R){var $,F,B,N;return f()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return m(JSON.parse(R).description,!1),i(),S.next=4,(0,j.LM)({address:R});case 4:return $=S.sent,S.next=7,(0,j.WV)($[0]);case 7:F=S.sent,B=F.lat,N=F.lng,l({lat:B,lng:N});case 11:case"end":return S.stop()}},D)}));return function(R){return U.apply(this,arguments)}}(),z=p.map(function(U){var D=U.place_id,R=U.description;return{label:R,value:JSON.stringify({place_id:D,description:R})}});return(0,v.jsx)(A.Z,{options:z,style:{width:200},onSelect:t,value:_,children:(0,v.jsx)(b,{disabled:!s,value:_,onChange:function(D){return m(D.target.value)},placeholder:"Cari Lokasi",style:{width:200}})})}},56465:function(X,T,e){e.r(T);var M=e(97983),f=e.n(M),W=e(40794),C=e.n(W),I=e(12741),E=e.n(I),h=e(86873),O=e(72923),A=e(4745),j=e(82826),v=e(24969),b=e(38402),g=e(30028),c=e(80737),a=e(14538),u=e(71577),d=e(26713),l=e(58492),r=e(21802),s=e(11382),_=e(71230),m=e(15746),n=e(78116),o=e(69677),p=e(40038),i=e(67294),t=e(85893),z=function(R){return new Promise(function($,F){var B=new FileReader;B.readAsDataURL(R),B.onload=function(){return $(B.result)},B.onerror=function(N){return F(N)}})},U=function(){var R=c.Z.useForm(),$=E()(R,1),F=$[0],B=[],N=(0,i.useState)(!1),Q=E()(N,2),S=Q[0],V=Q[1],ne=(0,i.useState)(""),J=E()(ne,2),H=J[0],q=J[1],se=(0,i.useState)(""),ee=E()(se,2),oe=ee[0],L=ee[1],K=i.useState({lat:-6.2,lng:106.816666}),Z=E()(K,2),w=Z[0],k=Z[1],le=(0,g.useLocation)(),y=le.state,ce=i.useState([]),ue=E()(ce,2),te=ue[0],ie=ue[1],me=function(x){var P=x.fileList;return ie(P)},pe=i.useState(!1),de=E()(pe,2),ge=de[0],_e=de[1],fe=function(){var G=C()(f()().mark(function x(P){return f()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(!(!P.url&&!P.preview)){Y.next=4;break}return Y.next=3,z(P.originFileObj);case 3:P.preview=Y.sent;case 4:q(P.url||P.preview),V(!0),L(P.name||P.url.substring(P.url.lastIndexOf("/")+1));case 7:case"end":return Y.stop()}},x)}));return function(P){return G.apply(this,arguments)}}();console.log(y.dataEdit,"dataedot"),i.useEffect(function(){y.dataEdit&&(F.setFields([{name:"company_name",value:y.dataEdit.company_name},{name:"phone",value:y.dataEdit.phone.split(",")},{name:"pic_name",value:y.dataEdit.pic_name},{name:"billing_address",value:y.dataEdit.billing_address},{name:"area_name",value:y.dataEdit.area_name},{name:"email_pic",value:y.dataEdit.email_pic.split(",")},{name:"email_pic_admin",value:y.dataEdit.email_pic_admin.split(",")},{name:"address",value:y.dataEdit.address},{name:"latitude",value:y.dataEdit.latitude},{name:"longitude",value:y.dataEdit.longitude}]),k({lat:parseFloat(y.dataEdit.latitude),lng:parseFloat(y.dataEdit.longitude)}),ie([{uid:"1",name:"default logo",status:"done",url:y.dataEdit.photo}]))},[y.dataEdit]);var ve=function(){var G=C()(f()().mark(function x(P){var re;return f()().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return _e(!0),ae.next=3,(0,A.Ug)({company_name:P.company_name,billing_address:P.billing_address,image:te[0].originFileObj,phone:P.phone.join(","),email_pic:P.email_pic.join(","),email_pic_admin:P.email_pic_admin.join(","),address:P.address,latitude:P.latitude,longitude:P.longitude,area_name:P.area_name,pic_name:P.pic_name},y.dataEdit.id);case 3:re=ae.sent,_e(!1),re.error?a.Z.error({content:re.message}):a.Z.success({content:re.message,onOk:function(){g.history.push("/area/info",{area_id:y.dataEdit.id})}});case 6:case"end":return ae.stop()}},x)}));return function(P){return G.apply(this,arguments)}}();return(0,t.jsx)(b._z,{title:(0,t.jsx)(u.Z,{type:"link",onClick:function(){return g.history.push("/area/info",{area_id:y.dataEdit.id})},size:"large",children:(0,t.jsxs)(d.Z,{style:{cursor:"pointer"},align:"start",size:"large",children:[(0,t.jsx)(j.Z,{onClick:function(){return g.history.push("/area/info",{area_id:y.dataEdit.id})},style:{marginTop:"12px",fontSize:"24px",color:"#000"}}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",textAlign:"left"},children:[(0,t.jsxs)(l.Z,{children:[(0,t.jsx)(l.Z.Item,{children:"Area Management"}),(0,t.jsx)(l.Z.Item,{children:"Area"}),(0,t.jsx)(l.Z.Item,{href:"#",children:"Edit Area"})]}),(0,t.jsx)(r.Z.Title,{level:5,children:"Edit Area"})]})]})}),children:(0,t.jsx)(s.Z,{spinning:ge,children:(0,t.jsxs)(c.Z,{form:F,name:"add-area",onFinish:ve,layout:"vertical",children:[(0,t.jsxs)(_.Z,{style:{borderTop:"1px solid rgba(0, 0, 0, 0.06)",borderBottom:"1px solid rgba(0, 0, 0, 0.06)"},gutter:16,children:[(0,t.jsx)(m.Z,{span:24,children:(0,t.jsx)(c.Z.Item,{style:{marginTop:"24px"},children:(0,t.jsxs)(d.Z,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(r.Z,{style:{fontSize:16},children:"Photo"}),(0,t.jsx)(r.Z,{style:{fontSize:12,color:"#8C8C8C"},children:"This wil be displayed on profile."})]}),(0,t.jsx)(n.Z,{listType:"picture-card",fileList:te,customRequest:function(x){var P=x.onSuccess;P&&setTimeout(function(){P("ok")},0)},maxCount:1,multiple:!1,accept:"image/*",onChange:me,onPreview:fe,children:te.length>0?null:(0,t.jsxs)("div",{children:[(0,t.jsx)(v.Z,{}),(0,t.jsx)("div",{style:{marginTop:8},children:"Upload"})]})}),(0,t.jsx)(a.Z,{open:S,title:oe,footer:null,onCancel:function(){return V(!1)},children:(0,t.jsx)("img",{alt:"example",style:{width:"100%"},src:H})}),te.length>0?(0,t.jsx)(u.Z,{danger:!0,type:"text",onClick:function(){return ie([])},children:"Delete"}):null]})})}),(0,t.jsxs)(m.Z,{span:8,children:[(0,t.jsx)(c.Z.Item,{label:"Area Name",name:"area_name",rules:[{required:!0,message:"Please input area name!"}],requiredMark:"optional",children:(0,t.jsx)(o.Z,{placeholder:"Area Name"})}),(0,t.jsx)(c.Z.Item,{label:"PIC Name",name:"pic_name",rules:[{required:!0,message:"Please input pic name!"}],requiredMark:"optional",children:(0,t.jsx)(o.Z,{placeholder:"PIC Name"})}),(0,t.jsx)(c.Z.Item,{style:{marginTop:"24px"},label:"Phone",name:"phone",rules:[{required:!0,message:"Please input phone!"}],requiredMark:"optional",children:(0,t.jsx)(p.Z,{mode:"tags",style:{width:"100%"},tokenSeparators:[","],options:B,placeholder:"Phone",className:"not-rounded"})}),(0,t.jsx)(c.Z.Item,{style:{marginTop:"24px"},label:"Email",name:"email_pic",rules:[{required:!0,message:"Please input email!"}],requiredMark:"optional",children:(0,t.jsx)(p.Z,{className:"not-rounded",mode:"tags",style:{width:"100%"},tokenSeparators:[","],options:B,placeholder:"Email"})})]}),(0,t.jsxs)(m.Z,{span:8,children:[(0,t.jsx)(c.Z.Item,{label:"Email PIC Admin",name:"email_pic_admin",rules:[{required:!0,message:"Please input email pic admin!"}],requiredMark:"optional",children:(0,t.jsx)(p.Z,{mode:"tags",style:{width:"100%"},tokenSeparators:[","],options:B,placeholder:"Email PIC Admin",className:"not-rounded"})}),(0,t.jsx)(c.Z.Item,{style:{marginTop:"24px"},label:"Address",name:"address",rules:[{required:!0,message:"Please input Address!"}],requiredMark:"optional",children:(0,t.jsx)(o.Z.TextArea,{placeholder:"Address",rows:3})})]}),(0,t.jsxs)(m.Z,{span:8,children:[(0,t.jsx)(O.Z,{center:w,onChange:function(x){k(x),F.setFields([{name:"latitude",value:x.lat},{name:"longitude",value:x.lng}]),(0,h.B)(x.lat,x.lng).then(function(P){F.setFields([{name:"address",value:P}])})}}),(0,t.jsxs)(d.Z,{wrap:!0,size:"large",style:{marginTop:"16px"},children:[(0,t.jsx)(c.Z.Item,{requiredMark:"optional",name:"latitude",label:"Latitude",initialValue:"-6.290690",rules:[{required:!0,message:"Masukkan Latitude"}],hidden:!0,children:(0,t.jsx)(o.Z,{placeholder:"Latitude"})}),(0,t.jsx)(c.Z.Item,{requiredMark:"optional",name:"longitude",label:"Longitude",initialValue:"107.141853",rules:[{required:!0,message:"Masukkan Longitude"}],hidden:!0,children:(0,t.jsx)(o.Z,{placeholder:"Longitude"})})]})]})]}),(0,t.jsx)("div",{style:{marginTop:20,textAlign:"right"},children:(0,t.jsxs)(d.Z,{children:[(0,t.jsx)(c.Z.Item,{children:(0,t.jsx)(u.Z,{type:"default",onClick:function(){return g.history.back()},children:"Cancel"})}),(0,t.jsx)(c.Z.Item,{children:(0,t.jsx)(u.Z,{type:"primary",htmlType:"submit",children:"Submit"})})]})})]})})})};T.default=U},4745:function(X,T,e){e.d(T,{OO:function(){return c},Ug:function(){return d},_J:function(){return a},bg:function(){return v},yz:function(){return g}});var M=e(11281),f=e.n(M),W=e(97983),C=e.n(W),I=e(40794),E=e.n(I),h=e(12461),O=e(9669),A=e.n(O),j=e(9212);function v(l){return b.apply(this,arguments)}function b(){return b=E()(C()().mark(function l(r){var s,_;return C()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,j.Z.get("/area",f()({method:"GET"},r||{}));case 3:return s=n.sent,_=s.data,n.abrupt("return",{data:_.data,error:!1,message:"Success Get",responseCode:_.responseCode});case 8:if(n.prev=8,n.t0=n.catch(0),!A().isAxiosError(n.t0)){n.next=16;break}return console.log("error message: ",n.t0.message),h.ZP.error(n.t0.message),n.abrupt("return",{data:null,error:!0,message:n.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",n.t0),h.ZP.error("An unexpected error occurred"),n.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return n.stop()}},l,null,[[0,8]])})),b.apply(this,arguments)}var g=function(){var l=E()(C()().mark(function r(s){var _,m;return C()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,j.Z.get("/area/detail/".concat(s),{method:"GET"});case 3:return _=o.sent,m=_.data,o.abrupt("return",{data:m.data,error:!1,message:"Success Get",responseCode:m.responseCode});case 8:if(o.prev=8,o.t0=o.catch(0),!A().isAxiosError(o.t0)){o.next=16;break}return console.log("error message: ",o.t0.message),h.ZP.error(o.t0.message),o.abrupt("return",{data:null,error:!0,message:o.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",o.t0),h.ZP.error("An unexpected error occurred"),o.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return o.stop()}},r,null,[[0,8]])}));return function(s){return l.apply(this,arguments)}}(),c=function(){var l=E()(C()().mark(function r(s){var _,m,n;return C()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,p.next=3,j.Z.post("/area",{company_name:s.company_name,area_name:s.area_name,pic_name:s.pic_name,billing_address:s.billing_address,image:s.image,phone:s.phone,email_pic:s.email_pic,email_pic_admin:s.email_pic_admin,address:s.address,latitude:s.latitude,longitude:s.longitude},{headers:{"Content-Type":"multipart/form-data"}});case 3:return _=p.sent,m=_.data,p.abrupt("return",f()(f()({},m),{},{status:"ok",error:!1}));case 8:if(p.prev=8,p.t0=p.catch(0),!A().isAxiosError(p.t0)){p.next=17;break}return console.log("error message: ",p.t0.message),n=p.t0.response,n.data.message?h.ZP.error(n.data.message):h.ZP.error(p.t0.message),p.abrupt("return",{responseCode:400,message:p.t0.message,error:!0});case 17:return console.log("unexpected error: ",p.t0),h.ZP.error("An unexpected error occured"),p.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return p.stop()}},r,null,[[0,8]])}));return function(s){return l.apply(this,arguments)}}(),a=function(){var l=E()(C()().mark(function r(s,_){var m,n,o;return C()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,j.Z.post("/area/setting/"+_,f()({},s));case 3:return m=i.sent,n=m.data,i.abrupt("return",f()(f()({},n),{},{status:"ok",error:!1}));case 8:if(i.prev=8,i.t0=i.catch(0),!A().isAxiosError(i.t0)){i.next=17;break}return console.log("error message: ",i.t0.message),o=i.t0.response,o.data.message?h.ZP.error(o.data.message):h.ZP.error(i.t0.message),i.abrupt("return",{responseCode:400,message:i.t0.message,error:!0});case 17:return console.log("unexpected error: ",i.t0),h.ZP.error("An unexpected error occured"),i.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return i.stop()}},r,null,[[0,8]])}));return function(s,_){return l.apply(this,arguments)}}(),u=null,d=function(){var l=E()(C()().mark(function r(s,_){var m,n,o;return C()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,j.Z.put("/area/"+_,s);case 3:return m=i.sent,n=m.data,i.abrupt("return",f()(f()({},n),{},{status:"ok",error:!1}));case 8:if(i.prev=8,i.t0=i.catch(0),!A().isAxiosError(i.t0)){i.next=17;break}return console.log("error message: ",i.t0.message),o=i.t0.response,o.data.message?h.ZP.error(o.data.message):h.ZP.error(i.t0.message),i.abrupt("return",{responseCode:400,message:i.t0.message,error:!0});case 17:return console.log("unexpected error: ",i.t0),h.ZP.error("An unexpected error occured"),i.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return i.stop()}},r,null,[[0,8]])}));return function(s,_){return l.apply(this,arguments)}}()},49288:function(X,T,e){var M=e(87462),f=e(71002),W=e(97685),C=e(94184),I=e.n(C),E=e(50344),h=e(98423),O=e(67294),A=e(53124),j=e(40038),v=e(96159),b=j.Z.Option;function g(u){return u&&u.type&&(u.type.isSelectOption||u.type.isSelectOptGroup)}var c=function(d,l){var r=d.prefixCls,s=d.className,_=d.popupClassName,m=d.dropdownClassName,n=d.children,o=d.dataSource,p=(0,E.Z)(n),i;if(p.length===1&&(0,v.l$)(p[0])&&!g(p[0])){var t=(0,W.Z)(p,1);i=t[0]}var z=i?function(){return i}:void 0,U;return p.length&&g(p[0])?U=n:U=o?o.map(function(D){if((0,v.l$)(D))return D;switch((0,f.Z)(D)){case"string":return O.createElement(b,{key:D,value:D},D);case"object":{var R=D.value;return O.createElement(b,{key:R,value:R},D.text)}default:return}}):[],O.createElement(A.C,null,function(D){var R=D.getPrefixCls,$=R("select",r);return O.createElement(j.Z,(0,M.Z)({ref:l},(0,h.Z)(d,["dataSource"]),{prefixCls:$,popupClassName:_||m,className:I()("".concat($,"-auto-complete"),s),mode:j.Z.SECRET_COMBOBOX_MODE_DO_NOT_USE},{getInputElement:z}),U)})},a=O.forwardRef(c);a.Option=b,T.Z=a},52948:function(X,T,e){var M,f=e(13399);function W(a,u,d,l,r,s,_){try{var m=a[s](_),n=m.value}catch(o){return void d(o)}m.done?u(n):Promise.resolve(n).then(l,r)}function C(a){return function(){var u=this,d=arguments;return new Promise(function(l,r){var s=a.apply(u,d);function _(n){W(s,l,r,_,m,"next",n)}function m(n){W(s,l,r,_,m,"throw",n)}_(void 0)})}}M={value:!0},T.Z=void 0;var I=!1,E=null,h="en",O=null,A=null,j="https://maps.googleapis.com/maps/api/geocode/json";function v(a){var u=arguments.length>1&&arguments[1]!==void 0&&arguments[1];I&&(u?console.warn(a):console.log(a))}function b(a){return g.apply(this,arguments)}function g(){return(g=C(f.mark(function a(u){var d,l;return f.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(u).catch(function(){return Promise.reject(new Error("Error fetching data"))});case 2:return d=r.sent,r.next=5,d.json().catch(function(){return v("Error parsing server response"),Promise.reject(new Error("Error parsing server response"))});case 5:if((l=r.sent).status!=="OK"){r.next=9;break}return v(l),r.abrupt("return",l);case 9:return v("".concat(l.error_message,`.
Server returned status code `).concat(l.status),!0),r.abrupt("return",Promise.reject(new Error("".concat(l.error_message,`.
Server returned status code `).concat(l.status))));case 11:case"end":return r.stop()}},a)}))).apply(this,arguments)}var c={setApiKey:function(a){E=a},setLanguage:function(a){h=a},setRegion:function(a){O=a},setLocationType:function(a){A=a},enableDebug:function(){var a=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];I=a},fromLatLng:function(a,u,d,l,r,s){return C(f.mark(function _(){var m,n;return f.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(a&&u){o.next=3;break}return v("Provided coordinates are invalid",!0),o.abrupt("return",Promise.reject(new Error("Provided coordinates are invalid")));case 3:return m="".concat(a,",").concat(u),n="".concat(j,"?latlng=").concat(encodeURIComponent(m)),(d||E)&&(n+="&key=".concat(E=d||E)),(l||h)&&(n+="&language=".concat(h=l||h)),(r||O)&&(O=r||O,n+="&region=".concat(encodeURIComponent(O))),(s||A)&&(A=s||A,n+="&location_type=".concat(encodeURIComponent(A))),o.abrupt("return",b(n));case 9:case"end":return o.stop()}},_)}))()},fromAddress:function(a,u,d,l){return C(f.mark(function r(){var s;return f.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(a){_.next=3;break}return v("Provided address is invalid",!0),_.abrupt("return",Promise.reject(new Error("Provided address is invalid")));case 3:return s="".concat(j,"?address=").concat(encodeURIComponent(a)),(u||E)&&(s+="&key=".concat(E=u||E)),(d||h)&&(s+="&language=".concat(h=d||h)),(l||O)&&(O=l||O,s+="&region=".concat(encodeURIComponent(O))),_.abrupt("return",b(s));case 8:case"end":return _.stop()}},r)}))()}};T.Z=c},20906:function(X,T,e){e.d(T,{LM:function(){return O},WV:function(){return A},ZP:function(){return E}});var M=e(67294);function f(){return f=Object.assign||function(g){for(var c=1;c<arguments.length;c++){var a=arguments[c];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(g[u]=a[u])}return g},f.apply(this,arguments)}var W=function(g){var c=(0,M.useRef)(g);return c.current=g,c},C=function(g,c){var a;return function(){for(var u=this,d=arguments.length,l=new Array(d),r=0;r<d;r++)l[r]=arguments[r];a!==null&&(clearTimeout(a),a=null),a=setTimeout(function(){return g.apply(u,l)},c)}},I="\u{1F4A1} use-places-autocomplete: Google Maps Places API library must be loaded. See: https://github.com/wellyshen/use-places-autocomplete#load-the-library",E=function(c){var a=c===void 0?{}:c,u=a.requestOptions,d=a.debounce,l=d===void 0?200:d,r=a.cache,s=r===void 0?24*60*60:r,_=a.cacheKey,m=_===void 0?"upa":_,n=a.googleMaps,o=a.callbackName,p=a.defaultValue,i=p===void 0?"":p,t=a.initOnMount,z=t===void 0?!0:t,U=(0,M.useState)(!1),D=U[0],R=U[1],$=(0,M.useState)(i),F=$[0],B=$[1],N=(0,M.useState)({loading:!1,status:"",data:[]}),Q=N[0],S=N[1],V=(0,M.useRef)(),ne=W(u),J=W(n),H=(0,M.useCallback)(function(){var L;if(!V.current){var K=window,Z=K.google,w=J.current,k=(w==null?void 0:w.places)||(Z==null||(L=Z.maps)==null?void 0:L.places);if(!k){console.error(I);return}V.current=new k.AutocompleteService,R(!0)}},[J]),q=(0,M.useCallback)(function(){S({loading:!1,status:"",data:[]})},[]),se=(0,M.useCallback)(function(L){L===void 0&&(L=m);try{sessionStorage.removeItem(L)}catch(K){}},[m]),ee=(0,M.useCallback)(C(function(L){var K;if(!L){q();return}S(function(w){return f({},w,{loading:!0})});var Z={};try{Z=JSON.parse(sessionStorage.getItem(m)||"{}")}catch(w){}if(s&&(Z=Object.keys(Z).reduce(function(w,k){return Z[k].maxAge-Date.now()>=0&&(w[k]=Z[k]),w},{}),Z[L])){S({loading:!1,status:"OK",data:Z[L].data});return}(K=V.current)==null||K.getPlacePredictions(f({},ne.current,{input:L}),function(w,k){if(S({loading:!1,status:k,data:w||[]}),s&&k==="OK"){Z[L]={data:w,maxAge:Date.now()+s*1e3};try{sessionStorage.setItem(m,JSON.stringify(Z))}catch(le){}}})},l),[s,m,q,ne]),oe=(0,M.useCallback)(function(L,K){K===void 0&&(K=!0),B(L),V.current&&K&&ee(L)},[ee]);return(0,M.useEffect)(function(){if(!z)return function(){return null};var L=window,K=L.google;return!J.current&&!(K!=null&&K.maps)&&o?window[o]=H:H(),function(){window[o]&&delete window[o]}},[o,J,H,z]),{ready:D,value:F,suggestions:Q,setValue:oe,clearSuggestions:q,clearCache:se,init:H}},h="\u{1F4A1} use-places-autocomplete: Please provide an address when using getGeocode() with the componentRestrictions.",O=function(c){var a=new window.google.maps.Geocoder;return new Promise(function(u,d){a.geocode(c,function(l,r){r!=="OK"&&d(r),!c.address&&c.componentRestrictions&&(console.error(h),u(l)),u(l)})})},A=function(c){var a=c.geometry.location,u=a.lat,d=a.lng;return{lat:u(),lng:d()}},j=function(c,a){var u=c.address_components.find(function(d){var l=d.types;return l.includes("postal_code")});if(!!u)return a?u.short_name:u.long_name},v="\u{1F4A1} use-places-autocomplete: Please provide a place Id when using getDetails() either as a string or as part of an Autocomplete Prediction.",b=function(c){var a=new window.google.maps.places.PlacesService(document.createElement("div"));return c.placeId?new Promise(function(u,d){a.getDetails(c,function(l,r){r!=="OK"&&d(r),u(l)})}):(console.error(v),Promise.reject(v))}}}]);
