"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1492],{10551:function(Ee,me,r){r.r(me),r.d(me,{default:function(){return dr}});var fe=r(97983),f=r.n(fe),he=r(40794),_=r.n(he),xe=r(12741),p=r.n(xe),Z=r(99399),pe=r.n(Z),W=r(13448),k=r(11382),I=r(71230),d=r(15746),q=r(59652),ge=r(29924),h=r(21802),A=r(67294),Q=r(9212),C=r(80737),i=r(71577),E=r(79915),e=r(85893),l=function(x){var m=x.title,n=x.defaultData,z=x.typeId,K=x.is_member,U=x.member_id,g=x.getPricingPostpaid,T=x.disabled,N=x.area_id,w=x.loading,H=x.setLoading,v=A.useState(!1),B=p()(v,2),y=B[0],M=B[1],b=C.Z.useForm(),O=p()(b,1),$=O[0],te=function(j){console.log("Received values of form: ",j),y?(H(!0),(0,Q.Z)({url:"/area/setting/pricing",method:"POST",data:{is_member:K,type_id:z,parameter_1:j.parameter_1,price_1:j.price_1,parameter_2:j.parameter_2,price_2:j.price_2,parameter_3:j.parameter_3,price_3:j.price_3,member_id:U,area_id:N}}).then(function(L){g(),H(!1),M(!1)}).catch(function(L){W.Z.error({message:L.response.data.message})})):M(!0)},R=function(){$.setFields([{name:"parameter_1",value:n.parameter_1},{name:"parameter_2",value:n.parameter_2},{name:"parameter_3",value:n.parameter_3},{name:"price_1",value:n.price_1},{name:"price_2",value:n.price_2},{name:"price_3",value:n.price_3}])};return A.useEffect(function(){R()},[]),(0,e.jsx)(q.Z,{style:{borderRadius:"8px"},bodyStyle:{padding:"12px 16px"},children:(0,e.jsx)("div",{children:(0,e.jsx)(k.Z,{spinning:w,children:(0,e.jsx)(C.Z,{form:$,name:m,onFinish:te,layout:"vertical",children:(0,e.jsxs)(I.Z,{gutter:[16,16],children:[(0,e.jsx)(d.Z,{span:24,children:(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,e.jsx)(h.Z,{style:{fontSize:"18px",fontWeight:"bold",marginTop:"4px"},children:m}),T?null:(0,e.jsx)(i.Z,{type:"link",size:"large",htmlType:"submit",children:y?"Save":"Edit"})]})}),(0,e.jsxs)(d.Z,{span:8,children:[(0,e.jsx)(C.Z.Item,{label:"Parameter 1",name:"parameter_1",required:!0,children:(0,e.jsx)(E.Z,{placeholder:"Input",style:{width:"100%"},className:y?"":"edit-to-text",disabled:!y,addOnBefore:"<",onChange:function(j){return $.setFields([{name:"parameter_2",value:j}])}})}),(0,e.jsx)(C.Z.Item,{label:"Price",name:"price_1",required:!0,children:(0,e.jsx)(E.Z,{className:y?"":"edit-to-text",disabled:!y,placeholder:"Input",style:{width:"100%"}})})]}),(0,e.jsxs)(d.Z,{span:8,style:{borderLeft:"1px solid #0000000F",borderRight:"1px solid #0000000F"},children:[(0,e.jsx)(C.Z.Item,{label:"Parameter 2",name:"parameter_2",required:!0,children:(0,e.jsx)(E.Z,{placeholder:"Input",style:{width:"100%"},className:y?"":"edit-to-text",disabled:!y,addOnBefore:">=",onChange:function(j){return $.setFields([{name:"parameter_1",value:j}])}})}),(0,e.jsx)(C.Z.Item,{label:"Price",name:"price_2",required:!0,children:(0,e.jsx)(E.Z,{className:y?"":"edit-to-text",disabled:!y,placeholder:"Input",style:{width:"100%"}})})]}),(0,e.jsxs)(d.Z,{span:8,children:[(0,e.jsx)(C.Z.Item,{label:"Parameter 3",name:"parameter_3",required:!0,children:(0,e.jsx)(E.Z,{className:y?"":"edit-to-text",disabled:!y,addOnBefore:">=",placeholder:"Input",style:{width:"100%"}})}),(0,e.jsx)(C.Z.Item,{label:"Price",name:"price_3",required:!0,children:(0,e.jsx)(E.Z,{placeholder:"Input",style:{width:"100%"},className:y?"":"edit-to-text",disabled:!y})})]})]})})})})})},o=l;function a(ie){var x={},m=pe()(ie),n;try{for(m.s();!(n=m.n()).done;){var z=n.value,K=z.type_id,U=z.type_name,g=pe()(z.price_member),T;try{for(g.s();!(T=g.n()).done;){var N=T.value,w=N.id,H=N.name,v=N.price;x[w]?x[w].types.push({type_id:K,type_name:U,price:v}):x[w]={id:w,name:H,types:[{type_id:K,type_name:U,price:v}]}}}catch(B){g.e(B)}finally{g.f()}}}catch(B){m.e(B)}finally{m.f()}return Object.values(x)}var S=function(x){var m=x.dataArea,n=x.getData,z=x.loadingArea,K=A.useState(),U=p()(K,2),g=U[0],T=U[1],N=A.useState([]),w=p()(N,2),H=w[0],v=w[1],B=A.useState(!1),y=p()(B,2),M=y[0],b=y[1],O=A.useState([]),$=p()(O,2),te=$[0],R=$[1];A.useEffect(function(){m.Nebula_Area_Pricing_tiers&&m.Nebula_Area_members&&(v(m==null?void 0:m.Nebula_Area_Pricing_tiers),R(a(m==null?void 0:m.Nebula_Area_Pricing_tiers)),T(m.pricing_type))},[m]),console.log(te);var X=function(L){b(!0),(0,Q.Z)({url:"/area/pricing/type/"+m.id,method:"PUT",data:{pricing_type:L}}).then(function(){b(!1),T(L),n()}).catch(function(ce){W.Z.error({message:ce.response.data.message})})};return(0,e.jsx)("div",{style:{paddingBottom:"8em"},children:(0,e.jsx)(k.Z,{spinning:M||z,children:(0,e.jsxs)(I.Z,{gutter:[16,16],style:{marginTop:"24px"},children:[(0,e.jsx)(d.Z,{xl:10,xxl:8,lg:12,md:24,sm:24,xs:24,children:(0,e.jsx)(q.Z,{style:{borderRadius:"8px",border:g=="all"?"1px solid #1890ff":void 0},headStyle:{backgroundColor:g=="all"?"#1890ff":"#F0F0F0",borderTopLeftRadius:"8px",borderTopRightRadius:"8px"},title:(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,e.jsx)(ge.ZP,{onChange:function(L){return X(L.target.checked?"all":"member")},checked:g=="all"}),(0,e.jsx)(h.Z,{style:{color:g=="all"?"#fff":"#000"},children:"One Price For All Customer"})]}),bodyStyle:{background:"#F9F9F9",borderRadius:"8px"},children:(0,e.jsx)(I.Z,{gutter:[16,16],children:H.map(function(j){return(0,e.jsx)(d.Z,{xl:24,xxl:24,lg:24,md:24,sm:24,xs:24,children:(0,e.jsx)(o,{title:j.type_name,typeId:j.type_id,defaultData:j.price_all,is_member:g!="all",disabled:g!="all",getPricingPostpaid:n,area_id:m.id,loading:M,setLoading:b},j.type_name)},j.type_name)})})})}),(0,e.jsx)(d.Z,{xl:14,xxl:16,lg:12,md:24,sm:24,xs:24,children:(0,e.jsx)(q.Z,{style:{borderRadius:"8px",border:g=="member"?"1px solid #1890ff":void 0},headStyle:{backgroundColor:g=="member"?"#1890ff":"#F0F0F0",borderTopLeftRadius:"8px",borderTopRightRadius:"8px"},title:(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,e.jsx)(ge.ZP,{onChange:function(L){return X(L.target.checked?"member":"all")},checked:g!="all"}),(0,e.jsx)(h.Z,{style:{color:g=="member"?"#fff":"#000"},children:"Setting Price Member Level"})]}),bodyStyle:{background:"#F9F9F9",borderRadius:"8px"},children:(0,e.jsx)(I.Z,{gutter:[16,16],children:te.map(function(j){return(0,e.jsx)(d.Z,{span:24,children:(0,e.jsx)(q.Z,{style:{borderRadius:"8px",border:g=="member"?"1px solid #1890ff":void 0},headStyle:{backgroundColor:g=="member"?"#1890ff":"#F0F0F0",borderTopLeftRadius:"8px",borderTopRightRadius:"8px"},title:(0,e.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:(0,e.jsx)(h.Z,{style:{color:g=="member"?"#fff":"#000"},children:j.name})}),bodyStyle:{background:"#F9F9F9",borderRadius:"8px"},children:(0,e.jsx)(I.Z,{gutter:[16,16],children:j.types.map(function(L){return(0,e.jsx)(d.Z,{xl:12,xxl:12,lg:24,md:24,sm:24,xs:24,children:(0,e.jsx)(o,{title:L.type_name,typeId:L.type_id,defaultData:L.price,is_member:g!="all",disabled:g!="member",getPricingPostpaid:n,member_id:j.id,area_id:m.id,loading:M,setLoading:b},L.type_name)},L.type_name)})})})},j.id+j.name)})})})})]})})})},F=S,c=r(64129),s=r.n(c),t=r(11281),u=r.n(t),je=r(4745),Te=r(28530),Me=r(91714),Pe=r(14538),de=r(40038),G=r(26713),Oe=r(68351),Re=r(20550),Le=r(30381),Ce=r.n(Le),cr=r(29218);Ce().locale("en");var Ie=function(x){var m,n=x.dataArea,z=x.getData,K=x.loadingArea,U=A.useState(!1),g=p()(U,2),T=g[0],N=g[1],w=A.useState(n==null?void 0:n.cut_off_order),H=p()(w,2),v=H[0],B=H[1],y=A.useState(!1),M=p()(y,2),b=M[0],O=M[1],$=A.useState(n==null?void 0:n.Nebula_Areas_Cut_offs),te=p()($,2),R=te[0],X=te[1],j=C.Z.useForm(),L=p()(j,1),ce=L[0],ye=A.useState(!1),be=p()(ye,2),P=be[0],Y=be[1],ne=A.useState(!1),V=p()(ne,2),ee=V[0],Fe=V[1],le=Array.from({length:28});A.useEffect(function(){ce.setFields([{name:"ppn",value:n.ppn},{name:"min_charge_gas",value:n.min_charge_gas},{name:"min_charge_water",value:n.min_charge_water},{name:"min_charge_electrict_ct",value:n.min_charge_electrict_ct},{name:"min_charge_electrict_non_ct",value:n.min_charge_electrict_non_ct},{name:"stamp_number",value:n.stamp_number},{name:"stamp_date",value:n.stamp_date}]),X(n!=null&&n.Nebula_Areas_Cut_offs?n==null?void 0:n.Nebula_Areas_Cut_offs:[]),B(n!=null&&n.cut_off_order?n==null?void 0:n.cut_off_order:[])},[n]);var Ae=function(){var re=_()(f()().mark(function ae(oe){var D;return f()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return Fe(!0),J.next=3,(0,Te.sN)(n.id,oe);case 3:D=J.sent,Fe(!1),D.error||X(D.data);case 6:case"end":return J.stop()}},ae)}));return function(oe){return re.apply(this,arguments)}}(),ur=function(){var re=_()(f()().mark(function ae(oe){var D;return f()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return Y(!0),J.next=3,(0,je._J)(u()(u()({},oe),{},{cut_off:R,cut_off_order:v}),n.id);case 3:D=J.sent,Y(!1),D.error?Pe.Z.error({content:D.message}):Pe.Z.success({content:D.message,onOk:function(){O(!1),z()}});case 6:case"end":return J.stop()}},ae)}));return function(oe){return re.apply(this,arguments)}}();return(0,e.jsx)(q.Z,{style:{borderRadius:8,marginTop:"20px"},loading:P,children:(0,e.jsx)(C.Z,{name:"add-area",layout:"vertical",form:ce,onFinish:ur,children:(0,e.jsxs)(I.Z,{gutter:[16,16],justify:"space-between",children:[(0,e.jsxs)(d.Z,{xs:24,sm:24,md:12,lg:12,xl:12,xxl:12,children:[(0,e.jsxs)(I.Z,{justify:"space-between",children:[(0,e.jsx)(d.Z,{children:(0,e.jsx)(h.Z,{children:"Automatic Billing"})}),(0,e.jsx)(d.Z,{children:b?(0,e.jsxs)(de.Z,{value:v,onChange:function(ae){B(ae),Ae(ae)},className:"not-rounded",children:[(0,e.jsx)(de.Z.Option,{value:1,children:"Monthly 1"}),(0,e.jsx)(de.Z.Option,{value:2,children:"Monthly 2"}),(0,e.jsx)(de.Z.Option,{value:3,children:"Monthly 3"}),(0,e.jsx)(de.Z.Option,{value:4,children:"Monthly 4"})]}):(0,e.jsxs)(h.Z,{children:["Monthly ",n==null||(m=n.Nebula_Areas_Cut_offs)===null||m===void 0?void 0:m.length,"x"]})})]}),(0,e.jsx)(q.Z,{style:{marginTop:10,borderRadius:8},children:(0,e.jsx)(k.Z,{spinning:ee,children:(0,e.jsx)(I.Z,{gutter:[16,16],justify:"space-between",children:R==null?void 0:R.map(function(re,ae){return(0,e.jsx)(d.Z,{xs:12,sm:12,md:12,lg:12,xxl:12,children:(0,e.jsxs)(G.Z,{direction:"vertical",children:[(0,e.jsxs)(h.Z,{children:["Cutt Off Date ",ae+1,"x"]}),b?(0,e.jsxs)(G.Z,{children:[(0,e.jsx)(de.Z,{showSearch:!0,optionFilterProp:"children",filterOption:function(D,se){var J;return((J=se==null?void 0:se.children)!==null&&J!==void 0?J:"").toLowerCase().includes(D.toLowerCase())},className:"not-rounded",value:re.day,style:{width:"80px"},onChange:function(D){var se=s()(R);se[ae].day=D,X(se)},children:le==null?void 0:le.map(function(oe,D){return D<9?(0,e.jsx)(de.Z.Option,{value:"0"+(D+1).toString(),children:"0"+(D+1).toString()},1):(0,e.jsx)(de.Z.Option,{value:(D+1).toString(),children:(D+1).toString()},1)})}),(0,e.jsx)(Oe.Z,{className:"not-rounded",value:Ce()(re.time,"HH:mm:ss"),onChange:function(D){var se=s()(R);se[ae].time=D==null?void 0:D.format("HH:mm:ss"),X(se)},format:"HH:mm"})]}):(0,e.jsxs)(G.Z,{children:[(0,e.jsx)(Re.Z,{color:"#E6F7FF",style:{borderRadius:6,color:"#1890FF",padding:"0px 10px 0px 10px"},children:re.day}),(0,e.jsx)(Re.Z,{icon:(0,e.jsx)(Me.Z,{}),color:"#E6F7FF",style:{borderRadius:6,color:"#1890FF",padding:"0px 10px 0px 10px"},children:Ce()(re.time,"HH:mm:ss").format("HH:mm")})]})]})},re)})})})}),(0,e.jsxs)(I.Z,{gutter:[16,16],justify:"space-between",style:{paddingTop:20},wrap:!0,children:[(0,e.jsx)(d.Z,{span:20,children:(0,e.jsx)(h.Z,{children:"Min. Charge Water (M3)"})}),(0,e.jsx)(d.Z,{span:4,children:b?(0,e.jsx)(C.Z.Item,{name:"min_charge_water",requiredMark:"optional",noStyle:!0,initialValue:n.min_charge_water,rules:[{required:!0,message:"Please input Min Charge Water!"}],children:(0,e.jsx)(E.Z,{placeholder:"Min Charge Water"})}):(0,e.jsx)(h.Z,{children:n.min_charge_water})})]})]}),(0,e.jsx)(d.Z,{span:24,style:{textAlign:"right"},children:b?(0,e.jsx)(i.Z,{onClick:function(){ce.submit()},children:"Save"}):(0,e.jsx)(i.Z,{onClick:function(){return O(!0)},children:"Edit"})})]})})})},we=Ie,Be=r(12461),_e=r(69677),ke=r(62986),Ue=r(96486),ze=r.n(Ue),He=[{backgroundColor:"#E6F7FF",borderColor:"#91D5FF"},{backgroundColor:"#FFF1F0",borderColor:"#FFA39E"},{backgroundColor:"#F9F0FF",borderColor:"#D3ADF7"},{backgroundColor:"#E6FFFB",borderColor:"#87E8DE"},{backgroundColor:"#FFF7E6",borderColor:"#FFD591"},{backgroundColor:"#FCFFE6",borderColor:"#EAFF8F"},{backgroundColor:"#F6FFED",borderColor:"#B7EB8F"}],We=function(x){var m=x.dataArea,n=x.getData,z=x.loadingArea;console.log(m,"AREA");var K=A.useState(void 0),U=p()(K,2),g=U[0],T=U[1],N=A.useState(!1),w=p()(N,2),H=w[0],v=w[1],B=A.useState([]),y=p()(B,2),M=y[0],b=y[1],O=C.Z.useForm(),$=p()(O,1),te=$[0],R=A.useState([]),X=p()(R,2),j=X[0],L=X[1];console.log(m,"AREA");var ce=function(){var Y=[];m.Nebula_Area_members&&(m.Nebula_Area_members.map(function(ne){var V=ze().sample(He);Y.push(u()(u()({},ne),{},{backgroundColor:V==null?void 0:V.backgroundColor,borderColor:V==null?void 0:V.borderColor}))}),b(Y))};A.useEffect(function(){ce()},[m]);var ye=function(){var P=_()(f()().mark(function Y(){var ne;return f()().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(!(g!==""&&g!=null)){ee.next=7;break}return v(!0),ee.next=4,(0,je.if)({member_name:g,area_id:m.id});case 4:ne=ee.sent,v(!1),ne.error||(n(),T(""));case 7:case"end":return ee.stop()}},Y)}));return function(){return P.apply(this,arguments)}}(),be=function(){var P=_()(f()().mark(function Y(ne){var V,ee;return f()().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return console.log(ne,"VALUES"),V=[],Object.keys(ne[j[0]]).map(function(Ae){V.push({id:parseInt(Ae),name:ne[j[0]][Ae]})}),console.log(V,"ARR"),v(!1),le.next=7,(0,je.K7)(V);case 7:ee=le.sent,ee.error||(Be.ZP.success(ee.message),n(),L([]));case 9:case"end":return le.stop()}},Y)}));return function(ne){return P.apply(this,arguments)}}();return(0,e.jsx)("div",{style:{textAlign:"center"},children:(0,e.jsxs)(k.Z,{spinning:H||z,children:[(0,e.jsx)(h.Z.Title,{level:5,style:{textAlign:"center"},children:"Create Member Level"}),(0,e.jsxs)(G.Z.Compact,{style:{maxWidth:550},size:"large",children:[(0,e.jsx)(_e.Z,{placeholder:"Create Member Level",size:"large",style:{borderTopLeftRadius:"24px",borderBottomLeftRadius:"24px"},value:g,onChange:function(Y){return T(Y.target.value)},onPressEnter:ye}),(0,e.jsx)(i.Z,{type:"primary",className:"member-level-save",onClick:ye,children:"Save"})]}),(0,e.jsx)(C.Z,{size:"middle",form:te,layout:"vertical",onFinish:be,children:(0,e.jsx)(I.Z,{gutter:[24,24],style:{marginTop:20},children:M.length>0?M.map(function(P){return(0,e.jsx)(d.Z,{xs:24,sm:24,md:12,lg:6,xl:6,xxl:6,style:{},children:(0,e.jsx)("div",{style:{borderRadius:"2px",padding:"12px 16px",border:"1px solid ".concat(P==null?void 0:P.borderColor),backgroundColor:"".concat(P==null?void 0:P.backgroundColor),textAlign:"left"},children:(0,e.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:(0,e.jsx)(C.Z.Item,{name:[P.id.toString(),P.id.toString()],label:j.includes(P.id)?(0,e.jsx)(h.Z.Text,{type:"secondary",children:P.name}):null,initialValue:P.name,noStyle:!0,children:j.includes(P.id)?(0,e.jsx)(_e.Z,{placeholder:"Input"}):(0,e.jsx)(h.Z,{style:{marginTop:"6px"},children:P==null?void 0:P.name})},P.id.toString())})})},P)}):(0,e.jsx)(d.Z,{span:24,children:(0,e.jsx)(ke.Z,{})})})})]})})},Ge=We,Ke=r(16165),Ne=function(){return(0,e.jsxs)("svg",{width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,e.jsx)("g",{clipPath:"url(#clip0_171292_29290)",children:(0,e.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 14.4219V1.97748C0 0.99704 0.797333 0.199707 1.77778 0.199707H14.2222C15.2027 0.199707 16 0.99704 16 1.97748V14.4219C16 15.4024 15.2027 16.1997 14.2222 16.1997H1.77778C0.797333 16.1997 0 15.4024 0 14.4219ZM1.33333 1.53304V14.8664H14.6667V1.53304H1.33333ZM12.4444 8.19971H11.1111V5.0886H8V3.75526H12.4444V8.19971ZM4.88889 11.3108H8V12.6442H3.55556V8.19971H4.88889V11.3108Z",fill:"#1890FF"})}),(0,e.jsx)("defs",{children:(0,e.jsx)("clipPath",{id:"clip0_171292_29290",children:(0,e.jsx)("rect",{width:"16",height:"16",fill:"white",transform:"translate(0 0.199707)"})})})]})},Ve=function(x){return(0,e.jsx)(Ke.Z,u()({component:Ne},x))},Je=r(95971),Qe=r(24969),Xe=r(68795),ve=r(87547),$e=r(28548),ue=r(30028),Ze=r(24093),Ye=function(x){var m=x.area_id,n=A.useState([]),z=p()(n,2),K=z[0],U=z[1],g=A.useState([]),T=p()(g,2),N=T[0],w=T[1],H=A.useState(!1),v=p()(H,2),B=v[0],y=v[1],M=function(){var b=_()(f()().mark(function O(){var $;return f()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return y(!0),R.next=3,(0,Je.cH)({params:{area_id:m}});case 3:$=R.sent,console.log($,"data tenant"),y(!1),$.error||(U($.data),w($.data));case 7:case"end":return R.stop()}},O)}));return function(){return b.apply(this,arguments)}}();return A.useEffect(function(){M()},[]),(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(I.Z,{gutter:[8,20],children:[(0,e.jsx)(d.Z,{span:18,style:{paddingLeft:20,paddingTop:10},children:(0,e.jsxs)(h.Z.Text,{strong:!0,style:{fontSize:16},children:["List Tenant (",K.length,")"]})}),(0,e.jsx)(d.Z,{span:6,children:(0,e.jsx)(i.Z,{icon:(0,e.jsx)(Qe.Z,{}),type:"primary",shape:"round",size:"large",onClick:function(){return ue.history.push("/tenant/create",{area_id:m})},children:"Add"})}),(0,e.jsx)(d.Z,{span:24,style:{paddingLeft:20},children:(0,e.jsx)(_e.Z,{suffix:(0,e.jsx)(Xe.Z,{}),size:"large",style:{borderRadius:"20px"},placeholder:"Search Tenant Name",onChange:function(O){U(N.filter(function($){return $.name.toLowerCase().includes(O.target.value.toLowerCase())}))}})}),(0,e.jsx)(d.Z,{span:24,style:{paddingLeft:20,maxHeight:"70vh",overflow:"scroll"},children:K.length>0&&!B?K.map(function(b){return(0,e.jsx)(q.Z,{loading:B,bordered:!1,style:{marginBottom:8},bodyStyle:{backgroundColor:"#FAFAFA",padding:12},children:(0,e.jsxs)("div",{style:{cursor:"pointer",display:"flex",flexDirection:"row",gap:"24px",overflow:"visible"},onClick:function(){return ue.history.push("/area/tenant",{tenant_id:b.id,area_id:m})},children:[(0,e.jsx)("div",{children:b.logo&&b.logo!==""?(0,e.jsx)(Ze.C,{icon:(0,e.jsx)(ve.Z,{}),size:60,shape:"square",src:b.logo}):(0,e.jsx)(Ze.C,{icon:(0,e.jsx)(ve.Z,{}),size:60,shape:"square"})}),(0,e.jsx)("div",{style:{width:"100%",overflow:"visible"},children:(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"column",gap:"14px"},children:[(0,e.jsx)("div",{children:(0,e.jsx)(h.Z.Text,{style:{fontSize:16},children:b.name})}),(0,e.jsx)("div",{style:{width:"100%"},children:(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"},children:[(0,e.jsxs)(G.Z,{children:[(0,e.jsx)(ve.Z,{style:{color:"#1890FF"}}),(0,e.jsx)(h.Z,{children:b.pic_name})]}),(0,e.jsxs)(G.Z,{style:{float:"right"},children:[(0,e.jsx)($e.Z,{style:{color:"#1890FF"}}),(0,e.jsx)(h.Z,{children:b.phone})]})]})})]})})]})},b.id)}):null})]})})},qe=Ye,er=r(82826),rr=r(86548),ar=r(33862),De=r(88641),tr=r(25035),nr=r(38402),Se=r(58492),sr=r(84908),ir=r(95439),lr=r(64593),or=function(){var x=A.useState("Area Settings"),m=p()(x,2),n=m[0],z=m[1],K=(0,ue.useLocation)(),U=A.useState(!1),g=p()(U,2),T=g[0],N=g[1],w=A.useState([]),H=p()(w,2),v=H[0],B=H[1],y=K.state,M=function(){var b=_()(f()().mark(function O(){var $;return f()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return N(!0),R.next=3,(0,je.yz)(y==null?void 0:y.area_id);case 3:$=R.sent,N(!1),$.error||B($.data);case 6:case"end":return R.stop()}},O)}));return function(){return b.apply(this,arguments)}}();return A.useEffect(function(){y.area_id||ue.history.push("/area")},[y]),A.useEffect(function(){M()},[]),(0,e.jsxs)(nr._z,{childrenContentStyle:{minHeight:"70vh"},style:{backgroundColor:"white"},title:(0,e.jsx)(i.Z,{type:"link",onClick:function(){return ue.history.push("/area")},size:"large",children:(0,e.jsxs)(G.Z,{style:{cursor:"pointer"},align:"start",size:"large",children:[(0,e.jsx)(er.Z,{onClick:function(){return ue.history.push("/area")},style:{marginTop:"12px",fontSize:"24px",color:"#000"}}),(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"column",textAlign:"left"},children:[(0,e.jsxs)(Se.Z,{children:[(0,e.jsx)(Se.Z.Item,{children:"Area Management"}),(0,e.jsx)(Se.Z.Item,{href:"#",children:"Area"})]}),(0,e.jsx)(h.Z.Title,{level:5,children:"Detail Area"})]})]})}),children:[(0,e.jsxs)(lr.q,{children:[(0,e.jsx)("meta",{charSet:"utf-8"}),(0,e.jsx)("title",{children:"AAT IoT Platform | Detail Area "}),(0,e.jsx)("link",{rel:"icon",href:"https://aetratangerang.co.id/wp-content/uploads/2020/07/cropped-favicon-192x192.png",type:"image/x-icon"})]}),(0,e.jsxs)(I.Z,{gutter:[24,16],style:{borderTop:"1px solid rgba(0, 0, 0, 0.06)",paddingTop:20},children:[(0,e.jsxs)(d.Z,{xs:24,sm:24,md:24,lg:16,xl:18,xxl:18,children:[(0,e.jsx)(q.Z,{style:{borderRadius:8},loading:T,children:(0,e.jsxs)(I.Z,{gutter:[16,16],children:[(0,e.jsx)(d.Z,{xs:24,sm:24,md:24,lg:8,xl:6,xxl:4,children:v.photo&&v.photo!==""?(0,e.jsx)(Ze.C,{shape:"square",src:v.photo,size:{xs:124,sm:124,md:144,lg:144,xl:144,xxl:144}}):(0,e.jsx)(Ze.C,{shape:"square",icon:(0,e.jsx)(ve.Z,{}),size:{xs:124,sm:124,md:144,lg:144,xl:144,xxl:144}})}),(0,e.jsx)(d.Z,{xs:24,sm:24,md:24,lg:16,xl:18,xxl:18,children:(0,e.jsxs)("div",{children:[(0,e.jsxs)(G.Z,{children:[(0,e.jsx)(h.Z.Title,{level:4,children:v.area_name}),(0,e.jsx)(i.Z,{icon:(0,e.jsx)(rr.Z,{}),type:"link",onClick:function(){ue.history.push("/area/edit",{dataEdit:v})}})]}),(0,e.jsxs)(I.Z,{gutter:[24,16],children:[(0,e.jsx)(d.Z,{xs:24,sm:24,md:12,lg:6,xl:4,xxl:4,children:(0,e.jsxs)(G.Z,{children:[(0,e.jsx)(Ve,{}),(0,e.jsx)(h.Z,{children:"Area Name"})]})}),(0,e.jsx)(d.Z,{xs:24,sm:24,md:12,lg:16,xl:18,xxl:18,children:(0,e.jsx)(h.Z,{children:v.area_name})}),(0,e.jsx)(d.Z,{xs:24,sm:24,md:12,lg:6,xl:4,xxl:4,children:(0,e.jsxs)(G.Z,{children:[(0,e.jsx)($e.Z,{style:{color:"#1890FF",fontSize:16}}),(0,e.jsx)(h.Z,{children:"Phone"})]})}),(0,e.jsx)(d.Z,{xs:24,sm:24,md:12,lg:16,xl:18,xxl:18,children:(0,e.jsx)(h.Z,{children:v.phone})}),(0,e.jsx)(d.Z,{xs:24,sm:24,md:12,lg:6,xl:4,xxl:4,children:(0,e.jsxs)(G.Z,{children:[(0,e.jsx)(ar.Z,{style:{color:"#1890FF",fontSize:16}}),(0,e.jsx)(h.Z,{children:"Address"})]})}),(0,e.jsx)(d.Z,{xs:24,sm:24,md:12,lg:16,xl:18,xxl:18,children:(0,e.jsx)(h.Z,{children:v.address})}),(0,e.jsx)(d.Z,{xs:24,sm:24,md:12,lg:6,xl:4,xxl:4,children:(0,e.jsxs)(G.Z,{children:[(0,e.jsx)(ve.Z,{style:{color:"#1890FF",fontSize:16}}),(0,e.jsx)(h.Z,{children:"PIC"})]})}),(0,e.jsx)(d.Z,{xs:24,sm:24,md:12,lg:16,xl:18,xxl:18,children:(0,e.jsx)(h.Z,{children:v.pic_name})}),(0,e.jsx)(d.Z,{xs:24,sm:24,md:12,lg:6,xl:4,xxl:4,children:(0,e.jsxs)(G.Z,{children:[(0,e.jsx)(De.Z,{style:{color:"#1890FF",fontSize:16}}),(0,e.jsx)(h.Z,{children:"Email PIC"})]})}),(0,e.jsx)(d.Z,{xs:24,sm:24,md:12,lg:16,xl:18,xxl:18,children:(0,e.jsx)(h.Z.Link,{children:v.email_pic})}),(0,e.jsx)(d.Z,{xs:24,sm:24,md:12,lg:6,xl:4,xxl:4,children:(0,e.jsxs)(G.Z,{children:[(0,e.jsx)(De.Z,{style:{color:"#1890FF",fontSize:16}}),(0,e.jsxs)(G.Z,{children:[(0,e.jsx)(h.Z,{children:"Email PIC Admin "}),(0,e.jsx)(sr.Z,{title:"Email PIC Admin",children:(0,e.jsx)(tr.Z,{style:{color:"#1890FF"}})})]})]})}),(0,e.jsx)(d.Z,{xs:24,sm:24,md:12,lg:16,xl:18,xxl:18,children:(0,e.jsx)(h.Z.Link,{children:v.email_pic_admin})})]})]})})]})}),(0,e.jsx)(ir.Z,{options:["Area Settings","Pricing","Member Level"],onResize:void 0,onResizeCapture:void 0,size:"large",block:!0,style:{maxWidth:450,marginTop:20,marginBottom:20,padding:6,backgroundImage:"radial-gradient(circle at 97% 10%, #EBF2FF 0%, #F5F8FF 28%, #EBF1FF 124%)"},onChange:function(O){return z(O.toString())}}),v.id&&(n=="Area Settings"?(0,e.jsx)(we,{getData:M,dataArea:v,loadingArea:T}):n=="Member Level"?(0,e.jsx)(Ge,{getData:M,dataArea:v,loadingArea:T}):null)]}),(0,e.jsx)(d.Z,{xs:24,sm:24,md:24,lg:8,xl:6,xxl:6,children:(0,e.jsx)(qe,{area_id:y.area_id})}),(0,e.jsx)(d.Z,{span:24,children:v.id&&n=="Pricing"?(0,e.jsx)(F,{getData:M,dataArea:v,loadingArea:T}):null})]})]})},dr=or},4745:function(Ee,me,r){r.d(me,{K7:function(){return e},OO:function(){return ge},Ug:function(){return Q},_J:function(){return h},bg:function(){return I},if:function(){return C},yz:function(){return q}});var fe=r(11281),f=r.n(fe),he=r(97983),_=r.n(he),xe=r(40794),p=r.n(xe),Z=r(12461),pe=r(9669),W=r.n(pe),k=r(9212);function I(l){return d.apply(this,arguments)}function d(){return d=p()(_()().mark(function l(o){var a,S;return _()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,k.Z.get("/area",f()({method:"GET"},o||{}));case 3:return a=c.sent,S=a.data,c.abrupt("return",{data:S.data,error:!1,message:"Success Get",responseCode:S.responseCode});case 8:if(c.prev=8,c.t0=c.catch(0),!W().isAxiosError(c.t0)){c.next=16;break}return console.log("error message: ",c.t0.message),Z.ZP.error(c.t0.message),c.abrupt("return",{data:null,error:!0,message:c.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",c.t0),Z.ZP.error("An unexpected error occurred"),c.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return c.stop()}},l,null,[[0,8]])})),d.apply(this,arguments)}var q=function(){var l=p()(_()().mark(function o(a){var S,F;return _()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,k.Z.get("/area/detail/".concat(a),{method:"GET"});case 3:return S=s.sent,F=S.data,s.abrupt("return",{data:F.data,error:!1,message:"Success Get",responseCode:F.responseCode});case 8:if(s.prev=8,s.t0=s.catch(0),!W().isAxiosError(s.t0)){s.next=16;break}return console.log("error message: ",s.t0.message),Z.ZP.error(s.t0.message),s.abrupt("return",{data:null,error:!0,message:s.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",s.t0),Z.ZP.error("An unexpected error occurred"),s.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return s.stop()}},o,null,[[0,8]])}));return function(a){return l.apply(this,arguments)}}(),ge=function(){var l=p()(_()().mark(function o(a){var S,F,c;return _()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.Z.post("/area",{company_name:a.company_name,area_name:a.area_name,pic_name:a.pic_name,billing_address:a.billing_address,image:a.image,phone:a.phone,email_pic:a.email_pic,email_pic_admin:a.email_pic_admin,address:a.address,latitude:a.latitude,longitude:a.longitude},{headers:{"Content-Type":"multipart/form-data"}});case 3:return S=t.sent,F=S.data,t.abrupt("return",f()(f()({},F),{},{status:"ok",error:!1}));case 8:if(t.prev=8,t.t0=t.catch(0),!W().isAxiosError(t.t0)){t.next=17;break}return console.log("error message: ",t.t0.message),c=t.t0.response,c.data.message?Z.ZP.error(c.data.message):Z.ZP.error(t.t0.message),t.abrupt("return",{responseCode:400,message:t.t0.message,error:!0});case 17:return console.log("unexpected error: ",t.t0),Z.ZP.error("An unexpected error occured"),t.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return t.stop()}},o,null,[[0,8]])}));return function(a){return l.apply(this,arguments)}}(),h=function(){var l=p()(_()().mark(function o(a,S){var F,c,s;return _()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,k.Z.post("/area/setting/edit/"+S,f()({},a));case 3:return F=u.sent,c=F.data,u.abrupt("return",f()(f()({},c),{},{status:"ok",error:!1}));case 8:if(u.prev=8,u.t0=u.catch(0),!W().isAxiosError(u.t0)){u.next=17;break}return console.log("error message: ",u.t0.message),s=u.t0.response,s.data.message?Z.ZP.error(s.data.message):Z.ZP.error(u.t0.message),u.abrupt("return",{responseCode:400,message:u.t0.message,error:!0});case 17:return console.log("unexpected error: ",u.t0),Z.ZP.error("An unexpected error occured"),u.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return u.stop()}},o,null,[[0,8]])}));return function(a,S){return l.apply(this,arguments)}}(),A=null,Q=function(){var l=p()(_()().mark(function o(a,S){var F,c,s;return _()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,k.Z.put("/area/"+S,a);case 3:return F=u.sent,c=F.data,u.abrupt("return",f()(f()({},c),{},{status:"ok",error:!1}));case 8:if(u.prev=8,u.t0=u.catch(0),!W().isAxiosError(u.t0)){u.next=17;break}return console.log("error message: ",u.t0.message),s=u.t0.response,s.data.message?Z.ZP.error(s.data.message):Z.ZP.error(u.t0.message),u.abrupt("return",{responseCode:400,message:u.t0.message,error:!0});case 17:return console.log("unexpected error: ",u.t0),Z.ZP.error("An unexpected error occured"),u.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return u.stop()}},o,null,[[0,8]])}));return function(a,S){return l.apply(this,arguments)}}(),C=function(){var l=p()(_()().mark(function o(a){var S,F,c;return _()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.Z.post("/area/create/member",{name:a.member_name,area_id:a.area_id});case 3:return S=t.sent,F=S.data,t.abrupt("return",f()(f()({},F),{},{status:"ok",error:!1}));case 8:if(t.prev=8,t.t0=t.catch(0),!W().isAxiosError(t.t0)){t.next=17;break}return console.log("error message: ",t.t0.message),c=t.t0.response,c.data.message?Z.ZP.error(c.data.message):Z.ZP.error(t.t0.message),t.abrupt("return",{responseCode:400,message:t.t0.message,error:!0});case 17:return console.log("unexpected error: ",t.t0),Z.ZP.error("An unexpected error occured"),t.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return t.stop()}},o,null,[[0,8]])}));return function(a){return l.apply(this,arguments)}}();function i(l,o){return E.apply(this,arguments)}function E(){return E=_asyncToGenerator(_regeneratorRuntime().mark(function l(o,a){var S,F;return _regeneratorRuntime().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,api.get("/area/member/"+a,_objectSpread({method:"GET"},o||{}));case 3:return S=s.sent,F=S.data,s.abrupt("return",{data:F.data,error:!1,message:"Success Get",responseCode:F.responseCode});case 8:if(s.prev=8,s.t0=s.catch(0),!axios.isAxiosError(s.t0)){s.next=16;break}return console.log("error message: ",s.t0.message),message.error(s.t0.message),s.abrupt("return",{data:null,error:!0,message:s.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",s.t0),message.error("An unexpected error occurred"),s.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return s.stop()}},l,null,[[0,8]])})),E.apply(this,arguments)}var e=function(){var l=p()(_()().mark(function o(a){var S,F,c;return _()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.Z.post("/area/pricing/member",a,{});case 3:return S=t.sent,F=S.data,t.abrupt("return",f()(f()({},F),{},{status:"ok",error:!1}));case 8:if(t.prev=8,t.t0=t.catch(0),!W().isAxiosError(t.t0)){t.next=17;break}return console.log("error message: ",t.t0.message),c=t.t0.response,c.data.message?Z.ZP.error(c.data.message):Z.ZP.error(t.t0.message),t.abrupt("return",{responseCode:400,message:t.t0.message,error:!0});case 17:return console.log("unexpected error: ",t.t0),Z.ZP.error("An unexpected error occured"),t.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return t.stop()}},o,null,[[0,8]])}));return function(a){return l.apply(this,arguments)}}()},95971:function(Ee,me,r){r.d(me,{GU:function(){return A},cH:function(){return I},mZ:function(){return ge},rR:function(){return q}});var fe=r(97983),f=r.n(fe),he=r(11281),_=r.n(he),xe=r(40794),p=r.n(xe),Z=r(12461),pe=r(9669),W=r.n(pe),k=r(9212);function I(Q){return d.apply(this,arguments)}function d(){return d=p()(f()().mark(function Q(C){var i,E;return f()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,k.Z.get("/tenant",_()({method:"GET"},C||{}));case 3:return i=l.sent,E=i.data,l.abrupt("return",{data:E.data,error:!1,message:"Success Get",responseCode:E.responseCode});case 8:if(l.prev=8,l.t0=l.catch(0),!W().isAxiosError(l.t0)){l.next=16;break}return console.log("error message: ",l.t0.message),Z.ZP.error(l.t0.message),l.abrupt("return",{data:null,error:!0,message:l.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",l.t0),Z.ZP.error("An unexpected error occurred"),l.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return l.stop()}},Q,null,[[0,8]])})),d.apply(this,arguments)}var q=function(){var Q=p()(f()().mark(function C(i){var E,e,l;return f()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,k.Z.put("/tenant/".concat(i.id),{image:i.image,area_id:i.area_id,name:i.name,pic_name:i.pic_name,address:i.address,latitude:i.latitude,longitude:i.longitude,member_id:i.member_id,type:i.type,area_name:i.area_name,phone:i.phone,email:i.email,username:i.username,password:i.password,nama_unit:i.nama_unit,kode_unit:i.kode_unit},{headers:{"Content-Type":"multipart/form-data"}});case 3:return E=a.sent,e=E.data,a.abrupt("return",_()(_()({},e),{},{status:"ok",error:!1}));case 8:if(a.prev=8,a.t0=a.catch(0),!W().isAxiosError(a.t0)){a.next=17;break}return console.log("error message: ",a.t0.message),l=a.t0.response,l.data.message?Z.ZP.error(l.data.message):Z.ZP.error(a.t0.message),a.abrupt("return",{responseCode:400,message:a.t0.message,error:!0});case 17:return console.log("unexpected error: ",a.t0),Z.ZP.error("An unexpected error occured"),a.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return a.stop()}},C,null,[[0,8]])}));return function(i){return Q.apply(this,arguments)}}(),ge=function(){var Q=p()(f()().mark(function C(i){var E,e,l;return f()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,k.Z.post("/tenant",{image:i.image,area_id:i.area_id,name:i.name,pic_name:i.pic_name,address:i.address,latitude:i.latitude,longitude:i.longitude,type:i.type,area_name:i.area_name,phone:i.phone,email:i.email,username:i.username,password:i.password},{headers:{"Content-Type":"multipart/form-data"}});case 3:return E=a.sent,e=E.data,a.abrupt("return",_()(_()({},e),{},{status:"ok",error:!1}));case 8:if(a.prev=8,a.t0=a.catch(0),!W().isAxiosError(a.t0)){a.next=17;break}return console.log("error message: ",a.t0.message),l=a.t0.response,l.data.message?Z.ZP.error(l.data.message):Z.ZP.error(a.t0.message),a.abrupt("return",{responseCode:400,message:a.t0.message,error:!0});case 17:return console.log("unexpected error: ",a.t0),Z.ZP.error("An unexpected error occured"),a.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return a.stop()}},C,null,[[0,8]])}));return function(i){return Q.apply(this,arguments)}}(),h=null,A=function(){var Q=p()(f()().mark(function C(i){var E,e;return f()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,k.Z.get("/tenant/detail/".concat(i),{method:"GET"});case 3:return E=o.sent,e=E.data,o.abrupt("return",{data:e.data,error:!1,message:"Success Get",responseCode:e.responseCode});case 8:if(o.prev=8,o.t0=o.catch(0),!W().isAxiosError(o.t0)){o.next=16;break}return console.log("error message: ",o.t0.message),Z.ZP.error(o.t0.message),o.abrupt("return",{data:null,error:!0,message:o.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",o.t0),Z.ZP.error("An unexpected error occurred"),o.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return o.stop()}},C,null,[[0,8]])}));return function(i){return Q.apply(this,arguments)}}()}}]);
