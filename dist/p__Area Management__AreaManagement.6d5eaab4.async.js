"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9308],{32676:function(G,v,t){t.r(v);var O=t(97983),m=t.n(O),j=t(40794),_=t.n(j),T=t(12741),c=t.n(T),l=t(4745),b=t(68795),f=t(24969),g=t(87547),R=t(38402),E=t(30028),y=t(69677),D=t(71577),Z=t(27049),U=t(11382),L=t(71230),$=t(59652),I=t(26713),h=t(21802),C=t(24093),d=t(67294),o=t(64593),r=t(85893),u=y.Z.Search,i=function(){var a=d.useState([]),e=c()(a,2),s=e[0],w=e[1],z=d.useState(!1),K=c()(z,2),F=K[0],B=K[1],H=d.useState(!1),W=c()(H,2),S=W[0],k=W[1],N=(0,E.useModel)("@@initialState"),J=N.initialState,Q=J.currentUser,V=function(A){A||B(!1)},X=function(){var p=_()(m()().mark(function A(){var M;return m()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return k(!0),P.next=3,(0,l.bg)({});case 3:M=P.sent,console.log(M),k(!1),M.error||w(M.data);case 7:case"end":return P.stop()}},A)}));return function(){return p.apply(this,arguments)}}();return d.useEffect(function(){X()},[]),(0,r.jsxs)(R._z,{childrenContentStyle:{minHeight:"70vh"},title:"Area Management",content:"Management area setting, device and more.",extra:(0,r.jsxs)(r.Fragment,{children:[F?(0,r.jsx)(u,{onSearch:V,style:{width:200},className:"search-rounded",allowClear:!0}):(0,r.jsx)(D.Z,{shape:"circle",icon:(0,r.jsx)(b.Z,{}),onClick:function(){B(!0)}}),Q.role!="area"?(0,r.jsxs)(D.Z,{shape:"round",onClick:function(){E.history.push("/area/create")},children:[(0,r.jsx)(f.Z,{})," Create Area"]}):(0,r.jsx)(r.Fragment,{})]}),children:[(0,r.jsxs)(o.q,{children:[(0,r.jsx)("meta",{charSet:"utf-8"}),(0,r.jsx)("title",{children:"AAT IoT Platform | Area"}),(0,r.jsx)("link",{rel:"icon",href:"https://aetratangerang.co.id/wp-content/uploads/2020/07/cropped-favicon-192x192.png",type:"image/x-icon"})]}),(0,r.jsx)(Z.Z,{}),(0,r.jsx)(U.Z,{spinning:S,children:(0,r.jsx)(L.Z,{children:s.map(function(p){return(0,r.jsxs)($.Z,{loading:S,className:"ant-col ant-col-xs-24\r ant-col-sm-12 ant-col-md-12 ant-col-lg-8 ant-col-xl-8 ant-col-xxl-8 card-hover",onClick:function(){return E.history.push("/area/info",{area_id:p.id})},style:{cursor:"pointer"},actions:[(0,r.jsxs)(I.Z,{style:{cursor:"pointer",float:"left",paddingLeft:20},onClick:function(){return E.history.push("/area/info",{area_id:p.id})},children:[(0,r.jsx)(g.Z,{color:"#8C8C8C"}),(0,r.jsx)(h.Z.Text,{children:p.pic_name})]},p.id)],children:[(0,r.jsxs)(I.Z,{align:"center",children:[p.photo&&p.photo!==""?(0,r.jsx)(C.C,{src:p.photo,size:48}):(0,r.jsx)(C.C,{icon:(0,r.jsx)(g.Z,{}),size:48}),(0,r.jsx)(h.Z.Text,{strong:!0,children:p.area_name})]}),(0,r.jsx)(h.Z.Paragraph,{type:"secondary",style:{paddingTop:15,minHeight:70},children:p.address})]},p.id)})})})]})};v.default=i},4745:function(G,v,t){t.d(v,{K7:function(){return C},OO:function(){return D},Ug:function(){return L},_J:function(){return Z},bg:function(){return R},if:function(){return $},yz:function(){return y}});var O=t(11281),m=t.n(O),j=t(97983),_=t.n(j),T=t(40794),c=t.n(T),l=t(12461),b=t(9669),f=t.n(b),g=t(9212);function R(d){return E.apply(this,arguments)}function E(){return E=c()(_()().mark(function d(o){var r,u;return _()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.Z.get("/area",m()({method:"GET"},o||{}));case 3:return r=n.sent,u=r.data,n.abrupt("return",{data:u.data,error:!1,message:"Success Get",responseCode:u.responseCode});case 8:if(n.prev=8,n.t0=n.catch(0),!f().isAxiosError(n.t0)){n.next=16;break}return console.log("error message: ",n.t0.message),l.ZP.error(n.t0.message),n.abrupt("return",{data:null,error:!0,message:n.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",n.t0),l.ZP.error("An unexpected error occurred"),n.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return n.stop()}},d,null,[[0,8]])})),E.apply(this,arguments)}var y=function(){var d=c()(_()().mark(function o(r){var u,i;return _()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,g.Z.get("/area/detail/".concat(r),{method:"GET"});case 3:return u=a.sent,i=u.data,a.abrupt("return",{data:i.data,error:!1,message:"Success Get",responseCode:i.responseCode});case 8:if(a.prev=8,a.t0=a.catch(0),!f().isAxiosError(a.t0)){a.next=16;break}return console.log("error message: ",a.t0.message),l.ZP.error(a.t0.message),a.abrupt("return",{data:null,error:!0,message:a.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",a.t0),l.ZP.error("An unexpected error occurred"),a.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return a.stop()}},o,null,[[0,8]])}));return function(r){return d.apply(this,arguments)}}(),D=function(){var d=c()(_()().mark(function o(r){var u,i,n;return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Z.post("/area",{company_name:r.company_name,area_name:r.area_name,pic_name:r.pic_name,billing_address:r.billing_address,image:r.image,phone:r.phone,email_pic:r.email_pic,email_pic_admin:r.email_pic_admin,address:r.address,latitude:r.latitude,longitude:r.longitude},{headers:{"Content-Type":"multipart/form-data"}});case 3:return u=e.sent,i=u.data,e.abrupt("return",m()(m()({},i),{},{status:"ok",error:!1}));case 8:if(e.prev=8,e.t0=e.catch(0),!f().isAxiosError(e.t0)){e.next=17;break}return console.log("error message: ",e.t0.message),n=e.t0.response,n.data.message?l.ZP.error(n.data.message):l.ZP.error(e.t0.message),e.abrupt("return",{responseCode:400,message:e.t0.message,error:!0});case 17:return console.log("unexpected error: ",e.t0),l.ZP.error("An unexpected error occured"),e.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return e.stop()}},o,null,[[0,8]])}));return function(r){return d.apply(this,arguments)}}(),Z=function(){var d=c()(_()().mark(function o(r,u){var i,n,a;return _()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,g.Z.post("/area/setting/edit/"+u,m()({},r));case 3:return i=s.sent,n=i.data,s.abrupt("return",m()(m()({},n),{},{status:"ok",error:!1}));case 8:if(s.prev=8,s.t0=s.catch(0),!f().isAxiosError(s.t0)){s.next=17;break}return console.log("error message: ",s.t0.message),a=s.t0.response,a.data.message?l.ZP.error(a.data.message):l.ZP.error(s.t0.message),s.abrupt("return",{responseCode:400,message:s.t0.message,error:!0});case 17:return console.log("unexpected error: ",s.t0),l.ZP.error("An unexpected error occured"),s.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return s.stop()}},o,null,[[0,8]])}));return function(r,u){return d.apply(this,arguments)}}(),U=null,L=function(){var d=c()(_()().mark(function o(r,u){var i,n,a;return _()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,g.Z.put("/area/"+u,r);case 3:return i=s.sent,n=i.data,s.abrupt("return",m()(m()({},n),{},{status:"ok",error:!1}));case 8:if(s.prev=8,s.t0=s.catch(0),!f().isAxiosError(s.t0)){s.next=17;break}return console.log("error message: ",s.t0.message),a=s.t0.response,a.data.message?l.ZP.error(a.data.message):l.ZP.error(s.t0.message),s.abrupt("return",{responseCode:400,message:s.t0.message,error:!0});case 17:return console.log("unexpected error: ",s.t0),l.ZP.error("An unexpected error occured"),s.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return s.stop()}},o,null,[[0,8]])}));return function(r,u){return d.apply(this,arguments)}}(),$=function(){var d=c()(_()().mark(function o(r){var u,i,n;return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Z.post("/area/create/member",{name:r.member_name,area_id:r.area_id});case 3:return u=e.sent,i=u.data,e.abrupt("return",m()(m()({},i),{},{status:"ok",error:!1}));case 8:if(e.prev=8,e.t0=e.catch(0),!f().isAxiosError(e.t0)){e.next=17;break}return console.log("error message: ",e.t0.message),n=e.t0.response,n.data.message?l.ZP.error(n.data.message):l.ZP.error(e.t0.message),e.abrupt("return",{responseCode:400,message:e.t0.message,error:!0});case 17:return console.log("unexpected error: ",e.t0),l.ZP.error("An unexpected error occured"),e.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return e.stop()}},o,null,[[0,8]])}));return function(r){return d.apply(this,arguments)}}();function I(d,o){return h.apply(this,arguments)}function h(){return h=_asyncToGenerator(_regeneratorRuntime().mark(function d(o,r){var u,i;return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,api.get("/area/member/"+r,_objectSpread({method:"GET"},o||{}));case 3:return u=a.sent,i=u.data,a.abrupt("return",{data:i.data,error:!1,message:"Success Get",responseCode:i.responseCode});case 8:if(a.prev=8,a.t0=a.catch(0),!axios.isAxiosError(a.t0)){a.next=16;break}return console.log("error message: ",a.t0.message),message.error(a.t0.message),a.abrupt("return",{data:null,error:!0,message:a.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",a.t0),message.error("An unexpected error occurred"),a.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return a.stop()}},d,null,[[0,8]])})),h.apply(this,arguments)}var C=function(){var d=c()(_()().mark(function o(r){var u,i,n;return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Z.post("/area/pricing/member",r,{});case 3:return u=e.sent,i=u.data,e.abrupt("return",m()(m()({},i),{},{status:"ok",error:!1}));case 8:if(e.prev=8,e.t0=e.catch(0),!f().isAxiosError(e.t0)){e.next=17;break}return console.log("error message: ",e.t0.message),n=e.t0.response,n.data.message?l.ZP.error(n.data.message):l.ZP.error(e.t0.message),e.abrupt("return",{responseCode:400,message:e.t0.message,error:!0});case 17:return console.log("unexpected error: ",e.t0),l.ZP.error("An unexpected error occured"),e.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return e.stop()}},o,null,[[0,8]])}));return function(r){return d.apply(this,arguments)}}()}}]);
