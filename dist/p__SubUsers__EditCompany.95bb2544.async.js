"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9234],{58904:function(ne,L,n){n.r(L);var M=n(97983),_=n.n(M),B=n(40794),W=n.n(B),D=n(12741),v=n.n(D),K=n(5200),S=n.n(K),u=n(87806),s=n(82826),a=n(24969),r=n(38402),i=n(30028),c=n(80737),C=n(14538),p=n(71577),x=n(26713),O=n(58492),l=n(21802),g=n(27049),F=n(11382),Z=n(71230),o=n(15746),T=n(69677),b=n(78116),d=n(40038),P=n(67294),A=n(64593),e=n(85893),U=function(z){return new Promise(function(G,k){var j=new FileReader;j.readAsDataURL(z),j.onload=function(){return G(j.result)},j.onerror=function(w){return k(w)}})},$=function(z){S()(z);var G=c.Z.useForm(),k=v()(G,1),j=k[0],w=(0,i.useLocation)(),m=w.state,te=P.useState([]),J=v()(te,2),y=J[0],H=J[1],ae=(0,P.useState)(!1),Q=v()(ae,2),re=Q[0],V=Q[1],se=P.useState(!1),X=v()(se,2),ie=X[0],Y=X[1],le=(0,P.useState)(""),q=v()(le,2),oe=q[0],_e=q[1],de=(0,P.useState)(""),ee=v()(de,2),ce=ee[0],ue=ee[1];console.log(m.dataEdit.photo),P.useEffect(function(){m.dataEdit?(j.setFields([{name:"name",value:m.dataEdit.name},{name:"email",value:m.dataEdit.email},{name:"email",value:m.dataEdit.email},{name:"phone",value:m.dataEdit.phone},{name:"role_id",value:m.dataEdit.role_id}]),H([{uid:"1",name:"default logo",status:"done",url:m.dataEdit.photo}])):i.history.push("/users/company")},[m.dataEdit]);var me=function(E){var t=E.fileList;return H(t)},he=function(){var h=W()(_()().mark(function E(t){return _()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!(!t.url&&!t.preview)){f.next=4;break}return f.next=3,U(t.originFileObj);case 3:t.preview=f.sent;case 4:_e(t.url||t.preview),V(!0),ue(t.name||t.url.substring(t.url.lastIndexOf("/")+1));case 7:case"end":return f.stop()}},E)}));return function(t){return h.apply(this,arguments)}}();console.log(y);var Ee=function(){var h=W()(_()().mark(function E(t){var R;return _()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return Y(!0),I.next=3,(0,u.TL)({name:t.name,phone:t.phone,email:t.email,role_id:t.role_id,password:"12345",image:y[0].originFileObj,id:m.dataEdit.id});case 3:R=I.sent,Y(!1),R.error?C.Z.error({content:R.message}):C.Z.success({content:R.message,onOk:function(){i.history.back()}});case 6:case"end":return I.stop()}},E)}));return function(t){return h.apply(this,arguments)}}();return(0,e.jsxs)(r._z,{breadcrumb:void 0,title:(0,e.jsx)(p.Z,{type:"link",onClick:function(){return i.history.back()},size:"large",children:(0,e.jsxs)(x.Z,{style:{cursor:"pointer"},align:"start",size:"large",children:[(0,e.jsx)(s.Z,{onClick:function(){return i.history.back()},style:{marginTop:"12px",fontSize:"24px",color:"#000"}}),(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"column",textAlign:"left"},children:[(0,e.jsxs)(O.Z,{children:[(0,e.jsx)(O.Z.Item,{children:"User"}),(0,e.jsx)(O.Z.Item,{href:"#",children:"Edit User Company"})]}),(0,e.jsx)(l.Z.Title,{level:5,children:"Edit User"})]})]})}),style:{borderTop:"1px solid rgba(0, 0, 0, 0.06)"},children:[(0,e.jsxs)(A.q,{children:[(0,e.jsx)("meta",{charSet:"utf-8"}),(0,e.jsx)("title",{children:"AAT | User"}),(0,e.jsx)("link",{rel:"icon",href:"https://aetratangerang.co.id/wp-content/uploads/2020/07/cropped-favicon-192x192.png",type:"image/x-icon"})]}),(0,e.jsx)(g.Z,{style:{paddingTop:0,marginTop:0}}),(0,e.jsx)(F.Z,{spinning:ie,children:(0,e.jsx)(c.Z,{form:j,name:"add-area",onFinish:Ee,style:{width:500,margin:"0px auto",paddingTop:20},children:(0,e.jsxs)(Z.Z,{gutter:16,children:[(0,e.jsx)(o.Z,{span:12,children:(0,e.jsx)(l.Z,{children:"Full Name"})}),(0,e.jsx)(o.Z,{span:12,children:(0,e.jsx)(c.Z.Item,{name:"name",rules:[{required:!0,message:"Please input full name!"}],requiredMark:"optional",children:(0,e.jsx)(T.Z,{placeholder:"Full Name"})})}),(0,e.jsx)(o.Z,{span:12,children:(0,e.jsx)(l.Z,{children:"Email"})}),(0,e.jsx)(o.Z,{span:12,children:(0,e.jsx)(c.Z.Item,{name:"email",rules:[{required:!0,message:"Please input email!",type:"email"}],requiredMark:"optional",children:(0,e.jsx)(T.Z,{placeholder:"Email"})})}),(0,e.jsx)(o.Z,{span:12,children:(0,e.jsx)(l.Z,{children:"Phone"})}),(0,e.jsx)(o.Z,{span:12,children:(0,e.jsx)(c.Z.Item,{name:"phone",rules:[{required:!0,message:"Please input phone!"},{pattern:/^(\+62|62|0)8[1-9][0-9]{6,13}$/g,message:"Phone not valid!"}],requiredMark:"optional",children:(0,e.jsx)(T.Z,{placeholder:"Phone"})})}),(0,e.jsx)(o.Z,{span:12,children:(0,e.jsx)(l.Z,{children:(0,e.jsxs)("div",{children:[(0,e.jsx)(l.Z,{style:{fontSize:16},children:"Photo"}),(0,e.jsx)(l.Z,{style:{fontSize:12,color:"#8C8C8C"},children:"This wil be displayed on profile."})]})})}),(0,e.jsx)(o.Z,{span:12,children:(0,e.jsx)(c.Z.Item,{style:{marginTop:"24px"},children:(0,e.jsxs)(x.Z,{children:[(0,e.jsx)(b.Z,{listType:"picture-card",fileList:y,customRequest:function(E){var t=E.onSuccess;t&&setTimeout(function(){t("ok")},0)},maxCount:1,multiple:!1,accept:"image/*",onChange:me,onPreview:he,children:y.length>0?null:(0,e.jsxs)("div",{children:[(0,e.jsx)(a.Z,{}),(0,e.jsx)("div",{style:{marginTop:8},children:"Upload"})]})}),(0,e.jsx)(C.Z,{open:re,title:ce,footer:null,onCancel:function(){return V(!1)},children:(0,e.jsx)("img",{alt:"example",style:{width:"100%"},src:oe})}),y.length>0?(0,e.jsx)(p.Z,{danger:!0,type:"text",onClick:function(){return H([])},children:"Delete"}):null]})})}),(0,e.jsx)(o.Z,{span:12,children:(0,e.jsx)(l.Z,{children:"Role"})}),(0,e.jsx)(o.Z,{span:12,children:(0,e.jsx)(c.Z.Item,{name:"role_id",rules:[{required:!0,message:"Please select role!"}],requiredMark:"optional",children:(0,e.jsx)(d.Z,{placeholder:"Select Role",className:"not-rounded",options:[{label:"Admin",value:1},{label:"Finance",value:4},{label:"Technician",value:5}]})})}),(0,e.jsx)(o.Z,{offset:16,children:(0,e.jsxs)(x.Z,{children:[(0,e.jsx)(c.Z.Item,{children:(0,e.jsx)(p.Z,{type:"primary",htmlType:"submit",children:"Save"})}),(0,e.jsx)(c.Z.Item,{children:(0,e.jsx)(p.Z,{type:"default",htmlType:"button",children:"Cancel"})})]})})]})})})]})};L.default=$},27049:function(ne,L,n){var M=n(87462),_=n(4942),B=n(94184),W=n.n(B),D=n(67294),v=n(53124),K=function(u,s){var a={};for(var r in u)Object.prototype.hasOwnProperty.call(u,r)&&s.indexOf(r)<0&&(a[r]=u[r]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(u);i<r.length;i++)s.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(u,r[i])&&(a[r[i]]=u[r[i]]);return a},S=function(s){var a,r=D.useContext(v.E_),i=r.getPrefixCls,c=r.direction,C=s.prefixCls,p=s.type,x=p===void 0?"horizontal":p,O=s.orientation,l=O===void 0?"center":O,g=s.orientationMargin,F=s.className,Z=s.children,o=s.dashed,T=s.plain,b=K(s,["prefixCls","type","orientation","orientationMargin","className","children","dashed","plain"]),d=i("divider",C),P=l.length>0?"-".concat(l):l,A=!!Z,e=l==="left"&&g!=null,U=l==="right"&&g!=null,$=W()(d,"".concat(d,"-").concat(x),(a={},(0,_.Z)(a,"".concat(d,"-with-text"),A),(0,_.Z)(a,"".concat(d,"-with-text").concat(P),A),(0,_.Z)(a,"".concat(d,"-dashed"),!!o),(0,_.Z)(a,"".concat(d,"-plain"),!!T),(0,_.Z)(a,"".concat(d,"-rtl"),c==="rtl"),(0,_.Z)(a,"".concat(d,"-no-default-orientation-margin-left"),e),(0,_.Z)(a,"".concat(d,"-no-default-orientation-margin-right"),U),a),F),N=(0,M.Z)((0,M.Z)({},e&&{marginLeft:g}),U&&{marginRight:g});return D.createElement("div",(0,M.Z)({className:$},b,{role:"separator"}),Z&&x!=="vertical"&&D.createElement("span",{className:"".concat(d,"-inner-text"),style:N},Z))};L.Z=S}}]);
