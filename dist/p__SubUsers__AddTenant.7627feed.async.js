"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[4574],{82826:function(N,O,r){r.d(O,{Z:function(){return C}});var f=r(1413),i=r(67294),A={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},M=A,v=r(84089),P=function(h,a){return i.createElement(v.Z,(0,f.Z)((0,f.Z)({},h),{},{ref:a,icon:M}))};P.displayName="ArrowLeftOutlined";var C=i.forwardRef(P)},47083:function(N,O,r){r.r(O);var f=r(97983),i=r.n(f),A=r(40794),M=r.n(A),v=r(12741),P=r.n(v),C=r(5200),U=r.n(C),h=r(98435),a=r(87806),o=r(82826),d=r(38402),u=r(30028),s=r(80737),W=r(14538),g=r(71577),I=r(26713),Z=r(58492),_=r(21802),x=r(27049),S=r(11382),T=r(71230),t=r(15746),j=r(69677),w=r(40038),l=r(67294),e=r(85893),B=function(L){return new Promise(function(y,b){var E=new FileReader;E.readAsDataURL(L),E.onload=function(){return y(E.result)},E.onerror=function($){return b($)}})},K=function(L){U()(L);var y=s.Z.useForm(),b=P()(y,1),E=b[0],$=l.useState([]),z=P()($,2),V=z[0],X=z[1],Y=(0,l.useState)(!1),H=P()(Y,2),ie=H[0],q=H[1],ee=l.useState(!1),G=P()(ee,2),re=G[0],k=G[1],ne=(0,l.useState)(""),J=P()(ne,2),oe=J[0],te=J[1],ae=(0,l.useState)(""),Q=P()(ae,2),de=Q[0],se=Q[1],_e=function(m){var n=m.fileList;return X(n)},ue=function(){var c=M()(i()().mark(function m(n){return i()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(!(!n.url&&!n.preview)){p.next=4;break}return p.next=3,B(n.originFileObj);case 3:n.preview=p.sent;case 4:te(n.url||n.preview),q(!0),se(n.name||n.url.substring(n.url.lastIndexOf("/")+1));case 7:case"end":return p.stop()}},m)}));return function(n){return c.apply(this,arguments)}}(),le=function(){var c=M()(i()().mark(function m(n){var D;return i()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return console.log(n),k(!0),R.next=4,(0,a.FZ)({name:n.name,phone:n.phone,email:n.email,role:n.role,password:n.newPassword,photo:V.length>0?V[0].originFileObj:void 0,area_id:n.area_id,address:n.address});case 4:D=R.sent,k(!1),D.error?W.Z.error({content:D.message}):W.Z.success({content:D.message,onOk:function(){u.history.push("/users")}});case 7:case"end":return R.stop()}},m)}));return function(n){return c.apply(this,arguments)}}();return(0,e.jsxs)(d._z,{breadcrumb:void 0,title:(0,e.jsx)(g.Z,{type:"link",onClick:function(){return u.history.push("/users")},size:"large",children:(0,e.jsxs)(I.Z,{style:{cursor:"pointer"},align:"start",size:"large",children:[(0,e.jsx)(o.Z,{onClick:function(){return u.history.push("/users")},style:{marginTop:"12px",fontSize:"24px",color:"#000"}}),(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"column",textAlign:"left"},children:[(0,e.jsxs)(Z.Z,{children:[(0,e.jsx)(Z.Z.Item,{children:"User Management"}),(0,e.jsx)(Z.Z.Item,{href:"#",children:"Add User"})]}),(0,e.jsx)(_.Z.Title,{level:5,children:"Add User"})]})]})}),style:{borderTop:"1px solid rgba(0, 0, 0, 0.06)"},children:[(0,e.jsxs)(u.Helmet,{children:[(0,e.jsx)("meta",{charSet:"utf-8"}),(0,e.jsx)("title",{children:"AAT IoT Platform | User Management"}),(0,e.jsx)("link",{rel:"icon",href:"/Sinar-mas.png",type:"image/x-icon"})]}),(0,e.jsx)(x.Z,{style:{paddingTop:0,marginTop:0}}),(0,e.jsx)(S.Z,{spinning:re,children:(0,e.jsx)(s.Z,{form:E,name:"add-area",onFinish:le,style:{width:500,margin:"0px auto",paddingTop:20},children:(0,e.jsxs)(T.Z,{gutter:16,children:[(0,e.jsx)(t.Z,{span:12,children:(0,e.jsx)(_.Z,{children:"Full Name"})}),(0,e.jsx)(t.Z,{span:12,children:(0,e.jsx)(s.Z.Item,{name:"name",rules:[{required:!0,message:"Please input full name!"}],requiredMark:"optional",children:(0,e.jsx)(j.Z,{placeholder:"Full Name"})})}),(0,e.jsx)(t.Z,{span:12,children:(0,e.jsx)(_.Z,{children:"Email"})}),(0,e.jsx)(t.Z,{span:12,children:(0,e.jsx)(s.Z.Item,{name:"email",rules:[{required:!0,message:"Please input email!",type:"email"}],requiredMark:"optional",children:(0,e.jsx)(j.Z,{placeholder:"Email"})})}),(0,e.jsx)(t.Z,{span:12,children:(0,e.jsx)(_.Z,{children:"Phone"})}),(0,e.jsx)(t.Z,{span:12,children:(0,e.jsx)(s.Z.Item,{name:"phone",rules:[{required:!0,message:"Please input phone!"},{pattern:/^(\+62|62|0)8[1-9][0-9]{6,13}$/g,message:"Phone not valid!"}],requiredMark:"optional",children:(0,e.jsx)(j.Z,{placeholder:"Phone"})})}),(0,e.jsx)(t.Z,{span:12,children:(0,e.jsx)(_.Z,{children:"Role"})}),(0,e.jsx)(t.Z,{span:12,children:(0,e.jsx)(s.Z.Item,{name:"role",rules:[{required:!0,message:"Please select role!"}],requiredMark:"optional",children:(0,e.jsx)(w.Z,{placeholder:"Select Role",className:"not-rounded",options:[{label:"Admin",value:"admin"},{label:"Area",value:"area"},{label:"Technician",value:"teknisi"}],onChange:function(){E.setFieldsValue({area_id:void 0})}})})}),(0,e.jsx)(t.Z,{span:12,children:(0,e.jsx)(s.Z.Item,{noStyle:!0,shouldUpdate:function(m,n){return m.role_id!==n.role_id},children:function(){return E.getFieldValue("role")=="area"?(0,e.jsx)(_.Z,{children:"Area"}):null}})}),(0,e.jsx)(t.Z,{span:12,children:(0,e.jsx)(s.Z.Item,{noStyle:!0,shouldUpdate:function(m,n){return m.role_id!==n.role_id},children:function(){return E.getFieldValue("role")=="area"?(0,e.jsx)(s.Z.Item,{name:"area_id",rules:[{required:!0,message:"Please input Area!"}],requiredMark:"optional",children:(0,e.jsx)(h.U,{})}):null}})}),(0,e.jsx)(t.Z,{span:12,children:(0,e.jsx)(_.Z,{children:"Address"})}),(0,e.jsx)(t.Z,{span:12,children:(0,e.jsx)(s.Z.Item,{name:"address",requiredMark:"optional",children:(0,e.jsx)(j.Z.TextArea,{placeholder:"Address"})})}),(0,e.jsx)(t.Z,{span:24,children:(0,e.jsx)(x.Z,{})}),(0,e.jsx)(t.Z,{span:12,children:(0,e.jsx)(_.Z,{children:"New Password"})}),(0,e.jsx)(t.Z,{span:12,children:(0,e.jsx)(s.Z.Item,{name:"newPassword",rules:[{required:!0,message:"Please input password!"}],requiredMark:"optional",children:(0,e.jsx)(j.Z.Password,{placeholder:"Input Password"})})}),(0,e.jsx)(t.Z,{span:12,children:(0,e.jsx)(_.Z,{children:"Retype Password"})}),(0,e.jsx)(t.Z,{span:12,children:(0,e.jsx)(s.Z.Item,{name:"retypePassword",requiredMark:"optional",rules:[{required:!0,message:"Please input password!"},function(c){var m=c.getFieldValue;return{validator:function(D,p){return!p||m("newPassword")===p?Promise.resolve():Promise.reject(new Error("Passwords not match!"))}}}],children:(0,e.jsx)(j.Z.Password,{placeholder:"Retype Password"})})}),(0,e.jsx)(t.Z,{offset:16,children:(0,e.jsxs)(I.Z,{children:[(0,e.jsx)(s.Z.Item,{children:(0,e.jsx)(g.Z,{type:"primary",htmlType:"submit",children:"Save"})}),(0,e.jsx)(s.Z.Item,{children:(0,e.jsx)(g.Z,{type:"default",htmlType:"button",onClick:function(){return u.history.push("/users")},children:"Cancel"})})]})})]})})})]})};O.default=K},27049:function(N,O,r){var f=r(87462),i=r(4942),A=r(94184),M=r.n(A),v=r(67294),P=r(53124),C=function(h,a){var o={};for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&a.indexOf(d)<0&&(o[d]=h[d]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,d=Object.getOwnPropertySymbols(h);u<d.length;u++)a.indexOf(d[u])<0&&Object.prototype.propertyIsEnumerable.call(h,d[u])&&(o[d[u]]=h[d[u]]);return o},U=function(a){var o,d=v.useContext(P.E_),u=d.getPrefixCls,s=d.direction,W=a.prefixCls,g=a.type,I=g===void 0?"horizontal":g,Z=a.orientation,_=Z===void 0?"center":Z,x=a.orientationMargin,S=a.className,T=a.children,t=a.dashed,j=a.plain,w=C(a,["prefixCls","type","orientation","orientationMargin","className","children","dashed","plain"]),l=u("divider",W),e=_.length>0?"-".concat(_):_,B=!!T,K=_==="left"&&x!=null,F=_==="right"&&x!=null,L=M()(l,"".concat(l,"-").concat(I),(o={},(0,i.Z)(o,"".concat(l,"-with-text"),B),(0,i.Z)(o,"".concat(l,"-with-text").concat(e),B),(0,i.Z)(o,"".concat(l,"-dashed"),!!t),(0,i.Z)(o,"".concat(l,"-plain"),!!j),(0,i.Z)(o,"".concat(l,"-rtl"),s==="rtl"),(0,i.Z)(o,"".concat(l,"-no-default-orientation-margin-left"),K),(0,i.Z)(o,"".concat(l,"-no-default-orientation-margin-right"),F),o),S),y=(0,f.Z)((0,f.Z)({},K&&{marginLeft:x}),F&&{marginRight:x});return v.createElement("div",(0,f.Z)({className:L},w,{role:"separator"}),T&&I!=="vertical"&&v.createElement("span",{className:"".concat(l,"-inner-text"),style:y},T))};O.Z=U}}]);
