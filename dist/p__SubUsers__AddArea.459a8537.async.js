"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9175],{98435:function(w,I,r){r.d(I,{U:function(){return h}});var M=r(97983),_=r.n(M),L=r(40794),v=r.n(L),C=r(12741),P=r.n(C),f=r(4745),T=r(40038),p=r(67294),i=r(85893),h=function(g){var Z=g.disabled,j=g.onChange,y=g.value,O=g.style,c=g.type,l=c===void 0?"not-rounded":c,s=g.useAll,u=g.defaultArea0,m=u===void 0?!1:u,t=(0,p.useState)([]),n=P()(t,2),o=n[0],a=n[1],S=p.useState(!1),A=P()(S,2),B=A[0],e=A[1],$=function(){var R=v()(_()().mark(function G(){var x;return _()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return e(!0),b.next=3,(0,f.bg)({});case 3:x=b.sent,e(!1),x.error||(a(x.data),m&&x.data.length>0&&j(x.data[0].id));case 6:case"end":return b.stop()}},G)}));return function(){return R.apply(this,arguments)}}();return p.useEffect(function(){$()},[]),(0,i.jsxs)(T.Z,{value:y,placeholder:"Area Name",loading:B,onChange:j,className:l,style:O,disabled:Z,children:[s&&(0,i.jsx)(T.Z.Option,{value:0,children:"All Area"},0),o.map(function(R){return(0,i.jsx)(T.Z.Option,{value:R.id,children:R.area_name},R.id)})]})}},3814:function(w,I,r){r.r(I);var M=r(97983),_=r.n(M),L=r(40794),v=r.n(L),C=r(12741),P=r.n(C),f=r(5200),T=r.n(f),p=r(98435),i=r(87806),h=r(82826),E=r(24969),g=r(38402),Z=r(30028),j=r(80737),y=r(14538),O=r(71577),c=r(26713),l=r(58492),s=r(21802),u=r(27049),m=r(11382),t=r(71230),n=r(15746),o=r(69677),a=r(78116),S=r(40038),A=r(67294),B=r(64593),e=r(85893),$=function(x){return new Promise(function(k,b){var K=new FileReader;K.readAsDataURL(x),K.onload=function(){return k(K.result)},K.onerror=function(J){return b(J)}})},R=function(x){T()(x);var k=j.Z.useForm(),b=P()(k,1),K=b[0],J=A.useState([]),H=P()(J,2),z=H[0],Q=H[1],ae=(0,A.useState)(!1),V=P()(ae,2),ne=V[0],X=V[1],se=A.useState(!1),Y=P()(se,2),te=Y[0],q=Y[1],oe=(0,A.useState)(""),ee=P()(oe,2),le=ee[0],_e=ee[1],ie=(0,A.useState)(""),re=P()(ie,2),ue=re[0],de=re[1],me=function(W){var d=W.fileList;return Q(d)},ce=function(){var D=v()(_()().mark(function W(d){return _()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(!(!d.url&&!d.preview)){U.next=4;break}return U.next=3,$(d.originFileObj);case 3:d.preview=U.sent;case 4:_e(d.url||d.preview),X(!0),de(d.name||d.url.substring(d.url.lastIndexOf("/")+1));case 7:case"end":return U.stop()}},W)}));return function(d){return D.apply(this,arguments)}}(),pe=function(){var D=v()(_()().mark(function W(d){var F;return _()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return console.log(d),q(!0),N.next=4,(0,i.lR)({name:d.name,phone:d.phone,email:d.email,role_id:d.role_id,password:"12345",image:z[0].originFileObj,area_id:d.area_id});case 4:F=N.sent,q(!1),F.error?y.Z.error({content:F.message}):y.Z.success({content:F.message,onOk:function(){Z.history.push("/users/area")}});case 7:case"end":return N.stop()}},W)}));return function(d){return D.apply(this,arguments)}}();return(0,e.jsxs)(g._z,{breadcrumb:void 0,title:(0,e.jsx)(O.Z,{type:"link",onClick:function(){return Z.history.back()},size:"large",children:(0,e.jsxs)(c.Z,{style:{cursor:"pointer"},align:"start",size:"large",children:[(0,e.jsx)(h.Z,{onClick:function(){return Z.history.back()},style:{marginTop:"12px",fontSize:"24px",color:"#000"}}),(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"column",textAlign:"left"},children:[(0,e.jsxs)(l.Z,{children:[(0,e.jsx)(l.Z.Item,{children:"User"}),(0,e.jsx)(l.Z.Item,{href:"#",children:"Add User Area"})]}),(0,e.jsx)(s.Z.Title,{level:5,children:"Add User"})]})]})}),style:{borderTop:"1px solid rgba(0, 0, 0, 0.06)"},children:[(0,e.jsxs)(B.q,{children:[(0,e.jsx)("meta",{charSet:"utf-8"}),(0,e.jsx)("title",{children:"BITA | User"}),(0,e.jsx)("link",{rel:"icon",href:"/logo.png",type:"image/x-icon"})]}),(0,e.jsx)(u.Z,{style:{paddingTop:0,marginTop:0}}),(0,e.jsx)(m.Z,{spinning:te,children:(0,e.jsx)(j.Z,{form:K,name:"add-area",onFinish:pe,style:{width:500,margin:"0px auto",paddingTop:20},children:(0,e.jsxs)(t.Z,{gutter:16,children:[(0,e.jsx)(n.Z,{span:12,children:(0,e.jsx)(s.Z,{children:"Area Name"})}),(0,e.jsx)(n.Z,{span:12,children:(0,e.jsx)(j.Z.Item,{name:"area_id",rules:[{required:!0,message:"Please input area name!"}],requiredMark:"optional",children:(0,e.jsx)(p.U,{onChange:function(){}})})}),(0,e.jsx)(n.Z,{span:12,children:(0,e.jsx)(s.Z,{children:"Full Name"})}),(0,e.jsx)(n.Z,{span:12,children:(0,e.jsx)(j.Z.Item,{name:"name",rules:[{required:!0,message:"Please input full name!"}],requiredMark:"optional",children:(0,e.jsx)(o.Z,{placeholder:"Full Name"})})}),(0,e.jsx)(n.Z,{span:12,children:(0,e.jsx)(s.Z,{children:"Email"})}),(0,e.jsx)(n.Z,{span:12,children:(0,e.jsx)(j.Z.Item,{name:"email",rules:[{required:!0,message:"Please input email!",type:"email"}],requiredMark:"optional",children:(0,e.jsx)(o.Z,{placeholder:"Email"})})}),(0,e.jsx)(n.Z,{span:12,children:(0,e.jsx)(s.Z,{children:"Phone"})}),(0,e.jsx)(n.Z,{span:12,children:(0,e.jsx)(j.Z.Item,{name:"phone",rules:[{required:!0,message:"Please input phone!"},{pattern:/^(\+62|62|0)8[1-9][0-9]{6,13}$/g,message:"Phone not valid!"}],requiredMark:"optional",children:(0,e.jsx)(o.Z,{placeholder:"Phone"})})}),(0,e.jsx)(n.Z,{span:12,children:(0,e.jsx)(s.Z,{children:(0,e.jsxs)("div",{children:[(0,e.jsx)(s.Z,{style:{fontSize:16},children:"Photo"}),(0,e.jsx)(s.Z,{style:{fontSize:12,color:"#8C8C8C"},children:"This wil be displayed on profile."})]})})}),(0,e.jsx)(n.Z,{span:12,children:(0,e.jsx)(j.Z.Item,{style:{marginTop:"24px"},children:(0,e.jsxs)(c.Z,{children:[(0,e.jsx)(a.Z,{listType:"picture-card",fileList:z,customRequest:function(W){var d=W.onSuccess;d&&setTimeout(function(){d("ok")},0)},maxCount:1,multiple:!1,accept:"image/*",onChange:me,onPreview:ce,children:z.length>0?null:(0,e.jsxs)("div",{children:[(0,e.jsx)(E.Z,{}),(0,e.jsx)("div",{style:{marginTop:8},children:"Upload"})]})}),(0,e.jsx)(y.Z,{open:ne,title:ue,footer:null,onCancel:function(){return X(!1)},children:(0,e.jsx)("img",{alt:"example",style:{width:"100%"},src:le})}),z.length>0?(0,e.jsx)(O.Z,{danger:!0,type:"text",onClick:function(){return Q([])},children:"Delete"}):null]})})}),(0,e.jsx)(n.Z,{span:12,children:(0,e.jsx)(s.Z,{children:"Role"})}),(0,e.jsx)(n.Z,{span:12,children:(0,e.jsx)(j.Z.Item,{name:"role_id",rules:[{required:!0,message:"Please select role!"}],requiredMark:"optional",children:(0,e.jsx)(S.Z,{placeholder:"Select Role",className:"not-rounded",options:[{label:"Admin",value:1},{label:"Finance",value:4},{label:"Technician",value:5}]})})}),(0,e.jsx)(n.Z,{offset:16,children:(0,e.jsxs)(c.Z,{children:[(0,e.jsx)(j.Z.Item,{children:(0,e.jsx)(O.Z,{type:"primary",htmlType:"submit",children:"Save"})}),(0,e.jsx)(j.Z.Item,{children:(0,e.jsx)(O.Z,{type:"default",htmlType:"button",children:"Cancel"})})]})})]})})})]})};I.default=R},4745:function(w,I,r){r.d(I,{OO:function(){return Z},Ug:function(){return O},_J:function(){return j},bg:function(){return h},yz:function(){return g}});var M=r(11281),_=r.n(M),L=r(97983),v=r.n(L),C=r(40794),P=r.n(C),f=r(12461),T=r(9669),p=r.n(T),i=r(9212);function h(c){return E.apply(this,arguments)}function E(){return E=P()(v()().mark(function c(l){var s,u;return v()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.Z.get("/area",_()({method:"GET"},l||{}));case 3:return s=t.sent,u=s.data,t.abrupt("return",{data:u.data,error:!1,message:"Success Get",responseCode:u.responseCode});case 8:if(t.prev=8,t.t0=t.catch(0),!p().isAxiosError(t.t0)){t.next=16;break}return console.log("error message: ",t.t0.message),f.ZP.error(t.t0.message),t.abrupt("return",{data:null,error:!0,message:t.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",t.t0),f.ZP.error("An unexpected error occurred"),t.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return t.stop()}},c,null,[[0,8]])})),E.apply(this,arguments)}var g=function(){var c=P()(v()().mark(function l(s){var u,m;return v()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i.Z.get("/area/detail/".concat(s),{method:"GET"});case 3:return u=n.sent,m=u.data,n.abrupt("return",{data:m.data,error:!1,message:"Success Get",responseCode:m.responseCode});case 8:if(n.prev=8,n.t0=n.catch(0),!p().isAxiosError(n.t0)){n.next=16;break}return console.log("error message: ",n.t0.message),f.ZP.error(n.t0.message),n.abrupt("return",{data:null,error:!0,message:n.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",n.t0),f.ZP.error("An unexpected error occurred"),n.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return n.stop()}},l,null,[[0,8]])}));return function(s){return c.apply(this,arguments)}}(),Z=function(){var c=P()(v()().mark(function l(s){var u,m,t;return v()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,i.Z.post("/area",{company_name:s.company_name,area_name:s.area_name,pic_name:s.pic_name,billing_address:s.billing_address,image:s.image,phone:s.phone,email_pic:s.email_pic,email_pic_admin:s.email_pic_admin,address:s.address,latitude:s.latitude,longitude:s.longitude},{headers:{"Content-Type":"multipart/form-data"}});case 3:return u=o.sent,m=u.data,o.abrupt("return",_()(_()({},m),{},{status:"ok",error:!1}));case 8:if(o.prev=8,o.t0=o.catch(0),!p().isAxiosError(o.t0)){o.next=17;break}return console.log("error message: ",o.t0.message),t=o.t0.response,t.data.message?f.ZP.error(t.data.message):f.ZP.error(o.t0.message),o.abrupt("return",{responseCode:400,message:o.t0.message,error:!0});case 17:return console.log("unexpected error: ",o.t0),f.ZP.error("An unexpected error occured"),o.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return o.stop()}},l,null,[[0,8]])}));return function(s){return c.apply(this,arguments)}}(),j=function(){var c=P()(v()().mark(function l(s,u){var m,t,n;return v()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,i.Z.post("/area/setting/"+u,_()({},s));case 3:return m=a.sent,t=m.data,a.abrupt("return",_()(_()({},t),{},{status:"ok",error:!1}));case 8:if(a.prev=8,a.t0=a.catch(0),!p().isAxiosError(a.t0)){a.next=17;break}return console.log("error message: ",a.t0.message),n=a.t0.response,n.data.message?f.ZP.error(n.data.message):f.ZP.error(a.t0.message),a.abrupt("return",{responseCode:400,message:a.t0.message,error:!0});case 17:return console.log("unexpected error: ",a.t0),f.ZP.error("An unexpected error occured"),a.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return a.stop()}},l,null,[[0,8]])}));return function(s,u){return c.apply(this,arguments)}}(),y=null,O=function(){var c=P()(v()().mark(function l(s,u){var m,t,n;return v()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,i.Z.put("/area/"+u,s);case 3:return m=a.sent,t=m.data,a.abrupt("return",_()(_()({},t),{},{status:"ok",error:!1}));case 8:if(a.prev=8,a.t0=a.catch(0),!p().isAxiosError(a.t0)){a.next=17;break}return console.log("error message: ",a.t0.message),n=a.t0.response,n.data.message?f.ZP.error(n.data.message):f.ZP.error(a.t0.message),a.abrupt("return",{responseCode:400,message:a.t0.message,error:!0});case 17:return console.log("unexpected error: ",a.t0),f.ZP.error("An unexpected error occured"),a.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return a.stop()}},l,null,[[0,8]])}));return function(s,u){return c.apply(this,arguments)}}()},27049:function(w,I,r){var M=r(87462),_=r(4942),L=r(94184),v=r.n(L),C=r(67294),P=r(53124),f=function(p,i){var h={};for(var E in p)Object.prototype.hasOwnProperty.call(p,E)&&i.indexOf(E)<0&&(h[E]=p[E]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,E=Object.getOwnPropertySymbols(p);g<E.length;g++)i.indexOf(E[g])<0&&Object.prototype.propertyIsEnumerable.call(p,E[g])&&(h[E[g]]=p[E[g]]);return h},T=function(i){var h,E=C.useContext(P.E_),g=E.getPrefixCls,Z=E.direction,j=i.prefixCls,y=i.type,O=y===void 0?"horizontal":y,c=i.orientation,l=c===void 0?"center":c,s=i.orientationMargin,u=i.className,m=i.children,t=i.dashed,n=i.plain,o=f(i,["prefixCls","type","orientation","orientationMargin","className","children","dashed","plain"]),a=g("divider",j),S=l.length>0?"-".concat(l):l,A=!!m,B=l==="left"&&s!=null,e=l==="right"&&s!=null,$=v()(a,"".concat(a,"-").concat(O),(h={},(0,_.Z)(h,"".concat(a,"-with-text"),A),(0,_.Z)(h,"".concat(a,"-with-text").concat(S),A),(0,_.Z)(h,"".concat(a,"-dashed"),!!t),(0,_.Z)(h,"".concat(a,"-plain"),!!n),(0,_.Z)(h,"".concat(a,"-rtl"),Z==="rtl"),(0,_.Z)(h,"".concat(a,"-no-default-orientation-margin-left"),B),(0,_.Z)(h,"".concat(a,"-no-default-orientation-margin-right"),e),h),u),R=(0,M.Z)((0,M.Z)({},B&&{marginLeft:s}),e&&{marginRight:s});return C.createElement("div",(0,M.Z)({className:$},o,{role:"separator"}),m&&O!=="vertical"&&C.createElement("span",{className:"".concat(a,"-inner-text"),style:R},m))};I.Z=T}}]);
