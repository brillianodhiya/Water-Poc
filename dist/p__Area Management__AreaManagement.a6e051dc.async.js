"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9308],{32676:function(G,v,t){t.r(v);var O=t(97983),p=t.n(O),j=t(40794),m=t.n(j),b=t(12741),g=t.n(b),d=t(4745),T=t(68795),f=t(24969),c=t(87547),Z=t(38402),E=t(30028),R=t(69677),D=t(71577),y=t(27049),L=t(11382),U=t(71230),I=t(59652),K=t(26713),h=t(21802),C=t(24093),l=t(67294),a=t(85893),u=R.Z.Search,o=function(){var s=l.useState([]),r=g()(s,2),e=r[0],n=r[1],w=l.useState(!1),$=g()(w,2),z=$[0],B=$[1],F=l.useState(!1),W=g()(F,2),S=W[0],k=W[1],H=(0,E.useModel)("@@initialState"),N=H.initialState,J=N.currentUser,Q=function(A){A||B(!1)},V=function(){var _=m()(p()().mark(function A(){var M;return p()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return k(!0),P.next=3,(0,d.bg)({});case 3:M=P.sent,console.log(M),k(!1),M.error||n(M.data);case 7:case"end":return P.stop()}},A)}));return function(){return _.apply(this,arguments)}}();return l.useEffect(function(){V()},[]),(0,a.jsxs)(Z._z,{childrenContentStyle:{minHeight:"70vh"},title:"Area Management",content:"Management area setting, device and more.",extra:(0,a.jsxs)(a.Fragment,{children:[z?(0,a.jsx)(u,{onSearch:Q,style:{width:200},className:"search-rounded",allowClear:!0}):(0,a.jsx)(D.Z,{shape:"circle",icon:(0,a.jsx)(T.Z,{}),onClick:function(){B(!0)}}),J.role!="area"?(0,a.jsxs)(D.Z,{shape:"round",onClick:function(){E.history.push("/area/create")},children:[(0,a.jsx)(f.Z,{})," Create Area"]}):(0,a.jsx)(a.Fragment,{})]}),children:[(0,a.jsx)(y.Z,{}),(0,a.jsx)(L.Z,{spinning:S,children:(0,a.jsx)(U.Z,{children:e.map(function(_){return(0,a.jsxs)(I.Z,{loading:S,className:"ant-col ant-col-xs-24\r ant-col-sm-12 ant-col-md-12 ant-col-lg-8 ant-col-xl-8 ant-col-xxl-8 card-hover",onClick:function(){return E.history.push("/area/info",{area_id:_.id})},style:{cursor:"pointer"},actions:[(0,a.jsxs)(K.Z,{style:{cursor:"pointer",float:"left",paddingLeft:20},onClick:function(){return E.history.push("/area/info",{area_id:_.id})},children:[(0,a.jsx)(c.Z,{color:"#8C8C8C"}),(0,a.jsx)(h.Z.Text,{children:_.pic_name})]},_.id)],children:[(0,a.jsxs)(K.Z,{align:"center",children:[_.photo&&_.photo!==""?(0,a.jsx)(C.C,{src:_.photo,size:48}):(0,a.jsx)(C.C,{icon:(0,a.jsx)(c.Z,{}),size:48}),(0,a.jsx)(h.Z.Text,{strong:!0,children:_.area_name})]}),(0,a.jsx)(h.Z.Paragraph,{type:"secondary",style:{paddingTop:15,minHeight:70},children:_.address})]},_.id)})})})]})};v.default=o},4745:function(G,v,t){t.d(v,{K7:function(){return C},OO:function(){return D},Ug:function(){return U},_J:function(){return y},_j:function(){return L},bg:function(){return Z},if:function(){return I},yz:function(){return R}});var O=t(11281),p=t.n(O),j=t(97983),m=t.n(j),b=t(40794),g=t.n(b),d=t(12461),T=t(9669),f=t.n(T),c=t(9212);function Z(l){return E.apply(this,arguments)}function E(){return E=g()(m()().mark(function l(a){var u,o;return m()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,c.Z.get("/area",p()({method:"GET"},a||{}));case 3:return u=s.sent,o=u.data,s.abrupt("return",{data:o.data,error:!1,message:"Success Get",responseCode:o.responseCode});case 8:if(s.prev=8,s.t0=s.catch(0),!f().isAxiosError(s.t0)){s.next=16;break}return console.log("error message: ",s.t0.message),d.ZP.error(s.t0.message),s.abrupt("return",{data:null,error:!0,message:s.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",s.t0),d.ZP.error("An unexpected error occurred"),s.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return s.stop()}},l,null,[[0,8]])})),E.apply(this,arguments)}var R=function(){var l=g()(m()().mark(function a(u){var o,i;return m()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,c.Z.get("/area/detail/".concat(u),{method:"GET"});case 3:return o=r.sent,i=o.data,r.abrupt("return",{data:i.data,error:!1,message:"Success Get",responseCode:i.responseCode});case 8:if(r.prev=8,r.t0=r.catch(0),!f().isAxiosError(r.t0)){r.next=16;break}return console.log("error message: ",r.t0.message),d.ZP.error(r.t0.message),r.abrupt("return",{data:null,error:!0,message:r.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",r.t0),d.ZP.error("An unexpected error occurred"),r.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return r.stop()}},a,null,[[0,8]])}));return function(u){return l.apply(this,arguments)}}(),D=function(){var l=g()(m()().mark(function a(u){var o,i,s;return m()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.post("/area",{company_name:u.company_name,area_name:u.area_name,pic_name:u.pic_name,billing_address:u.billing_address,image:u.image,phone:u.phone,email_pic:u.email_pic,email_pic_admin:u.email_pic_admin,address:u.address,latitude:u.latitude,longitude:u.longitude},{headers:{"Content-Type":"multipart/form-data"}});case 3:return o=e.sent,i=o.data,e.abrupt("return",p()(p()({},i),{},{status:"ok",error:!1}));case 8:if(e.prev=8,e.t0=e.catch(0),!f().isAxiosError(e.t0)){e.next=17;break}return console.log("error message: ",e.t0.message),s=e.t0.response,s.data.message?d.ZP.error(s.data.message):d.ZP.error(e.t0.message),e.abrupt("return",{responseCode:400,message:e.t0.message,error:!0});case 17:return console.log("unexpected error: ",e.t0),d.ZP.error("An unexpected error occured"),e.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return e.stop()}},a,null,[[0,8]])}));return function(u){return l.apply(this,arguments)}}(),y=function(){var l=g()(m()().mark(function a(u,o){var i,s,r;return m()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.Z.post("/area/setting/"+o,p()({},u));case 3:return i=n.sent,s=i.data,n.abrupt("return",p()(p()({},s),{},{status:"ok",error:!1}));case 8:if(n.prev=8,n.t0=n.catch(0),!f().isAxiosError(n.t0)){n.next=17;break}return console.log("error message: ",n.t0.message),r=n.t0.response,r.data.message?d.ZP.error(r.data.message):d.ZP.error(n.t0.message),n.abrupt("return",{responseCode:400,message:n.t0.message,error:!0});case 17:return console.log("unexpected error: ",n.t0),d.ZP.error("An unexpected error occured"),n.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return n.stop()}},a,null,[[0,8]])}));return function(u,o){return l.apply(this,arguments)}}(),L=function(){var l=g()(m()().mark(function a(u){var o,i,s;return m()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.post("/area/pricing",u);case 3:return o=e.sent,i=o.data,e.abrupt("return",p()(p()({},i),{},{status:"ok",error:!1}));case 8:if(e.prev=8,e.t0=e.catch(0),!f().isAxiosError(e.t0)){e.next=17;break}return console.log("error message: ",e.t0.message),s=e.t0.response,s.data.message?d.ZP.error(s.data.message):d.ZP.error(e.t0.message),e.abrupt("return",{responseCode:400,message:e.t0.message,error:!0});case 17:return console.log("unexpected error: ",e.t0),d.ZP.error("An unexpected error occured"),e.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return e.stop()}},a,null,[[0,8]])}));return function(u){return l.apply(this,arguments)}}(),U=function(){var l=g()(m()().mark(function a(u,o){var i,s,r;return m()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.Z.put("/area/"+o,u);case 3:return i=n.sent,s=i.data,n.abrupt("return",p()(p()({},s),{},{status:"ok",error:!1}));case 8:if(n.prev=8,n.t0=n.catch(0),!f().isAxiosError(n.t0)){n.next=17;break}return console.log("error message: ",n.t0.message),r=n.t0.response,r.data.message?d.ZP.error(r.data.message):d.ZP.error(n.t0.message),n.abrupt("return",{responseCode:400,message:n.t0.message,error:!0});case 17:return console.log("unexpected error: ",n.t0),d.ZP.error("An unexpected error occured"),n.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return n.stop()}},a,null,[[0,8]])}));return function(u,o){return l.apply(this,arguments)}}(),I=function(){var l=g()(m()().mark(function a(u){var o,i,s;return m()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.post("/area/create/member/"+u.area_id,{member_name:u.member_name});case 3:return o=e.sent,i=o.data,e.abrupt("return",p()(p()({},i),{},{status:"ok",error:!1}));case 8:if(e.prev=8,e.t0=e.catch(0),!f().isAxiosError(e.t0)){e.next=17;break}return console.log("error message: ",e.t0.message),s=e.t0.response,s.data.message?d.ZP.error(s.data.message):d.ZP.error(e.t0.message),e.abrupt("return",{responseCode:400,message:e.t0.message,error:!0});case 17:return console.log("unexpected error: ",e.t0),d.ZP.error("An unexpected error occured"),e.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return e.stop()}},a,null,[[0,8]])}));return function(u){return l.apply(this,arguments)}}();function K(l,a){return h.apply(this,arguments)}function h(){return h=_asyncToGenerator(_regeneratorRuntime().mark(function l(a,u){var o,i;return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,api.get("/area/member/"+u,_objectSpread({method:"GET"},a||{}));case 3:return o=r.sent,i=o.data,r.abrupt("return",{data:i.data,error:!1,message:"Success Get",responseCode:i.responseCode});case 8:if(r.prev=8,r.t0=r.catch(0),!axios.isAxiosError(r.t0)){r.next=16;break}return console.log("error message: ",r.t0.message),message.error(r.t0.message),r.abrupt("return",{data:null,error:!0,message:r.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",r.t0),message.error("An unexpected error occurred"),r.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return r.stop()}},l,null,[[0,8]])})),h.apply(this,arguments)}var C=function(){var l=g()(m()().mark(function a(u){var o,i,s;return m()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.post("/area/pricing/member",u,{});case 3:return o=e.sent,i=o.data,e.abrupt("return",p()(p()({},i),{},{status:"ok",error:!1}));case 8:if(e.prev=8,e.t0=e.catch(0),!f().isAxiosError(e.t0)){e.next=17;break}return console.log("error message: ",e.t0.message),s=e.t0.response,s.data.message?d.ZP.error(s.data.message):d.ZP.error(e.t0.message),e.abrupt("return",{responseCode:400,message:e.t0.message,error:!0});case 17:return console.log("unexpected error: ",e.t0),d.ZP.error("An unexpected error occured"),e.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return e.stop()}},a,null,[[0,8]])}));return function(u){return l.apply(this,arguments)}}()}}]);
