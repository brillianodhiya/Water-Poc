"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9234],{82826:function(N,v,n){n.d(v,{Z:function(){return M}});var f=n(1413),d=n(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},P=O,D=n(84089),s=function(g,Z){return d.createElement(D.Z,(0,f.Z)((0,f.Z)({},g),{},{ref:Z,icon:P}))};s.displayName="ArrowLeftOutlined";var M=d.forwardRef(s)},58904:function(N,v,n){n.r(v);var f=n(97983),d=n.n(f),O=n(40794),P=n.n(O),D=n(12741),s=n.n(D),M=n(5200),K=n.n(M),g=n(87806),Z=n(82826),k=n(24969),G=n(71063),h=n(14776),l=n(66490),T=n(422),x=n(71577),C=n(26713),L=n(58492),_=n(67669),H=n(27049),J=n(11382),Q=n(71230),a=n(15746),A=n(11486),V=n(74565),X=n(83652),c=n(67294),Y=n(64593),e=n(85893),q=function(I){return new Promise(function(R,y){var u=new FileReader;u.readAsDataURL(I),u.onload=function(){return R(u.result)},u.onerror=function(U){return y(U)}})},ee=function(I){K()(I);var R=l.Z.useForm(),y=s()(R,1),u=y[0],U=(0,h.useLocation)(),r=U.state,te=c.useState([]),W=s()(te,2),E=W[0],B=W[1],ae=(0,c.useState)(!1),S=s()(ae,2),re=S[0],F=S[1],se=c.useState(!1),w=s()(se,2),le=w[0],b=w[1],ie=(0,c.useState)(""),$=s()(ie,2),oe=$[0],_e=$[1],de=(0,c.useState)(""),z=s()(de,2),ue=z[0],me=z[1];console.log(r.dataEdit.photo),c.useEffect(function(){r.dataEdit?(u.setFields([{name:"name",value:r.dataEdit.name},{name:"email",value:r.dataEdit.email},{name:"email",value:r.dataEdit.email},{name:"phone",value:r.dataEdit.phone},{name:"role_id",value:r.dataEdit.role_id}]),B([{uid:"1",name:"default logo",status:"done",url:r.dataEdit.photo}])):h.history.push("/users/company")},[r.dataEdit]);var ce=function(o){var t=o.fileList;return B(t)},he=function(){var i=P()(d()().mark(function o(t){return d()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(!(!t.url&&!t.preview)){m.next=4;break}return m.next=3,q(t.originFileObj);case 3:t.preview=m.sent;case 4:_e(t.url||t.preview),F(!0),me(t.name||t.url.substring(t.url.lastIndexOf("/")+1));case 7:case"end":return m.stop()}},o)}));return function(t){return i.apply(this,arguments)}}();console.log(E);var Ee=function(){var i=P()(d()().mark(function o(t){var p;return d()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return b(!0),j.next=3,(0,g.TL)({name:t.name,phone:t.phone,email:t.email,role_id:t.role_id,password:"12345",image:E[0].originFileObj,id:r.dataEdit.id});case 3:p=j.sent,b(!1),p.error?T.Z.error({content:p.message}):T.Z.success({content:p.message,onOk:function(){h.history.back()}});case 6:case"end":return j.stop()}},o)}));return function(t){return i.apply(this,arguments)}}();return(0,e.jsxs)(G._zJ,{breadcrumb:void 0,title:(0,e.jsx)(x.Z,{type:"link",onClick:function(){return h.history.back()},size:"large",children:(0,e.jsxs)(C.Z,{style:{cursor:"pointer"},align:"start",size:"large",children:[(0,e.jsx)(Z.Z,{onClick:function(){return h.history.back()},style:{marginTop:"12px",fontSize:"24px",color:"#000"}}),(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"column",textAlign:"left"},children:[(0,e.jsxs)(L.Z,{children:[(0,e.jsx)(L.Z.Item,{children:"User"}),(0,e.jsx)(L.Z.Item,{href:"#",children:"Edit User Company"})]}),(0,e.jsx)(_.Z.Title,{level:5,children:"Edit User"})]})]})}),style:{borderTop:"1px solid rgba(0, 0, 0, 0.06)"},children:[(0,e.jsxs)(Y.q,{children:[(0,e.jsx)("meta",{charSet:"utf-8"}),(0,e.jsx)("title",{children:"AAT IoT Platform | User"}),(0,e.jsx)("link",{rel:"icon",href:"https://aetratangerang.co.id/wp-content/uploads/2020/07/cropped-favicon-192x192.png",type:"image/x-icon"})]}),(0,e.jsx)(H.Z,{style:{paddingTop:0,marginTop:0}}),(0,e.jsx)(J.Z,{spinning:le,children:(0,e.jsx)(l.Z,{form:u,name:"add-area",onFinish:Ee,style:{width:500,margin:"0px auto",paddingTop:20},children:(0,e.jsxs)(Q.Z,{gutter:16,children:[(0,e.jsx)(a.Z,{span:12,children:(0,e.jsx)(_.Z,{children:"Full Name"})}),(0,e.jsx)(a.Z,{span:12,children:(0,e.jsx)(l.Z.Item,{name:"name",rules:[{required:!0,message:"Please input full name!"}],requiredMark:"optional",children:(0,e.jsx)(A.Z,{placeholder:"Full Name"})})}),(0,e.jsx)(a.Z,{span:12,children:(0,e.jsx)(_.Z,{children:"Email"})}),(0,e.jsx)(a.Z,{span:12,children:(0,e.jsx)(l.Z.Item,{name:"email",rules:[{required:!0,message:"Please input email!",type:"email"}],requiredMark:"optional",children:(0,e.jsx)(A.Z,{placeholder:"Email"})})}),(0,e.jsx)(a.Z,{span:12,children:(0,e.jsx)(_.Z,{children:"Phone"})}),(0,e.jsx)(a.Z,{span:12,children:(0,e.jsx)(l.Z.Item,{name:"phone",rules:[{required:!0,message:"Please input phone!"},{pattern:/^(\+62|62|0)8[1-9][0-9]{6,13}$/g,message:"Phone not valid!"}],requiredMark:"optional",children:(0,e.jsx)(A.Z,{placeholder:"Phone"})})}),(0,e.jsx)(a.Z,{span:12,children:(0,e.jsx)(_.Z,{children:(0,e.jsxs)("div",{children:[(0,e.jsx)(_.Z,{style:{fontSize:16},children:"Photo"}),(0,e.jsx)(_.Z,{style:{fontSize:12,color:"#8C8C8C"},children:"This wil be displayed on profile."})]})})}),(0,e.jsx)(a.Z,{span:12,children:(0,e.jsx)(l.Z.Item,{style:{marginTop:"24px"},children:(0,e.jsxs)(C.Z,{children:[(0,e.jsx)(V.Z,{listType:"picture-card",fileList:E,customRequest:function(o){var t=o.onSuccess;t&&setTimeout(function(){t("ok")},0)},maxCount:1,multiple:!1,accept:"image/*",onChange:ce,onPreview:he,children:E.length>0?null:(0,e.jsxs)("div",{children:[(0,e.jsx)(k.Z,{}),(0,e.jsx)("div",{style:{marginTop:8},children:"Upload"})]})}),(0,e.jsx)(T.Z,{open:re,title:ue,footer:null,onCancel:function(){return F(!1)},children:(0,e.jsx)("img",{alt:"example",style:{width:"100%"},src:oe})}),E.length>0?(0,e.jsx)(x.Z,{danger:!0,type:"text",onClick:function(){return B([])},children:"Delete"}):null]})})}),(0,e.jsx)(a.Z,{span:12,children:(0,e.jsx)(_.Z,{children:"Role"})}),(0,e.jsx)(a.Z,{span:12,children:(0,e.jsx)(l.Z.Item,{name:"role_id",rules:[{required:!0,message:"Please select role!"}],requiredMark:"optional",children:(0,e.jsx)(X.Z,{placeholder:"Select Role",className:"not-rounded",options:[{label:"Admin",value:1},{label:"Finance",value:4},{label:"Technician",value:5}]})})}),(0,e.jsx)(a.Z,{offset:16,children:(0,e.jsxs)(C.Z,{children:[(0,e.jsx)(l.Z.Item,{children:(0,e.jsx)(x.Z,{type:"primary",htmlType:"submit",children:"Save"})}),(0,e.jsx)(l.Z.Item,{children:(0,e.jsx)(x.Z,{type:"default",htmlType:"button",children:"Cancel"})})]})})]})})})]})};v.default=ee}}]);
