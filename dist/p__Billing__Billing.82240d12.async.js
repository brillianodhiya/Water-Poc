"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8629],{96773:function(X,O,a){a.r(O);var T=a(97983),h=a.n(T),B=a(40794),c=a.n(B),U=a(12741),o=a.n(U),j=a(5200),L=a.n(j),C=a(98435),I=a(39173),W=a(78560),i=a(75539),K=a(41231),D=a(58638),g=a(99611),E=a(38402),u=a(30028),P=a(27049),n=a(59652),r=a(71230),f=a(15746),x=a(26713),v=a(21802),k=a(69677),w=a(40038),_=a(63922),q=a(41232),S=a(71577),b=a(23349),l=a(94217),ee=a(30381),ae=a.n(ee),m=a(67294),te=a(64593),e=a(85893),ne=function(re){L()(re);var se=m.useState([]),$=o()(se,2),N=$[0],_e=$[1],le=m.useState(!1),G=o()(le,2),Y=G[0],z=G[1],de=m.useState(0),H=o()(de,2),p=H[0],oe=H[1],ie=m.useState(0),V=o()(ie,2),R=V[0],ue=V[1],me=m.useState(void 0),F=o()(me,2),A=F[0],Ee=F[1],ce=m.useState("all"),J=o()(ce,2),Z=J[0],je=J[1],De=m.useState(""),Q=o()(De,2),y=Q[0],ge=Q[1],Pe=function(){var d=c()(h()().mark(function t(){var s;return h()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return z(!0),M.next=3,(0,K.t)({params:{area_id:p||void 0,tenant_id:R||void 0,periode:A?A.format("YYYY-MM"):void 0,status:Z!=="all"?Z:void 0,search:y||void 0}});case 3:s=M.sent,console.log(s),z(!1),s.error||_e(s.data);case 7:case"end":return M.stop()}},t)}));return function(){return d.apply(this,arguments)}}();m.useEffect(function(){Pe()},[p,R,A,Z,y]);var fe=function(){(0,W.x)()("billing","Billing ","Billing "+ae()().unix())};return(0,e.jsxs)(E._z,{childrenContentStyle:{minHeight:"70vh"},title:"Transaction Billing",content:"Manage your billing",children:[(0,e.jsx)(P.Z,{}),(0,e.jsxs)(n.Z,{style:{borderRadius:8,marginBottom:20},bodyStyle:{background:" rgba(230, 247, 255, 0.5)"},children:[(0,e.jsxs)(te.q,{children:[(0,e.jsx)("meta",{charSet:"utf-8"}),(0,e.jsx)("title",{children:"Nebula Apps | Billing"}),(0,e.jsx)("link",{rel:"icon",href:"https://aetratangerang.co.id/wp-content/uploads/2020/07/cropped-favicon-192x192.png",type:"image/x-icon"})]}),(0,e.jsxs)(r.Z,{gutter:[16,16],justify:"space-between",align:"bottom",children:[(0,e.jsx)(f.Z,{children:(0,e.jsxs)(x.Z,{direction:"vertical",children:[(0,e.jsx)(v.Z,{children:"Search"}),(0,e.jsx)(k.Z.Search,{onSearch:function(t){return ge(t)},style:{borderRadius:"20px"},placeholder:"No Invoice"})]})}),(0,e.jsx)(f.Z,{children:(0,e.jsxs)(x.Z,{direction:"vertical",children:[(0,e.jsx)(v.Z,{children:"Status"}),(0,e.jsx)(w.Z,{value:Z,style:{width:150,borderRadius:100},onChange:function(t){je(t)},options:[{value:"all",label:(0,e.jsx)(_.Z,{color:"blue",text:"All"})},{value:"new",label:(0,e.jsx)(_.Z,{color:"cyan",text:"New"})},{value:"paid",label:(0,e.jsx)(_.Z,{color:"green",text:"Paid"})},{value:"unpaid",label:(0,e.jsx)(_.Z,{color:"orange",text:"Unpaid"})},{value:"cancel",label:(0,e.jsx)(_.Z,{color:"red",text:"Cancel"})}]})]})}),(0,e.jsx)(f.Z,{children:(0,e.jsxs)(x.Z,{direction:"vertical",children:[(0,e.jsx)(v.Z,{children:"Area"}),(0,e.jsx)(C.U,{useAll:!0,defaultArea0:!1,value:p,onChange:function(t){return oe(t)},type:"rounded",disabled:!1,style:{width:"200px"}})]})}),(0,e.jsx)(f.Z,{children:(0,e.jsxs)(x.Z,{direction:"vertical",children:[(0,e.jsx)(v.Z,{children:"Tenant"}),(0,e.jsx)(I.w,{useAll:!0,onChange:function(t){return ue(t)},style:{width:"200px"},type:"rounded",areaId:p==0?void 0:p,value:R,disabled:!1})]})}),(0,e.jsx)(f.Z,{children:(0,e.jsxs)(x.Z,{direction:"vertical",children:[(0,e.jsx)(v.Z,{children:"Priode"}),(0,e.jsx)(q.Z.MonthPicker,{value:A,onChange:function(t){return Ee(t)}})]})}),(0,e.jsx)(f.Z,{style:{paddingTop:20},children:(0,e.jsx)(S.Z,{type:"primary",icon:(0,e.jsx)(D.Z,{}),onClick:fe,children:"Export"})})]})]}),(0,e.jsxs)(b.Z,{dataSource:N,loading:Y,style:{borderRadius:8,border:"1px solid #f0f0f0"},children:[(0,e.jsx)(l.Z,{title:"No Invoice",dataIndex:"invoice"},"invoice"),(0,e.jsx)(l.Z,{title:"Area Name",dataIndex:["Nebula_Area","area_name"]},"area_name"),(0,e.jsx)(l.Z,{title:"Tenant",dataIndex:["Nebula_Tenant","name"]},"tenant_name"),(0,e.jsx)(l.Z,{title:"Periode",dataIndex:"periode"},"periode"),(0,e.jsx)(l.Z,{title:"Usage",dataIndex:"usage",render:function(t){return(0,i.q)(t)}},"usage"),(0,e.jsx)(l.Z,{title:"Status",dataIndex:"status",render:function(t,s){return s.status==="new"?(0,e.jsx)(_.Z,{color:"cyan",text:"New"}):s.status==="paid"?(0,e.jsx)(_.Z,{color:"green",text:"Paid"}):s.status==="unpaid"?(0,e.jsx)(_.Z,{color:"orange",text:"Unpaid"}):s.status==="cancel"?(0,e.jsx)(_.Z,{color:"red",text:"Paid"}):(0,e.jsx)(_.Z,{color:"cyan",text:"Paid"})}},"status"),(0,e.jsx)(l.Z,{title:"Amount",dataIndex:"grand_total",render:function(t){return"Rp."+(0,i.q)(t)+",00"}},"grand_total"),(0,e.jsx)(l.Z,{title:"Action",render:function(t,s){return(0,e.jsxs)(S.Z,{size:"small",type:"primary",ghost:!0,onClick:function(){console.log(s),u.history.push("/billing/detail/"+s.id)},children:[(0,e.jsx)(g.Z,{}),"View Detail"]})}},"action")]}),(0,e.jsxs)("div",{style:{opacity:0,position:"fixed"},children:[(0,e.jsx)("a",{id:"dlink"}),(0,e.jsxs)(b.Z,{id:"billing",dataSource:N,loading:Y,pagination:!1,children:[(0,e.jsx)(l.Z,{title:"No Invoice",dataIndex:"invoice"},"invoice"),(0,e.jsx)(l.Z,{title:"Area Name",dataIndex:["Nebula_Area","area_name"]},"area_name"),(0,e.jsx)(l.Z,{title:"Tenant",dataIndex:["Nebula_Tenant","name"]},"tenant_name"),(0,e.jsx)(l.Z,{title:"Periode",dataIndex:"periode"},"periode"),(0,e.jsx)(l.Z,{title:"Usage",dataIndex:"usage",render:function(t){return(0,i.q)(t)}},"usage"),(0,e.jsx)(l.Z,{title:"Status",dataIndex:"status",render:function(t,s){return s.status==="new"?(0,e.jsx)(_.Z,{color:"cyan",text:"New"}):s.status==="paid"?(0,e.jsx)(_.Z,{color:"green",text:"Paid"}):s.status==="unpaid"?(0,e.jsx)(_.Z,{color:"orange",text:"Unpaid"}):s.status==="cancel"?(0,e.jsx)(_.Z,{color:"red",text:"Paid"}):(0,e.jsx)(_.Z,{color:"cyan",text:"Paid"})}},"status"),(0,e.jsx)(l.Z,{title:"Amount",dataIndex:"amount",render:function(t){return"Rp."+(0,i.q)(t)+",00"}},"amount")]})]})]})};O.default=ne},41231:function(X,O,a){a.d(O,{W:function(){return K},t:function(){return W}});var T=a(11281),h=a.n(T),B=a(97983),c=a.n(B),U=a(40794),o=a.n(U),j=a(12461),L=a(9669),C=a.n(L),I=a(9212);function W(D){return i.apply(this,arguments)}function i(){return i=o()(c()().mark(function D(g){var E,u;return c()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,I.Z.get("/billing",h()({method:"GET"},g||{}));case 3:return E=n.sent,u=E.data,n.abrupt("return",{data:u.data,error:!1,message:"Success Get",responseCode:u.responseCode});case 8:if(n.prev=8,n.t0=n.catch(0),!C().isAxiosError(n.t0)){n.next=16;break}return console.log("error message: ",n.t0.message),j.ZP.error(n.t0.message),n.abrupt("return",{data:null,error:!0,message:n.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",n.t0),j.ZP.error("An unexpected error occurred"),n.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return n.stop()}},D,null,[[0,8]])})),i.apply(this,arguments)}var K=function(){var D=o()(c()().mark(function g(E){var u,P;return c()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,I.Z.get("/billing/"+E,{method:"GET"});case 3:return u=r.sent,P=u.data,r.abrupt("return",{data:P.data,error:!1,message:"Success Get",responseCode:P.responseCode});case 8:if(r.prev=8,r.t0=r.catch(0),!C().isAxiosError(r.t0)){r.next=16;break}return console.log("error message: ",r.t0.message),j.ZP.error(r.t0.message),r.abrupt("return",{data:null,error:!0,message:r.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",r.t0),j.ZP.error("An unexpected error occurred"),r.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return r.stop()}},g,null,[[0,8]])}));return function(E){return D.apply(this,arguments)}}()}}]);
