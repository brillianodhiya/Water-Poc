"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7594],{82826:function(N,R,e){e.d(R,{Z:function(){return v}});var O=e(1413),g=e(67294),T={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},A=T,L=e(84089),P=function(M,D){return g.createElement(L.Z,(0,O.Z)((0,O.Z)({},M),{},{ref:D,icon:A}))};P.displayName="ArrowLeftOutlined";var v=g.forwardRef(P)},86873:function(N,R,e){e.d(R,{B:function(){return P}});var O=e(97983),g=e.n(O),T=e(40794),A=e.n(T),L=e(52948),P=function(){var v=A()(g()().mark(function h(M,D){var E;return g()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return L.Z.setApiKey("AIzaSyAcli1qFFLWrhhlDhVUCWkAJqzEY6Cp9UI"),L.Z.setLanguage("en"),L.Z.setRegion("id"),c.next=5,L.Z.fromLatLng(M,D);case 5:return E=c.sent,c.next=8,E==null?void 0:E.results[0].formatted_address;case 8:return c.abrupt("return",c.sent);case 9:case"end":return c.stop()}},h)}));return function(M,D){return v.apply(this,arguments)}}()},72923:function(N,R,e){e.d(R,{Z:function(){return c}});var O=e(97983),g=e.n(O),T=e(40794),A=e.n(T),L=e(67294),P=e(37054),v=e(69677),h=e(21802),M=e(49288),D=e(20906),E=e(85893),U=v.Z.Search;function c(i){var _=i.center,o=_===void 0?{lat:-6.2,lng:106.816666}:_,r=i.onChange,s=r===void 0?function(n){}:r,d=(0,P.Db)({googleMapsApiKey:"AIzaSyAcli1qFFLWrhhlDhVUCWkAJqzEY6Cp9UI",libraries:["places"]}),p=d.isLoaded;return p?(0,E.jsx)(m,{c:o,onChange:s}):(0,E.jsx)("div",{children:"Loading..."})}function m(i){var _=i.c,o=_===void 0?{lat:-6.2,lng:106.816666}:_,r=i.onChange,s=r===void 0?function(p){}:r,d=(0,L.useMemo)(function(){return o},[o]);return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px",alignItems:"center",alignContent:"center"},children:[(0,E.jsx)(h.Z,{style:{fontSize:"14px",fontWeight:400,marginTop:"12px"},children:"Pin Location"}),(0,E.jsx)(a,{setSelected:s})]}),(0,E.jsx)(P.b6,{onRightClick:function(n){var t=n.latLng.lat(),f=n.latLng.lng();console.log(n,"E");try{s({lat:t,lng:f})}catch(u){}},zoom:16,center:d,mapContainerClassName:"map-container-gateway",children:(0,E.jsx)(P.Jx,{onDragEnd:function(n){var t=n.latLng.lat(),f=n.latLng.lng();try{s({lat:t,lng:f})}catch(u){}},draggable:!0,position:d})})]})}var a=function(_){var o=_.setSelected,r=(0,D.ZP)(),s=r.ready,d=r.value,p=r.setValue,n=r.suggestions,t=n.status,f=n.data,u=r.clearSuggestions,S=function(){var B=A()(g()().mark(function C(K){var l,F,Z,k;return g()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return p(JSON.parse(K).description,!1),u(),W.next=4,(0,D.LM)({address:K});case 4:return l=W.sent,W.next=7,(0,D.WV)(l[0]);case 7:F=W.sent,Z=F.lat,k=F.lng,o({lat:Z,lng:k});case 11:case"end":return W.stop()}},C)}));return function(K){return B.apply(this,arguments)}}(),$=f.map(function(B){var C=B.place_id,K=B.description;return{label:K,value:JSON.stringify({place_id:C,description:K})}});return(0,E.jsx)(M.Z,{options:$,style:{width:200},onSelect:S,value:d,children:(0,E.jsx)(U,{disabled:!s,value:d,onChange:function(C){return p(C.target.value)},placeholder:"Cari Lokasi",style:{width:200}})})}},98435:function(N,R,e){e.d(R,{U:function(){return E}});var O=e(97983),g=e.n(O),T=e(40794),A=e.n(T),L=e(12741),P=e.n(L),v=e(4745),h=e(40038),M=e(67294),D=e(85893),E=function(c){var m=c.disabled,a=c.onChange,i=c.value,_=c.style,o=c.type,r=o===void 0?"not-rounded":o,s=c.useAll,d=c.defaultArea0,p=d===void 0?!1:d,n=(0,M.useState)([]),t=P()(n,2),f=t[0],u=t[1],S=M.useState(!1),$=P()(S,2),B=$[0],C=$[1],K=function(){var l=A()(g()().mark(function F(){var Z;return g()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return C(!0),w.next=3,(0,v.bg)({});case 3:Z=w.sent,C(!1),Z.error||(u(Z.data),p&&Z.data.length>0&&a(Z.data[0].id));case 6:case"end":return w.stop()}},F)}));return function(){return l.apply(this,arguments)}}();return M.useEffect(function(){K()},[]),(0,D.jsxs)(h.Z,{value:i,placeholder:"Area Name",loading:B,onChange:a,className:r,style:_,disabled:m,children:[s&&(0,D.jsx)(h.Z.Option,{value:0,children:"All Area"},0),f.map(function(l){return(0,D.jsx)(h.Z.Option,{value:l.id,children:l.area_name},l.id)})]})}},57656:function(N,R,e){e.r(R);var O=e(97983),g=e.n(O),T=e(40794),A=e.n(T),L=e(12741),P=e.n(L),v=e(98435),h=e(86873),M=e(72923),D=e(64173),E=e(82826),U=e(38402),c=e(30028),m=e(80737),a=e(14538),i=e(71577),_=e(26713),o=e(58492),r=e(21802),s=e(11382),d=e(71230),p=e(15746),n=e(41232),t=e(69677),f=e(30381),u=e.n(f),S=e(29218),$=e.n(S),B=e(18537),C=e(67294),K=e(64593),l=e(85893);u().locale("en");var F=function(){var k=m.Z.useForm(),w=P()(k,1),W=w[0],V=C.useState({lat:-6.2,lng:106.816666}),J=P()(V,2),G=J[0],z=J[1],Y=C.useState(!1),Q=P()(Y,2),q=Q[0],ee=Q[1],j=B.Z.parse(window.location.search);C.useEffect(function(){j.area_id&&W.setFields([{name:"area_id",value:parseInt(j==null?void 0:j.area_id)},{name:"tenant_id",value:parseInt(j==null?void 0:j.tenant_id)}])},[]),C.useEffect(function(){(0,h.B)(G.lat,G.lng).then(function(y){W.setFields([{name:"address",value:y}])})},[G]);var x=function(){var y=A()(g()().mark(function I(b){var H;return g()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return console.log(b),ee(!0),X.next=4,(0,D.$)({description:b.description,latitude:b.latitude,longitude:b.longitude,area_id:b.area_id,address:b.address,mac_id:b.mac_id,name:b.name});case 4:H=X.sent,ee(!1),H.error?a.Z.error({content:H.message}):a.Z.success({content:H.message,onOk:function(){try{c.history.back()}catch(ne){c.history.push("/device")}}});case 7:case"end":return X.stop()}},I)}));return function(b){return y.apply(this,arguments)}}();return(0,l.jsxs)(U._z,{title:(0,l.jsx)(i.Z,{type:"link",onClick:function(){try{c.history.back()}catch(I){c.history.push("/gateway")}},size:"large",children:(0,l.jsxs)(_.Z,{style:{cursor:"pointer"},align:"start",size:"large",children:[(0,l.jsx)(E.Z,{onClick:function(){try{c.history.back()}catch(I){c.history.push("/gateway")}},style:{marginTop:"12px",fontSize:"24px",color:"#000"}}),(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",textAlign:"left"},children:[(0,l.jsxs)(o.Z,{children:[(0,l.jsx)(o.Z.Item,{children:"Gateway Management"}),(0,l.jsx)(o.Z.Item,{href:"#",children:"Add Gateway"})]}),(0,l.jsx)(r.Z.Title,{level:5,children:"Add Gateway"})]})]})}),children:[(0,l.jsxs)(K.q,{children:[(0,l.jsx)("meta",{charSet:"utf-8"}),(0,l.jsx)("title",{children:"BITA | Gateway"}),(0,l.jsx)("link",{rel:"icon",href:"/logo.png",type:"image/x-icon"})]}),(0,l.jsx)(s.Z,{spinning:q,children:(0,l.jsxs)(m.Z,{form:W,name:"add-area",onFinish:x,layout:"vertical",children:[(0,l.jsxs)(d.Z,{style:{borderTop:"1px solid rgba(0, 0, 0, 0.06)",borderBottom:"1px solid rgba(0, 0, 0, 0.06)",paddingTop:20},gutter:[24,24],children:[(0,l.jsxs)(p.Z,{xs:24,sm:24,md:24,lg:12,xl:8,xxl:8,children:[(0,l.jsx)(m.Z.Item,{label:"Installation Date",name:"installation_date",rules:[{required:!0,message:"Please input installation date!"}],requiredMark:"optional",initialValue:u()(),children:(0,l.jsx)(n.Z,{style:{width:"100%"},disabled:!0,className:"not-rounded"})}),(0,l.jsx)(m.Z.Item,{style:{},label:"Area Name",name:"area_id",rules:[{required:!0,message:"Please input area name!"}],requiredMark:"optional",className:"not-rounded",children:(0,l.jsx)(v.U,{style:void 0,type:"",defaultArea0:!1,onChange:function(){W.setFields([{name:"tenant_id",value:void 0}])}})}),(0,l.jsx)(m.Z.Item,{label:"Gateway Name",name:"name",rules:[{required:!1,message:"Please input Gateway Name!"}],children:(0,l.jsx)(t.Z,{placeholder:"Gateway Name"})})]}),(0,l.jsxs)(p.Z,{xs:24,sm:24,md:24,lg:12,xl:8,xxl:8,children:[(0,l.jsx)(m.Z.Item,{label:"Mac Id",name:"mac_id",rules:[{required:!1,message:"Please input Mac Id!"}],children:(0,l.jsx)(t.Z,{placeholder:"Mac Id"})}),(0,l.jsx)(m.Z.Item,{label:"Description",name:"description",rules:[{required:!1,message:"Please input description!"}],requiredMark:"optional",children:(0,l.jsx)(t.Z.TextArea,{placeholder:"Description",rows:3})})]}),(0,l.jsxs)(p.Z,{xs:24,sm:24,md:24,lg:12,xl:8,xxl:8,children:[(0,l.jsx)(M.Z,{center:G,onChange:function(I){z(I),W.setFields([{name:"latitude",value:I.lat},{name:"longitude",value:I.lng}])}}),(0,l.jsx)(m.Z.Item,{requiredMark:"optional",name:"address",label:"Address",children:(0,l.jsx)(t.Z.TextArea,{placeholder:"Address"})}),(0,l.jsxs)(_.Z,{wrap:!0,size:"large",style:{marginTop:"16px"},children:[(0,l.jsx)(m.Z.Item,{requiredMark:"optional",name:"latitude",label:"Latitude",initialValue:"-6.290690",rules:[{required:!0,message:"Masukkan Latitude"}],hidden:!0,children:(0,l.jsx)(t.Z,{placeholder:"Latitude"})}),(0,l.jsx)(m.Z.Item,{requiredMark:"optional",name:"longitude",label:"Longitude",initialValue:"107.141853",rules:[{required:!0,message:"Masukkan Longitude"}],hidden:!0,children:(0,l.jsx)(t.Z,{placeholder:"Longitude"})})]})]})]}),(0,l.jsx)("div",{style:{marginTop:20,textAlign:"right"},children:(0,l.jsxs)(_.Z,{children:[(0,l.jsx)(m.Z.Item,{children:(0,l.jsx)(i.Z,{type:"default",htmlType:"button",onClick:function(){try{c.history.back()}catch(I){c.history.push("/device")}},children:"Cancel"})}),(0,l.jsx)(m.Z.Item,{children:(0,l.jsx)(i.Z,{type:"primary",onClick:function(){W.submit()},children:"Submit"})})]})})]})})]})};R.default=F},4745:function(N,R,e){e.d(R,{OO:function(){return m},Ug:function(){return _},_J:function(){return a},bg:function(){return E},yz:function(){return c}});var O=e(11281),g=e.n(O),T=e(97983),A=e.n(T),L=e(40794),P=e.n(L),v=e(12461),h=e(9669),M=e.n(h),D=e(9212);function E(o){return U.apply(this,arguments)}function U(){return U=P()(A()().mark(function o(r){var s,d;return A()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,D.Z.get("/area",g()({method:"GET"},r||{}));case 3:return s=n.sent,d=s.data,n.abrupt("return",{data:d.data,error:!1,message:"Success Get",responseCode:d.responseCode});case 8:if(n.prev=8,n.t0=n.catch(0),!M().isAxiosError(n.t0)){n.next=16;break}return console.log("error message: ",n.t0.message),v.ZP.error(n.t0.message),n.abrupt("return",{data:null,error:!0,message:n.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",n.t0),v.ZP.error("An unexpected error occurred"),n.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return n.stop()}},o,null,[[0,8]])})),U.apply(this,arguments)}var c=function(){var o=P()(A()().mark(function r(s){var d,p;return A()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.Z.get("/area/detail/".concat(s),{method:"GET"});case 3:return d=t.sent,p=d.data,t.abrupt("return",{data:p.data,error:!1,message:"Success Get",responseCode:p.responseCode});case 8:if(t.prev=8,t.t0=t.catch(0),!M().isAxiosError(t.t0)){t.next=16;break}return console.log("error message: ",t.t0.message),v.ZP.error(t.t0.message),t.abrupt("return",{data:null,error:!0,message:t.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",t.t0),v.ZP.error("An unexpected error occurred"),t.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return t.stop()}},r,null,[[0,8]])}));return function(s){return o.apply(this,arguments)}}(),m=function(){var o=P()(A()().mark(function r(s){var d,p,n;return A()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=0,f.next=3,D.Z.post("/area",{company_name:s.company_name,area_name:s.area_name,pic_name:s.pic_name,billing_address:s.billing_address,image:s.image,phone:s.phone,email_pic:s.email_pic,email_pic_admin:s.email_pic_admin,address:s.address,latitude:s.latitude,longitude:s.longitude},{headers:{"Content-Type":"multipart/form-data"}});case 3:return d=f.sent,p=d.data,f.abrupt("return",g()(g()({},p),{},{status:"ok",error:!1}));case 8:if(f.prev=8,f.t0=f.catch(0),!M().isAxiosError(f.t0)){f.next=17;break}return console.log("error message: ",f.t0.message),n=f.t0.response,n.data.message?v.ZP.error(n.data.message):v.ZP.error(f.t0.message),f.abrupt("return",{responseCode:400,message:f.t0.message,error:!0});case 17:return console.log("unexpected error: ",f.t0),v.ZP.error("An unexpected error occured"),f.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return f.stop()}},r,null,[[0,8]])}));return function(s){return o.apply(this,arguments)}}(),a=function(){var o=P()(A()().mark(function r(s,d){var p,n,t;return A()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,D.Z.post("/area/setting/"+d,g()({},s));case 3:return p=u.sent,n=p.data,u.abrupt("return",g()(g()({},n),{},{status:"ok",error:!1}));case 8:if(u.prev=8,u.t0=u.catch(0),!M().isAxiosError(u.t0)){u.next=17;break}return console.log("error message: ",u.t0.message),t=u.t0.response,t.data.message?v.ZP.error(t.data.message):v.ZP.error(u.t0.message),u.abrupt("return",{responseCode:400,message:u.t0.message,error:!0});case 17:return console.log("unexpected error: ",u.t0),v.ZP.error("An unexpected error occured"),u.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return u.stop()}},r,null,[[0,8]])}));return function(s,d){return o.apply(this,arguments)}}(),i=null,_=function(){var o=P()(A()().mark(function r(s,d){var p,n,t;return A()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,D.Z.put("/area/"+d,s);case 3:return p=u.sent,n=p.data,u.abrupt("return",g()(g()({},n),{},{status:"ok",error:!1}));case 8:if(u.prev=8,u.t0=u.catch(0),!M().isAxiosError(u.t0)){u.next=17;break}return console.log("error message: ",u.t0.message),t=u.t0.response,t.data.message?v.ZP.error(t.data.message):v.ZP.error(u.t0.message),u.abrupt("return",{responseCode:400,message:u.t0.message,error:!0});case 17:return console.log("unexpected error: ",u.t0),v.ZP.error("An unexpected error occured"),u.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return u.stop()}},r,null,[[0,8]])}));return function(s,d){return o.apply(this,arguments)}}()},49288:function(N,R,e){var O=e(87462),g=e(71002),T=e(97685),A=e(94184),L=e.n(A),P=e(50344),v=e(98423),h=e(67294),M=e(53124),D=e(40038),E=e(96159),U=D.Z.Option;function c(i){return i&&i.type&&(i.type.isSelectOption||i.type.isSelectOptGroup)}var m=function(_,o){var r=_.prefixCls,s=_.className,d=_.popupClassName,p=_.dropdownClassName,n=_.children,t=_.dataSource,f=(0,P.Z)(n),u;if(f.length===1&&(0,E.l$)(f[0])&&!c(f[0])){var S=(0,T.Z)(f,1);u=S[0]}var $=u?function(){return u}:void 0,B;return f.length&&c(f[0])?B=n:B=t?t.map(function(C){if((0,E.l$)(C))return C;switch((0,g.Z)(C)){case"string":return h.createElement(U,{key:C,value:C},C);case"object":{var K=C.value;return h.createElement(U,{key:K,value:K},C.text)}default:return}}):[],h.createElement(M.C,null,function(C){var K=C.getPrefixCls,l=K("select",r);return h.createElement(D.Z,(0,O.Z)({ref:o},(0,v.Z)(_,["dataSource"]),{prefixCls:l,popupClassName:d||p,className:L()("".concat(l,"-auto-complete"),s),mode:D.Z.SECRET_COMBOBOX_MODE_DO_NOT_USE},{getInputElement:$}),B)})},a=h.forwardRef(m);a.Option=U,R.Z=a},52948:function(N,R,e){var O,g=e(13399);function T(a,i,_,o,r,s,d){try{var p=a[s](d),n=p.value}catch(t){return void _(t)}p.done?i(n):Promise.resolve(n).then(o,r)}function A(a){return function(){var i=this,_=arguments;return new Promise(function(o,r){var s=a.apply(i,_);function d(n){T(s,o,r,d,p,"next",n)}function p(n){T(s,o,r,d,p,"throw",n)}d(void 0)})}}O={value:!0},R.Z=void 0;var L=!1,P=null,v="en",h=null,M=null,D="https://maps.googleapis.com/maps/api/geocode/json";function E(a){var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];L&&(i?console.warn(a):console.log(a))}function U(a){return c.apply(this,arguments)}function c(){return(c=A(g.mark(function a(i){var _,o;return g.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(i).catch(function(){return Promise.reject(new Error("Error fetching data"))});case 2:return _=r.sent,r.next=5,_.json().catch(function(){return E("Error parsing server response"),Promise.reject(new Error("Error parsing server response"))});case 5:if((o=r.sent).status!=="OK"){r.next=9;break}return E(o),r.abrupt("return",o);case 9:return E("".concat(o.error_message,`.
Server returned status code `).concat(o.status),!0),r.abrupt("return",Promise.reject(new Error("".concat(o.error_message,`.
Server returned status code `).concat(o.status))));case 11:case"end":return r.stop()}},a)}))).apply(this,arguments)}var m={setApiKey:function(a){P=a},setLanguage:function(a){v=a},setRegion:function(a){h=a},setLocationType:function(a){M=a},enableDebug:function(){var a=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];L=a},fromLatLng:function(a,i,_,o,r,s){return A(g.mark(function d(){var p,n;return g.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a&&i){t.next=3;break}return E("Provided coordinates are invalid",!0),t.abrupt("return",Promise.reject(new Error("Provided coordinates are invalid")));case 3:return p="".concat(a,",").concat(i),n="".concat(D,"?latlng=").concat(encodeURIComponent(p)),(_||P)&&(n+="&key=".concat(P=_||P)),(o||v)&&(n+="&language=".concat(v=o||v)),(r||h)&&(h=r||h,n+="&region=".concat(encodeURIComponent(h))),(s||M)&&(M=s||M,n+="&location_type=".concat(encodeURIComponent(M))),t.abrupt("return",U(n));case 9:case"end":return t.stop()}},d)}))()},fromAddress:function(a,i,_,o){return A(g.mark(function r(){var s;return g.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(a){d.next=3;break}return E("Provided address is invalid",!0),d.abrupt("return",Promise.reject(new Error("Provided address is invalid")));case 3:return s="".concat(D,"?address=").concat(encodeURIComponent(a)),(i||P)&&(s+="&key=".concat(P=i||P)),(_||v)&&(s+="&language=".concat(v=_||v)),(o||h)&&(h=o||h,s+="&region=".concat(encodeURIComponent(h))),d.abrupt("return",U(s));case 8:case"end":return d.stop()}},r)}))()}};R.Z=m},20906:function(N,R,e){e.d(R,{LM:function(){return h},WV:function(){return M},ZP:function(){return P}});var O=e(67294);function g(){return g=Object.assign||function(c){for(var m=1;m<arguments.length;m++){var a=arguments[m];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(c[i]=a[i])}return c},g.apply(this,arguments)}var T=function(c){var m=(0,O.useRef)(c);return m.current=c,m},A=function(c,m){var a;return function(){for(var i=this,_=arguments.length,o=new Array(_),r=0;r<_;r++)o[r]=arguments[r];a!==null&&(clearTimeout(a),a=null),a=setTimeout(function(){return c.apply(i,o)},m)}},L="\u{1F4A1} use-places-autocomplete: Google Maps Places API library must be loaded. See: https://github.com/wellyshen/use-places-autocomplete#load-the-library",P=function(m){var a=m===void 0?{}:m,i=a.requestOptions,_=a.debounce,o=_===void 0?200:_,r=a.cache,s=r===void 0?24*60*60:r,d=a.cacheKey,p=d===void 0?"upa":d,n=a.googleMaps,t=a.callbackName,f=a.defaultValue,u=f===void 0?"":f,S=a.initOnMount,$=S===void 0?!0:S,B=(0,O.useState)(!1),C=B[0],K=B[1],l=(0,O.useState)(u),F=l[0],Z=l[1],k=(0,O.useState)({loading:!1,status:"",data:[]}),w=k[0],W=k[1],V=(0,O.useRef)(),J=T(i),G=T(n),z=(0,O.useCallback)(function(){var j;if(!V.current){var x=window,y=x.google,I=G.current,b=(I==null?void 0:I.places)||(y==null||(j=y.maps)==null?void 0:j.places);if(!b){console.error(L);return}V.current=new b.AutocompleteService,K(!0)}},[G]),Y=(0,O.useCallback)(function(){W({loading:!1,status:"",data:[]})},[]),Q=(0,O.useCallback)(function(j){j===void 0&&(j=p);try{sessionStorage.removeItem(j)}catch(x){}},[p]),q=(0,O.useCallback)(A(function(j){var x;if(!j){Y();return}W(function(I){return g({},I,{loading:!0})});var y={};try{y=JSON.parse(sessionStorage.getItem(p)||"{}")}catch(I){}if(s&&(y=Object.keys(y).reduce(function(I,b){return y[b].maxAge-Date.now()>=0&&(I[b]=y[b]),I},{}),y[j])){W({loading:!1,status:"OK",data:y[j].data});return}(x=V.current)==null||x.getPlacePredictions(g({},J.current,{input:j}),function(I,b){if(W({loading:!1,status:b,data:I||[]}),s&&b==="OK"){y[j]={data:I,maxAge:Date.now()+s*1e3};try{sessionStorage.setItem(p,JSON.stringify(y))}catch(H){}}})},o),[s,p,Y,J]),ee=(0,O.useCallback)(function(j,x){x===void 0&&(x=!0),Z(j),V.current&&x&&q(j)},[q]);return(0,O.useEffect)(function(){if(!$)return function(){return null};var j=window,x=j.google;return!G.current&&!(x!=null&&x.maps)&&t?window[t]=z:z(),function(){window[t]&&delete window[t]}},[t,G,z,$]),{ready:C,value:F,suggestions:w,setValue:ee,clearSuggestions:Y,clearCache:Q,init:z}},v="\u{1F4A1} use-places-autocomplete: Please provide an address when using getGeocode() with the componentRestrictions.",h=function(m){var a=new window.google.maps.Geocoder;return new Promise(function(i,_){a.geocode(m,function(o,r){r!=="OK"&&_(r),!m.address&&m.componentRestrictions&&(console.error(v),i(o)),i(o)})})},M=function(m){var a=m.geometry.location,i=a.lat,_=a.lng;return{lat:i(),lng:_()}},D=function(m,a){var i=m.address_components.find(function(_){var o=_.types;return o.includes("postal_code")});if(!!i)return a?i.short_name:i.long_name},E="\u{1F4A1} use-places-autocomplete: Please provide a place Id when using getDetails() either as a string or as part of an Autocomplete Prediction.",U=function(m){var a=new window.google.maps.places.PlacesService(document.createElement("div"));return m.placeId?new Promise(function(i,_){a.getDetails(m,function(o,r){r!=="OK"&&_(r),i(o)})}):(console.error(E),Promise.reject(E))}}}]);
