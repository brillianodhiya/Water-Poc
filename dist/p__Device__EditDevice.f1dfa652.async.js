"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[3935],{82826:function(Y,L,e){e.d(L,{Z:function(){return v}});var h=e(1413),m=e(67294),T={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},D=T,C=e(84089),p=function(P,O){return m.createElement(C.Z,(0,h.Z)((0,h.Z)({},P),{},{ref:O,icon:D}))};p.displayName="ArrowLeftOutlined";var v=m.forwardRef(p)},86873:function(Y,L,e){e.d(L,{B:function(){return p}});var h=e(97983),m=e.n(h),T=e(40794),D=e.n(T),C=e(52948),p=function(){var v=D()(m()().mark(function E(P,O){var f;return m()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return C.Z.setApiKey("AIzaSyAcli1qFFLWrhhlDhVUCWkAJqzEY6Cp9UI"),C.Z.setLanguage("en"),C.Z.setRegion("id"),c.next=5,C.Z.fromLatLng(P,O);case 5:return f=c.sent,c.next=8,f==null?void 0:f.results[0].formatted_address;case 8:return c.abrupt("return",c.sent);case 9:case"end":return c.stop()}},E)}));return function(P,O){return v.apply(this,arguments)}}()},72923:function(Y,L,e){e.d(L,{Z:function(){return c}});var h=e(97983),m=e.n(h),T=e(40794),D=e.n(T),C=e(67294),p=e(37054),v=e(69677),E=e(21802),P=e(49288),O=e(20906),f=e(85893),x=v.Z.Search;function c(a){var l=a.center,o=l===void 0?{lat:-6.2,lng:106.816666}:l,r=a.onChange,_=r===void 0?function(u){}:r,d=(0,p.Db)({googleMapsApiKey:"AIzaSyAcli1qFFLWrhhlDhVUCWkAJqzEY6Cp9UI",libraries:["places"]}),i=d.isLoaded;return i?(0,f.jsx)(g,{c:o,onChange:_}):(0,f.jsx)("div",{children:"Loading..."})}function g(a){var l=a.c,o=l===void 0?{lat:-6.2,lng:106.816666}:l,r=a.onChange,_=r===void 0?function(i){}:r,d=(0,C.useMemo)(function(){return o},[o]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px",alignItems:"center",alignContent:"center"},children:[(0,f.jsx)(E.Z,{style:{fontSize:"14px",fontWeight:400,marginTop:"12px"},children:"Pin Location"}),(0,f.jsx)(t,{setSelected:_})]}),(0,f.jsx)(p.b6,{onRightClick:function(u){var n=u.latLng.lat(),I=u.latLng.lng();console.log(u,"E");try{_({lat:n,lng:I})}catch(R){}},zoom:16,center:d,mapContainerClassName:"map-container-gateway",children:(0,f.jsx)(p.Jx,{onDragEnd:function(u){var n=u.latLng.lat(),I=u.latLng.lng();try{_({lat:n,lng:I})}catch(R){}},draggable:!0,position:d})})]})}var t=function(l){var o=l.setSelected,r=(0,O.ZP)(),_=r.ready,d=r.value,i=r.setValue,u=r.suggestions,n=u.status,I=u.data,R=r.clearSuggestions,z=function(){var y=D()(m()().mark(function M(B){var U,A,K,s;return m()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return i(JSON.parse(B).description,!1),R(),w.next=4,(0,O.LM)({address:B});case 4:return U=w.sent,w.next=7,(0,O.WV)(U[0]);case 7:A=w.sent,K=A.lat,s=A.lng,o({lat:K,lng:s});case 11:case"end":return w.stop()}},M)}));return function(B){return y.apply(this,arguments)}}(),J=I.map(function(y){var M=y.place_id,B=y.description;return{label:B,value:JSON.stringify({place_id:M,description:B})}});return(0,f.jsx)(P.Z,{options:J,style:{width:200},onSelect:z,value:d,children:(0,f.jsx)(x,{disabled:!_,value:d,onChange:function(M){return i(M.target.value)},placeholder:"Cari Lokasi",style:{width:200}})})}},39173:function(Y,L,e){e.d(L,{w:function(){return f}});var h=e(97983),m=e.n(h),T=e(40794),D=e.n(T),C=e(12741),p=e.n(C),v=e(95971),E=e(40038),P=e(67294),O=e(85893),f=function(c){var g=c.onChange,t=c.areaId,a=c.value,l=c.style,o=c.type,r=o===void 0?"not-rounded":o,_=c.useAll,d=c.disabled,i=(0,P.useState)([]),u=p()(i,2),n=u[0],I=u[1],R=P.useState(!1),z=p()(R,2),J=z[0],y=z[1],M=function(A,K){var s;return((s=K==null?void 0:K.children)!==null&&s!==void 0?s:"").toLowerCase().includes(A.toLowerCase())},B=function(){var U=D()(m()().mark(function A(){var K;return m()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return y(!0),H.next=3,(0,v.cH)({params:{area_id:t}});case 3:K=H.sent,console.log(K,"data tenant"),y(!1),K.error||I(K.data);case 7:case"end":return H.stop()}},A)}));return function(){return U.apply(this,arguments)}}();return P.useEffect(function(){return B(),function(){}},[t]),(0,O.jsxs)(E.Z,{showSearch:!0,value:a,placeholder:"Tenant Name",loading:J,onChange:g,className:r,optionFilterProp:"children",filterOption:M,disabled:d,children:[_&&(0,O.jsx)(E.Z.Option,{value:0,children:"All Tenant"},0),n.map(function(U){return(0,O.jsx)(E.Z.Option,{value:U.id,children:U.name},U.id)})]})}},69859:function(Y,L,e){e.r(L);var h=e(97983),m=e.n(h),T=e(40794),D=e.n(T),C=e(12741),p=e.n(C),v=e(98435),E=e(39173),P=e(86873),O=e(72923),f=e(28530),x=e(82826),c=e(91714),g=e(38402),t=e(30028),a=e(80737),l=e(14538),o=e(71577),r=e(26713),_=e(58492),d=e(21802),i=e(11382),u=e(71230),n=e(15746),I=e(41232),R=e(69677),z=e(79915),J=e(30381),y=e.n(J),M=e(29218),B=e.n(M),U=e(18537),A=e(67294),K=e(64593),s=e(85893);y().locale("en");var H=function(){var Q=a.Z.useForm(),se=p()(Q,1),b=se[0],q=A.useState({lat:-6.2,lng:106.816666}),ee=p()(q,2),re=ee[0],ae=ee[1],oe=A.useState(!1),j=p()(oe,2),$=j[0],F=j[1],G=A.useState(""),V=p()(G,2),de=V[0],ce=V[1],Ee=A.useRef(null),me=A.useState(!0),ie=p()(me,2),he=ie[0],Pe=ie[1],pe=A.useState(!1),le=p()(pe,2),fe=le[0],ue=le[1],ge=A.useState(null),_e=p()(ge,2),Oe=_e[0],De=_e[1],W=U.Z.parse(window.location.search);A.useEffect(function(){if(W.area_id&&b.setFields([{name:"area_id",value:parseInt(W==null?void 0:W.area_id)},{name:"tenant_id",value:parseInt(W==null?void 0:W.tenant_id)}]),W.id){var S=function(){var N=D()(m()().mark(function Z(){var X,k;return m()().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.next=2,(0,f._v)({params:{id:W.id}});case 2:X=ne.sent,X.data.length>0&&(k=X.data[0],console.log(k,"DD"),b.setFields([{name:"devEui",value:k.devEui},{name:"brand",value:k.model},{name:"description",value:k.description},{name:"latitude",value:k.latitude},{name:"longitude",value:k.longitude},{name:"meter_id",value:k.meter_id},{name:"installation_date",value:y()(k.instalation_date)},{name:"interval",value:k.interval}]),ae({lat:k.latitude,lng:k.longitude}));case 4:case"end":return ne.stop()}},Z)}));return function(){return N.apply(this,arguments)}}();S()}},[]),A.useEffect(function(){(0,P.B)(re.lat,re.lng).then(function(S){b.setFields([{name:"address",value:S}])})},[re]);var ve=function(){var S=D()(m()().mark(function N(Z){var X;return m()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return console.log(Z),ue(!0),te.next=4,(0,f.Zr)({model:Z.brand,description:Z.description,latitude:Z.latitude,longitude:Z.longitude,meter_id:Z.meter_id},W==null?void 0:W.id);case 4:X=te.sent,ue(!1),X.error?l.Z.error({content:X.message}):l.Z.success({content:X.message,onOk:function(){try{t.history.back()}catch(Me){t.history.push("/device")}}});case 7:case"end":return te.stop()}},N)}));return function(Z){return S.apply(this,arguments)}}();return(0,s.jsxs)(g._z,{title:(0,s.jsx)(o.Z,{type:"link",onClick:function(){W.area_id?t.history.push("/area/tenant",{area_id:W.area_id,tenant_id:W.tenant_id||""}):t.history.push("/device")},size:"large",children:(0,s.jsxs)(r.Z,{style:{cursor:"pointer"},align:"start",size:"large",children:[(0,s.jsx)(x.Z,{onClick:function(){W.area_id?t.history.push("/area/tenant",{area_id:W.area_id,tenant_id:W.tenant_id||""}):t.history.push("/device")},style:{marginTop:"12px",fontSize:"24px",color:"#000"}}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",textAlign:"left"},children:[(0,s.jsxs)(_.Z,{children:[(0,s.jsx)(_.Z.Item,{children:"Device Management"}),(0,s.jsx)(_.Z.Item,{href:"#",children:"Edit Device"})]}),(0,s.jsx)(d.Z.Title,{level:5,children:"Edit Device"})]})]})}),children:[(0,s.jsxs)(K.q,{children:[(0,s.jsx)("meta",{charSet:"utf-8"}),(0,s.jsx)("title",{children:"IKI | Device"}),(0,s.jsx)("link",{rel:"icon",href:"/logo2.png",type:"image/x-icon"})]}),(0,s.jsx)(i.Z,{spinning:fe,children:(0,s.jsxs)(a.Z,{form:b,name:"add-area",onFinish:ve,layout:"vertical",children:[(0,s.jsxs)(u.Z,{style:{borderTop:"1px solid rgba(0, 0, 0, 0.06)",borderBottom:"1px solid rgba(0, 0, 0, 0.06)",paddingTop:20},gutter:[24,24],children:[(0,s.jsxs)(n.Z,{xs:24,sm:24,md:24,lg:12,xl:8,xxl:8,children:[(0,s.jsx)(a.Z.Item,{label:"Installation Date",name:"installation_date",rules:[{required:!0,message:"Please input installation date!"}],requiredMark:"optional",initialValue:y()(),children:(0,s.jsx)(I.Z,{style:{width:"100%"},disabled:!0,className:"not-rounded"})}),(0,s.jsx)(a.Z.Item,{style:{},label:"Area Name",name:"area_id",rules:[{required:!0,message:"Please input area name!"}],requiredMark:"optional",className:"not-rounded",children:(0,s.jsx)(v.U,{style:void 0,type:"",defaultArea0:!1,onChange:function(){b.setFields([{name:"tenant_id",value:void 0}])},disabled:!0})}),(0,s.jsx)(a.Z.Item,{noStyle:!0,shouldUpdate:function(N,Z){return N.area_id!==Z.area_id},children:function(){return(0,s.jsx)(a.Z.Item,{style:{},label:"Tenant Name",name:"tenant_id",rules:[{required:!0,message:"Please input tenant name!"}],requiredMark:"optional",className:"not-rounded",children:(0,s.jsx)(E.w,{onChange:function(){},areaId:b.getFieldValue("area_id"),style:void 0,type:"",disabled:!0})})}}),(0,s.jsx)(a.Z.Item,{noStyle:!0,shouldUpdate:!0,children:function(){return(0,s.jsx)(a.Z.Item,{requiredMark:"optional",name:"devEui",label:"Device Eui",rules:[{required:!0}],children:(0,s.jsx)(R.Z,{placeholder:"Device Eui",onChange:function(Z){ce(Z.target.value),b.setFields([{name:"devEui",value:Z.target.value.replace(/\s/g,"").replace(/(.{4})/g,"$1 ").trim()}])},disabled:!0})})}})]}),(0,s.jsxs)(n.Z,{xs:24,sm:24,md:24,lg:12,xl:8,xxl:8,children:[(0,s.jsx)(a.Z.Item,{label:"Meter Id",name:"meter_id",rules:[{required:!1,message:"Please input Meter Id!"}],children:(0,s.jsx)(R.Z,{placeholder:"Meter Id"})}),(0,s.jsx)(a.Z.Item,{label:"Model/Brand",name:"brand",rules:[{required:!1,message:"Please input Model/Brand!"}],children:(0,s.jsx)(R.Z,{placeholder:"Model/Brand"})}),(0,s.jsx)(a.Z.Item,{extra:"Minute",label:"Interval",name:"interval",hidden:!0,initialValue:15,rules:[{required:!0,message:"Please input Interval!"}],requiredMark:"optional",children:(0,s.jsx)(z.Z,{prefix:(0,s.jsx)(c.Z,{})})}),(0,s.jsx)(a.Z.Item,{label:"Description",name:"description",rules:[{required:!1,message:"Please input description!"}],requiredMark:"optional",children:(0,s.jsx)(R.Z.TextArea,{placeholder:"Description",rows:3})})]}),(0,s.jsxs)(n.Z,{xs:24,sm:24,md:24,lg:12,xl:8,xxl:8,children:[(0,s.jsx)(O.Z,{center:re,onChange:function(N){ae(N),b.setFields([{name:"latitude",value:N.lat},{name:"longitude",value:N.lng}])}}),(0,s.jsx)(a.Z.Item,{requiredMark:"optional",name:"address",label:"Address",children:(0,s.jsx)(R.Z.TextArea,{placeholder:"Address",disabled:!0})}),(0,s.jsxs)(r.Z,{wrap:!0,size:"large",style:{marginTop:"16px"},children:[(0,s.jsx)(a.Z.Item,{requiredMark:"optional",name:"latitude",label:"Latitude",initialValue:"-6.290690",rules:[{required:!0,message:"Masukkan Latitude"}],hidden:!0,children:(0,s.jsx)(R.Z,{placeholder:"Latitude"})}),(0,s.jsx)(a.Z.Item,{requiredMark:"optional",name:"longitude",label:"Longitude",initialValue:"107.141853",rules:[{required:!0,message:"Masukkan Longitude"}],hidden:!0,children:(0,s.jsx)(R.Z,{placeholder:"Longitude"})})]})]})]}),(0,s.jsx)("div",{style:{marginTop:20,textAlign:"right"},children:(0,s.jsxs)(r.Z,{children:[(0,s.jsx)(a.Z.Item,{children:(0,s.jsx)(o.Z,{type:"default",htmlType:"button",onClick:function(){try{t.history.back()}catch(N){t.history.push("/device")}},children:"Cancel"})}),(0,s.jsx)(a.Z.Item,{children:(0,s.jsx)(o.Z,{type:"primary",onClick:function(){b.submit()},children:"Submit"})})]})})]})})]})};L.default=H},95971:function(Y,L,e){e.d(L,{GU:function(){return a},cH:function(){return f},mZ:function(){return g},rR:function(){return c}});var h=e(97983),m=e.n(h),T=e(11281),D=e.n(T),C=e(40794),p=e.n(C),v=e(12461),E=e(9669),P=e.n(E),O=e(9212);function f(l){return x.apply(this,arguments)}function x(){return x=p()(m()().mark(function l(o){var r,_;return m()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,O.Z.get("/tenant",D()({method:"GET"},o||{}));case 3:return r=i.sent,_=r.data,i.abrupt("return",{data:_.data,error:!1,message:"Success Get",responseCode:_.responseCode});case 8:if(i.prev=8,i.t0=i.catch(0),!P().isAxiosError(i.t0)){i.next=16;break}return console.log("error message: ",i.t0.message),v.ZP.error(i.t0.message),i.abrupt("return",{data:null,error:!0,message:i.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",i.t0),v.ZP.error("An unexpected error occurred"),i.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return i.stop()}},l,null,[[0,8]])})),x.apply(this,arguments)}var c=function(){var l=p()(m()().mark(function o(r){var _,d,i;return m()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,O.Z.put("/tenant/".concat(r.id),{image:r.image,area_id:r.area_id,name:r.name,pic_name:r.pic_name,address:r.address,latitude:r.latitude,longitude:r.longitude,member_id:r.member_id,type:r.type,area_name:r.area_name,phone:r.phone,email:r.email,username:r.username,password:r.password,nama_unit:r.nama_unit,kode_unit:r.kode_unit},{headers:{"Content-Type":"multipart/form-data"}});case 3:return _=n.sent,d=_.data,n.abrupt("return",D()(D()({},d),{},{status:"ok",error:!1}));case 8:if(n.prev=8,n.t0=n.catch(0),!P().isAxiosError(n.t0)){n.next=17;break}return console.log("error message: ",n.t0.message),i=n.t0.response,i.data.message?v.ZP.error(i.data.message):v.ZP.error(n.t0.message),n.abrupt("return",{responseCode:400,message:n.t0.message,error:!0});case 17:return console.log("unexpected error: ",n.t0),v.ZP.error("An unexpected error occured"),n.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return n.stop()}},o,null,[[0,8]])}));return function(r){return l.apply(this,arguments)}}(),g=function(){var l=p()(m()().mark(function o(r){var _,d,i;return m()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,O.Z.post("/tenant",{image:r.image,area_id:r.area_id,name:r.name,pic_name:r.pic_name,address:r.address,latitude:r.latitude,longitude:r.longitude,type:r.type,area_name:r.area_name,phone:r.phone,email:r.email,username:r.username,password:r.password},{headers:{"Content-Type":"multipart/form-data"}});case 3:return _=n.sent,d=_.data,n.abrupt("return",D()(D()({},d),{},{status:"ok",error:!1}));case 8:if(n.prev=8,n.t0=n.catch(0),!P().isAxiosError(n.t0)){n.next=17;break}return console.log("error message: ",n.t0.message),i=n.t0.response,i.data.message?v.ZP.error(i.data.message):v.ZP.error(n.t0.message),n.abrupt("return",{responseCode:400,message:n.t0.message,error:!0});case 17:return console.log("unexpected error: ",n.t0),v.ZP.error("An unexpected error occured"),n.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return n.stop()}},o,null,[[0,8]])}));return function(r){return l.apply(this,arguments)}}(),t=null,a=function(){var l=p()(m()().mark(function o(r){var _,d;return m()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,O.Z.get("/tenant/detail/".concat(r),{method:"GET"});case 3:return _=u.sent,d=_.data,u.abrupt("return",{data:d.data,error:!1,message:"Success Get",responseCode:d.responseCode});case 8:if(u.prev=8,u.t0=u.catch(0),!P().isAxiosError(u.t0)){u.next=16;break}return console.log("error message: ",u.t0.message),v.ZP.error(u.t0.message),u.abrupt("return",{data:null,error:!0,message:u.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",u.t0),v.ZP.error("An unexpected error occurred"),u.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return u.stop()}},o,null,[[0,8]])}));return function(r){return l.apply(this,arguments)}}()},49288:function(Y,L,e){var h=e(87462),m=e(71002),T=e(97685),D=e(94184),C=e.n(D),p=e(50344),v=e(98423),E=e(67294),P=e(53124),O=e(40038),f=e(96159),x=O.Z.Option;function c(a){return a&&a.type&&(a.type.isSelectOption||a.type.isSelectOptGroup)}var g=function(l,o){var r=l.prefixCls,_=l.className,d=l.popupClassName,i=l.dropdownClassName,u=l.children,n=l.dataSource,I=(0,p.Z)(u),R;if(I.length===1&&(0,f.l$)(I[0])&&!c(I[0])){var z=(0,T.Z)(I,1);R=z[0]}var J=R?function(){return R}:void 0,y;return I.length&&c(I[0])?y=u:y=n?n.map(function(M){if((0,f.l$)(M))return M;switch((0,m.Z)(M)){case"string":return E.createElement(x,{key:M,value:M},M);case"object":{var B=M.value;return E.createElement(x,{key:B,value:B},M.text)}default:return}}):[],E.createElement(P.C,null,function(M){var B=M.getPrefixCls,U=B("select",r);return E.createElement(O.Z,(0,h.Z)({ref:o},(0,v.Z)(l,["dataSource"]),{prefixCls:U,popupClassName:d||i,className:C()("".concat(U,"-auto-complete"),_),mode:O.Z.SECRET_COMBOBOX_MODE_DO_NOT_USE},{getInputElement:J}),y)})},t=E.forwardRef(g);t.Option=x,L.Z=t},52948:function(Y,L,e){var h,m=e(13399);function T(t,a,l,o,r,_,d){try{var i=t[_](d),u=i.value}catch(n){return void l(n)}i.done?a(u):Promise.resolve(u).then(o,r)}function D(t){return function(){var a=this,l=arguments;return new Promise(function(o,r){var _=t.apply(a,l);function d(u){T(_,o,r,d,i,"next",u)}function i(u){T(_,o,r,d,i,"throw",u)}d(void 0)})}}h={value:!0},L.Z=void 0;var C=!1,p=null,v="en",E=null,P=null,O="https://maps.googleapis.com/maps/api/geocode/json";function f(t){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];C&&(a?console.warn(t):console.log(t))}function x(t){return c.apply(this,arguments)}function c(){return(c=D(m.mark(function t(a){var l,o;return m.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(a).catch(function(){return Promise.reject(new Error("Error fetching data"))});case 2:return l=r.sent,r.next=5,l.json().catch(function(){return f("Error parsing server response"),Promise.reject(new Error("Error parsing server response"))});case 5:if((o=r.sent).status!=="OK"){r.next=9;break}return f(o),r.abrupt("return",o);case 9:return f("".concat(o.error_message,`.
Server returned status code `).concat(o.status),!0),r.abrupt("return",Promise.reject(new Error("".concat(o.error_message,`.
Server returned status code `).concat(o.status))));case 11:case"end":return r.stop()}},t)}))).apply(this,arguments)}var g={setApiKey:function(t){p=t},setLanguage:function(t){v=t},setRegion:function(t){E=t},setLocationType:function(t){P=t},enableDebug:function(){var t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];C=t},fromLatLng:function(t,a,l,o,r,_){return D(m.mark(function d(){var i,u;return m.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t&&a){n.next=3;break}return f("Provided coordinates are invalid",!0),n.abrupt("return",Promise.reject(new Error("Provided coordinates are invalid")));case 3:return i="".concat(t,",").concat(a),u="".concat(O,"?latlng=").concat(encodeURIComponent(i)),(l||p)&&(u+="&key=".concat(p=l||p)),(o||v)&&(u+="&language=".concat(v=o||v)),(r||E)&&(E=r||E,u+="&region=".concat(encodeURIComponent(E))),(_||P)&&(P=_||P,u+="&location_type=".concat(encodeURIComponent(P))),n.abrupt("return",x(u));case 9:case"end":return n.stop()}},d)}))()},fromAddress:function(t,a,l,o){return D(m.mark(function r(){var _;return m.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(t){d.next=3;break}return f("Provided address is invalid",!0),d.abrupt("return",Promise.reject(new Error("Provided address is invalid")));case 3:return _="".concat(O,"?address=").concat(encodeURIComponent(t)),(a||p)&&(_+="&key=".concat(p=a||p)),(l||v)&&(_+="&language=".concat(v=l||v)),(o||E)&&(E=o||E,_+="&region=".concat(encodeURIComponent(E))),d.abrupt("return",x(_));case 8:case"end":return d.stop()}},r)}))()}};L.Z=g},20906:function(Y,L,e){e.d(L,{LM:function(){return E},WV:function(){return P},ZP:function(){return p}});var h=e(67294);function m(){return m=Object.assign||function(c){for(var g=1;g<arguments.length;g++){var t=arguments[g];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(c[a]=t[a])}return c},m.apply(this,arguments)}var T=function(c){var g=(0,h.useRef)(c);return g.current=c,g},D=function(c,g){var t;return function(){for(var a=this,l=arguments.length,o=new Array(l),r=0;r<l;r++)o[r]=arguments[r];t!==null&&(clearTimeout(t),t=null),t=setTimeout(function(){return c.apply(a,o)},g)}},C="\u{1F4A1} use-places-autocomplete: Google Maps Places API library must be loaded. See: https://github.com/wellyshen/use-places-autocomplete#load-the-library",p=function(g){var t=g===void 0?{}:g,a=t.requestOptions,l=t.debounce,o=l===void 0?200:l,r=t.cache,_=r===void 0?24*60*60:r,d=t.cacheKey,i=d===void 0?"upa":d,u=t.googleMaps,n=t.callbackName,I=t.defaultValue,R=I===void 0?"":I,z=t.initOnMount,J=z===void 0?!0:z,y=(0,h.useState)(!1),M=y[0],B=y[1],U=(0,h.useState)(R),A=U[0],K=U[1],s=(0,h.useState)({loading:!1,status:"",data:[]}),H=s[0],w=s[1],Q=(0,h.useRef)(),se=T(a),b=T(u),q=(0,h.useCallback)(function(){var j;if(!Q.current){var $=window,F=$.google,G=b.current,V=(G==null?void 0:G.places)||(F==null||(j=F.maps)==null?void 0:j.places);if(!V){console.error(C);return}Q.current=new V.AutocompleteService,B(!0)}},[b]),ee=(0,h.useCallback)(function(){w({loading:!1,status:"",data:[]})},[]),re=(0,h.useCallback)(function(j){j===void 0&&(j=i);try{sessionStorage.removeItem(j)}catch($){}},[i]),ae=(0,h.useCallback)(D(function(j){var $;if(!j){ee();return}w(function(G){return m({},G,{loading:!0})});var F={};try{F=JSON.parse(sessionStorage.getItem(i)||"{}")}catch(G){}if(_&&(F=Object.keys(F).reduce(function(G,V){return F[V].maxAge-Date.now()>=0&&(G[V]=F[V]),G},{}),F[j])){w({loading:!1,status:"OK",data:F[j].data});return}($=Q.current)==null||$.getPlacePredictions(m({},se.current,{input:j}),function(G,V){if(w({loading:!1,status:V,data:G||[]}),_&&V==="OK"){F[j]={data:G,maxAge:Date.now()+_*1e3};try{sessionStorage.setItem(i,JSON.stringify(F))}catch(de){}}})},o),[_,i,ee,se]),oe=(0,h.useCallback)(function(j,$){$===void 0&&($=!0),K(j),Q.current&&$&&ae(j)},[ae]);return(0,h.useEffect)(function(){if(!J)return function(){return null};var j=window,$=j.google;return!b.current&&!($!=null&&$.maps)&&n?window[n]=q:q(),function(){window[n]&&delete window[n]}},[n,b,q,J]),{ready:M,value:A,suggestions:H,setValue:oe,clearSuggestions:ee,clearCache:re,init:q}},v="\u{1F4A1} use-places-autocomplete: Please provide an address when using getGeocode() with the componentRestrictions.",E=function(g){var t=new window.google.maps.Geocoder;return new Promise(function(a,l){t.geocode(g,function(o,r){r!=="OK"&&l(r),!g.address&&g.componentRestrictions&&(console.error(v),a(o)),a(o)})})},P=function(g){var t=g.geometry.location,a=t.lat,l=t.lng;return{lat:a(),lng:l()}},O=function(g,t){var a=g.address_components.find(function(l){var o=l.types;return o.includes("postal_code")});if(!!a)return t?a.short_name:a.long_name},f="\u{1F4A1} use-places-autocomplete: Please provide a place Id when using getDetails() either as a string or as part of an Autocomplete Prediction.",x=function(g){var t=new window.google.maps.places.PlacesService(document.createElement("div"));return g.placeId?new Promise(function(a,l){t.getDetails(g,function(o,r){r!=="OK"&&l(r),a(o)})}):(console.error(f),Promise.reject(f))}}}]);
