"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1921],{86873:function(Y,Z,e){e.d(Z,{B:function(){return E}});var A=e(97983),f=e.n(A),x=e(40794),D=e.n(x),L=e(52948),E=function(){var h=D()(f()().mark(function O(C,M){var v;return f()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return L.Z.setApiKey("AIzaSyAcli1qFFLWrhhlDhVUCWkAJqzEY6Cp9UI"),L.Z.setLanguage("en"),L.Z.setRegion("id"),g.next=5,L.Z.fromLatLng(C,M);case 5:return v=g.sent,g.next=8,v==null?void 0:v.results[0].formatted_address;case 8:return g.abrupt("return",g.sent);case 9:case"end":return g.stop()}},O)}));return function(C,M){return h.apply(this,arguments)}}()},72923:function(Y,Z,e){e.d(Z,{Z:function(){return g}});var A=e(97983),f=e.n(A),x=e(40794),D=e.n(x),L=e(67294),E=e(37054),h=e(69677),O=e(21802),C=e(49288),M=e(20906),v=e(85893),R=h.Z.Search;function g(l){var d=l.center,i=d===void 0?{lat:-6.2,lng:106.816666}:d,r=l.onChange,s=r===void 0?function(n){}:r,_=(0,E.Db)({googleMapsApiKey:"AIzaSyAcli1qFFLWrhhlDhVUCWkAJqzEY6Cp9UI",libraries:["places"]}),m=_.isLoaded;return m?(0,v.jsx)(c,{c:i,onChange:s}):(0,v.jsx)("div",{children:"Loading..."})}function c(l){var d=l.c,i=d===void 0?{lat:-6.2,lng:106.816666}:d,r=l.onChange,s=r===void 0?function(m){}:r,_=(0,L.useMemo)(function(){return i},[i]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px",alignItems:"center",alignContent:"center"},children:[(0,v.jsx)(O.Z,{style:{fontSize:"14px",fontWeight:400,marginTop:"12px"},children:"Pin Location"}),(0,v.jsx)(a,{setSelected:s})]}),(0,v.jsx)(E.b6,{onRightClick:function(n){var o=n.latLng.lat(),p=n.latLng.lng();console.log(n,"E");try{s({lat:o,lng:p})}catch(u){}},zoom:16,center:_,mapContainerClassName:"map-container-gateway",children:(0,v.jsx)(E.Jx,{onDragEnd:function(n){var o=n.latLng.lat(),p=n.latLng.lng();try{s({lat:o,lng:p})}catch(u){}},draggable:!0,position:_})})]})}var a=function(d){var i=d.setSelected,r=(0,M.ZP)(),s=r.ready,_=r.value,m=r.setValue,n=r.suggestions,o=n.status,p=n.data,u=r.clearSuggestions,t=function(){var U=D()(f()().mark(function j(I){var $,k,B,N;return f()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return m(JSON.parse(I).description,!1),u(),S.next=4,(0,M.LM)({address:I});case 4:return $=S.sent,S.next=7,(0,M.WV)($[0]);case 7:k=S.sent,B=k.lat,N=k.lng,i({lat:B,lng:N});case 11:case"end":return S.stop()}},j)}));return function(I){return U.apply(this,arguments)}}(),F=p.map(function(U){var j=U.place_id,I=U.description;return{label:I,value:JSON.stringify({place_id:j,description:I})}});return(0,v.jsx)(C.Z,{options:F,style:{width:200},onSelect:t,value:_,children:(0,v.jsx)(R,{disabled:!s,value:_,onChange:function(j){return m(j.target.value)},placeholder:"Cari Lokasi",style:{width:200}})})}},50639:function(Y,Z,e){e.r(Z);var A=e(97983),f=e.n(A),x=e(40794),D=e.n(x),L=e(12741),E=e.n(L),h=e(86873),O=e(72923),C=e(4745),M=e(82826),v=e(24969),R=e(38402),g=e(30028),c=e(80737),a=e(14538),l=e(71577),d=e(26713),i=e(58492),r=e(21802),s=e(11382),_=e(71230),m=e(15746),n=e(78116),o=e(69677),p=e(40038),u=e(67294),t=e(85893),F=function(I){return new Promise(function($,k){var B=new FileReader;B.readAsDataURL(I),B.onload=function(){return $(B.result)},B.onerror=function(N){return k(N)}})},U=function(){var I=c.Z.useForm(),$=E()(I,1),k=$[0],B=[],N=(0,u.useState)(!1),H=E()(N,2),S=H[0],z=H[1],ne=(0,u.useState)(""),V=E()(ne,2),X=V[0],Q=V[1],te=(0,u.useState)(""),q=E()(te,2),se=q[0],y=q[1],K=u.useState({lat:-6.2,lng:106.816666}),b=E()(K,2),T=b[0],G=b[1],oe=u.useState([]),ue=E()(oe,2),ee=ue[0],ie=ue[1],_e=function(w){var P=w.fileList;return ie(P)},ce=u.useState(!1),le=E()(ce,2),me=le[0],de=le[1],pe=function(){var W=D()(f()().mark(function w(P){return f()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(!(!P.url&&!P.preview)){J.next=4;break}return J.next=3,F(P.originFileObj);case 3:P.preview=J.sent;case 4:Q(P.url||P.preview),z(!0),y(P.name||P.url.substring(P.url.lastIndexOf("/")+1));case 7:case"end":return J.stop()}},w)}));return function(P){return W.apply(this,arguments)}}(),ge=function(){var W=D()(f()().mark(function w(P){var re;return f()().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return de(!0),ae.next=3,(0,C.OO)({company_name:P.company_name,billing_address:P.billing_address,image:ee.length>0?ee[0].originFileObj:void 0,phone:P.phone.join(","),email_pic:P.email_pic.join(","),email_pic_admin:P.email_pic_admin.join(","),address:P.address,latitude:P.latitude,longitude:P.longitude,area_name:P.area_name,pic_name:P.pic_name});case 3:re=ae.sent,de(!1),re.error?a.Z.error({content:re.message}):a.Z.success({content:re.message,onOk:function(){g.history.push("/area")}});case 6:case"end":return ae.stop()}},w)}));return function(P){return W.apply(this,arguments)}}();return u.useEffect(function(){(0,h.B)(T.lat,T.lng).then(function(W){k.setFields([{name:"address",value:W}])})},[T]),(0,t.jsx)(R._z,{title:(0,t.jsx)(l.Z,{type:"link",onClick:function(){return g.history.push("/area")},size:"large",children:(0,t.jsxs)(d.Z,{style:{cursor:"pointer"},align:"start",size:"large",children:[(0,t.jsx)(M.Z,{onClick:function(){return g.history.push("/area")},style:{marginTop:"12px",fontSize:"24px",color:"#000"}}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",textAlign:"left"},children:[(0,t.jsxs)(i.Z,{children:[(0,t.jsx)(i.Z.Item,{children:"Area Management"}),(0,t.jsx)(i.Z.Item,{children:"Area"}),(0,t.jsx)(i.Z.Item,{href:"#",children:"Add Area"})]}),(0,t.jsx)(r.Z.Title,{level:5,children:"Add Area"})]})]})}),children:(0,t.jsx)(s.Z,{spinning:me,children:(0,t.jsxs)(c.Z,{form:k,name:"add-area",onFinish:ge,layout:"vertical",children:[(0,t.jsxs)(_.Z,{style:{borderTop:"1px solid rgba(0, 0, 0, 0.06)",borderBottom:"1px solid rgba(0, 0, 0, 0.06)"},gutter:16,children:[(0,t.jsx)(m.Z,{span:24,children:(0,t.jsx)(c.Z.Item,{style:{marginTop:"24px"},children:(0,t.jsxs)(d.Z,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(r.Z,{style:{fontSize:16},children:"Photo"}),(0,t.jsx)(r.Z,{style:{fontSize:12,color:"#8C8C8C"},children:"This wil be displayed on profile."})]}),(0,t.jsx)(n.Z,{listType:"picture-card",fileList:ee,customRequest:function(w){var P=w.onSuccess;P&&setTimeout(function(){P("ok")},0)},maxCount:1,multiple:!1,accept:"image/*",onChange:_e,onPreview:pe,children:ee.length>0?null:(0,t.jsxs)("div",{children:[(0,t.jsx)(v.Z,{}),(0,t.jsx)("div",{style:{marginTop:8},children:"Upload"})]})}),(0,t.jsx)(a.Z,{open:S,title:se,footer:null,onCancel:function(){return z(!1)},children:(0,t.jsx)("img",{alt:"example",style:{width:"100%"},src:X})}),ee.length>0?(0,t.jsx)(l.Z,{danger:!0,type:"text",onClick:function(){return ie([])},children:"Delete"}):null]})})}),(0,t.jsxs)(m.Z,{span:8,children:[(0,t.jsx)(c.Z.Item,{label:"Area Name",name:"area_name",rules:[{required:!0,message:"Please input area name!"}],requiredMark:"optional",children:(0,t.jsx)(o.Z,{placeholder:"Area Name"})}),(0,t.jsx)(c.Z.Item,{label:"PIC Name",name:"pic_name",rules:[{required:!0,message:"Please input pic name!"}],requiredMark:"optional",children:(0,t.jsx)(o.Z,{placeholder:"PIC Name"})}),(0,t.jsx)(c.Z.Item,{style:{marginTop:"24px"},label:"Phone",name:"phone",rules:[{required:!0,message:"Please input phone!"}],requiredMark:"optional",children:(0,t.jsx)(p.Z,{mode:"tags",style:{width:"100%"},tokenSeparators:[","],options:B,placeholder:"Phone",className:"not-rounded"})}),(0,t.jsx)(c.Z.Item,{style:{marginTop:"24px"},label:"Email",name:"email_pic",rules:[{required:!0,message:"Please input email!"}],requiredMark:"optional",children:(0,t.jsx)(p.Z,{className:"not-rounded",mode:"tags",style:{width:"100%"},tokenSeparators:[","],options:B,placeholder:"Email"})})]}),(0,t.jsxs)(m.Z,{span:8,children:[(0,t.jsx)(c.Z.Item,{label:"Email PIC Admin",name:"email_pic_admin",rules:[{required:!0,message:"Please input email pic admin!"}],requiredMark:"optional",children:(0,t.jsx)(p.Z,{mode:"tags",style:{width:"100%"},tokenSeparators:[","],options:B,placeholder:"Email PIC Admin",className:"not-rounded"})}),(0,t.jsx)(c.Z.Item,{style:{marginTop:"24px"},label:"Address",name:"address",rules:[{required:!0,message:"Please input Address!"}],requiredMark:"optional",children:(0,t.jsx)(o.Z.TextArea,{placeholder:"Address",rows:3})})]}),(0,t.jsxs)(m.Z,{span:8,children:[(0,t.jsx)(O.Z,{center:T,onChange:function(w){G(w),k.setFields([{name:"latitude",value:w.lat},{name:"longitude",value:w.lng}])}}),(0,t.jsxs)(d.Z,{wrap:!0,size:"large",style:{marginTop:"16px"},children:[(0,t.jsx)(c.Z.Item,{requiredMark:"optional",name:"latitude",label:"Latitude",initialValue:"-6.290690",hidden:!0,rules:[{required:!0,message:"Masukkan Latitude"}],children:(0,t.jsx)(o.Z,{placeholder:"Latitude"})}),(0,t.jsx)(c.Z.Item,{requiredMark:"optional",name:"longitude",label:"Longitude",hidden:!0,initialValue:"107.141853",rules:[{required:!0,message:"Masukkan Longitude"}],children:(0,t.jsx)(o.Z,{placeholder:"Longitude"})})]})]})]}),(0,t.jsx)("div",{style:{marginTop:20,textAlign:"right"},children:(0,t.jsxs)(d.Z,{children:[(0,t.jsx)(c.Z.Item,{children:(0,t.jsx)(l.Z,{type:"default",onClick:function(){return g.history.push("/area")},children:"Cancel"})}),(0,t.jsx)(c.Z.Item,{children:(0,t.jsx)(l.Z,{type:"primary",htmlType:"submit",children:"Submit"})})]})})]})})})};Z.default=U},4745:function(Y,Z,e){e.d(Z,{OO:function(){return c},Ug:function(){return d},_J:function(){return a},bg:function(){return v},yz:function(){return g}});var A=e(11281),f=e.n(A),x=e(97983),D=e.n(x),L=e(40794),E=e.n(L),h=e(12461),O=e(9669),C=e.n(O),M=e(9212);function v(i){return R.apply(this,arguments)}function R(){return R=E()(D()().mark(function i(r){var s,_;return D()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,M.Z.get("/area",f()({method:"GET"},r||{}));case 3:return s=n.sent,_=s.data,n.abrupt("return",{data:_.data,error:!1,message:"Success Get",responseCode:_.responseCode});case 8:if(n.prev=8,n.t0=n.catch(0),!C().isAxiosError(n.t0)){n.next=16;break}return console.log("error message: ",n.t0.message),h.ZP.error(n.t0.message),n.abrupt("return",{data:null,error:!0,message:n.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",n.t0),h.ZP.error("An unexpected error occurred"),n.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return n.stop()}},i,null,[[0,8]])})),R.apply(this,arguments)}var g=function(){var i=E()(D()().mark(function r(s){var _,m;return D()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,M.Z.get("/area/detail/".concat(s),{method:"GET"});case 3:return _=o.sent,m=_.data,o.abrupt("return",{data:m.data,error:!1,message:"Success Get",responseCode:m.responseCode});case 8:if(o.prev=8,o.t0=o.catch(0),!C().isAxiosError(o.t0)){o.next=16;break}return console.log("error message: ",o.t0.message),h.ZP.error(o.t0.message),o.abrupt("return",{data:null,error:!0,message:o.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",o.t0),h.ZP.error("An unexpected error occurred"),o.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return o.stop()}},r,null,[[0,8]])}));return function(s){return i.apply(this,arguments)}}(),c=function(){var i=E()(D()().mark(function r(s){var _,m,n;return D()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,p.next=3,M.Z.post("/area",{company_name:s.company_name,area_name:s.area_name,pic_name:s.pic_name,billing_address:s.billing_address,image:s.image,phone:s.phone,email_pic:s.email_pic,email_pic_admin:s.email_pic_admin,address:s.address,latitude:s.latitude,longitude:s.longitude},{headers:{"Content-Type":"multipart/form-data"}});case 3:return _=p.sent,m=_.data,p.abrupt("return",f()(f()({},m),{},{status:"ok",error:!1}));case 8:if(p.prev=8,p.t0=p.catch(0),!C().isAxiosError(p.t0)){p.next=17;break}return console.log("error message: ",p.t0.message),n=p.t0.response,n.data.message?h.ZP.error(n.data.message):h.ZP.error(p.t0.message),p.abrupt("return",{responseCode:400,message:p.t0.message,error:!0});case 17:return console.log("unexpected error: ",p.t0),h.ZP.error("An unexpected error occured"),p.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return p.stop()}},r,null,[[0,8]])}));return function(s){return i.apply(this,arguments)}}(),a=function(){var i=E()(D()().mark(function r(s,_){var m,n,o;return D()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,M.Z.post("/area/setting/"+_,f()({},s));case 3:return m=u.sent,n=m.data,u.abrupt("return",f()(f()({},n),{},{status:"ok",error:!1}));case 8:if(u.prev=8,u.t0=u.catch(0),!C().isAxiosError(u.t0)){u.next=17;break}return console.log("error message: ",u.t0.message),o=u.t0.response,o.data.message?h.ZP.error(o.data.message):h.ZP.error(u.t0.message),u.abrupt("return",{responseCode:400,message:u.t0.message,error:!0});case 17:return console.log("unexpected error: ",u.t0),h.ZP.error("An unexpected error occured"),u.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return u.stop()}},r,null,[[0,8]])}));return function(s,_){return i.apply(this,arguments)}}(),l=null,d=function(){var i=E()(D()().mark(function r(s,_){var m,n,o;return D()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,M.Z.put("/area/"+_,s);case 3:return m=u.sent,n=m.data,u.abrupt("return",f()(f()({},n),{},{status:"ok",error:!1}));case 8:if(u.prev=8,u.t0=u.catch(0),!C().isAxiosError(u.t0)){u.next=17;break}return console.log("error message: ",u.t0.message),o=u.t0.response,o.data.message?h.ZP.error(o.data.message):h.ZP.error(u.t0.message),u.abrupt("return",{responseCode:400,message:u.t0.message,error:!0});case 17:return console.log("unexpected error: ",u.t0),h.ZP.error("An unexpected error occured"),u.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return u.stop()}},r,null,[[0,8]])}));return function(s,_){return i.apply(this,arguments)}}()},49288:function(Y,Z,e){var A=e(87462),f=e(71002),x=e(97685),D=e(94184),L=e.n(D),E=e(50344),h=e(98423),O=e(67294),C=e(53124),M=e(40038),v=e(96159),R=M.Z.Option;function g(l){return l&&l.type&&(l.type.isSelectOption||l.type.isSelectOptGroup)}var c=function(d,i){var r=d.prefixCls,s=d.className,_=d.popupClassName,m=d.dropdownClassName,n=d.children,o=d.dataSource,p=(0,E.Z)(n),u;if(p.length===1&&(0,v.l$)(p[0])&&!g(p[0])){var t=(0,x.Z)(p,1);u=t[0]}var F=u?function(){return u}:void 0,U;return p.length&&g(p[0])?U=n:U=o?o.map(function(j){if((0,v.l$)(j))return j;switch((0,f.Z)(j)){case"string":return O.createElement(R,{key:j,value:j},j);case"object":{var I=j.value;return O.createElement(R,{key:I,value:I},j.text)}default:return}}):[],O.createElement(C.C,null,function(j){var I=j.getPrefixCls,$=I("select",r);return O.createElement(M.Z,(0,A.Z)({ref:i},(0,h.Z)(d,["dataSource"]),{prefixCls:$,popupClassName:_||m,className:L()("".concat($,"-auto-complete"),s),mode:M.Z.SECRET_COMBOBOX_MODE_DO_NOT_USE},{getInputElement:F}),U)})},a=O.forwardRef(c);a.Option=R,Z.Z=a},52948:function(Y,Z,e){var A,f=e(13399);function x(a,l,d,i,r,s,_){try{var m=a[s](_),n=m.value}catch(o){return void d(o)}m.done?l(n):Promise.resolve(n).then(i,r)}function D(a){return function(){var l=this,d=arguments;return new Promise(function(i,r){var s=a.apply(l,d);function _(n){x(s,i,r,_,m,"next",n)}function m(n){x(s,i,r,_,m,"throw",n)}_(void 0)})}}A={value:!0},Z.Z=void 0;var L=!1,E=null,h="en",O=null,C=null,M="https://maps.googleapis.com/maps/api/geocode/json";function v(a){var l=arguments.length>1&&arguments[1]!==void 0&&arguments[1];L&&(l?console.warn(a):console.log(a))}function R(a){return g.apply(this,arguments)}function g(){return(g=D(f.mark(function a(l){var d,i;return f.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(l).catch(function(){return Promise.reject(new Error("Error fetching data"))});case 2:return d=r.sent,r.next=5,d.json().catch(function(){return v("Error parsing server response"),Promise.reject(new Error("Error parsing server response"))});case 5:if((i=r.sent).status!=="OK"){r.next=9;break}return v(i),r.abrupt("return",i);case 9:return v("".concat(i.error_message,`.
Server returned status code `).concat(i.status),!0),r.abrupt("return",Promise.reject(new Error("".concat(i.error_message,`.
Server returned status code `).concat(i.status))));case 11:case"end":return r.stop()}},a)}))).apply(this,arguments)}var c={setApiKey:function(a){E=a},setLanguage:function(a){h=a},setRegion:function(a){O=a},setLocationType:function(a){C=a},enableDebug:function(){var a=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];L=a},fromLatLng:function(a,l,d,i,r,s){return D(f.mark(function _(){var m,n;return f.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(a&&l){o.next=3;break}return v("Provided coordinates are invalid",!0),o.abrupt("return",Promise.reject(new Error("Provided coordinates are invalid")));case 3:return m="".concat(a,",").concat(l),n="".concat(M,"?latlng=").concat(encodeURIComponent(m)),(d||E)&&(n+="&key=".concat(E=d||E)),(i||h)&&(n+="&language=".concat(h=i||h)),(r||O)&&(O=r||O,n+="&region=".concat(encodeURIComponent(O))),(s||C)&&(C=s||C,n+="&location_type=".concat(encodeURIComponent(C))),o.abrupt("return",R(n));case 9:case"end":return o.stop()}},_)}))()},fromAddress:function(a,l,d,i){return D(f.mark(function r(){var s;return f.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(a){_.next=3;break}return v("Provided address is invalid",!0),_.abrupt("return",Promise.reject(new Error("Provided address is invalid")));case 3:return s="".concat(M,"?address=").concat(encodeURIComponent(a)),(l||E)&&(s+="&key=".concat(E=l||E)),(d||h)&&(s+="&language=".concat(h=d||h)),(i||O)&&(O=i||O,s+="&region=".concat(encodeURIComponent(O))),_.abrupt("return",R(s));case 8:case"end":return _.stop()}},r)}))()}};Z.Z=c},20906:function(Y,Z,e){e.d(Z,{LM:function(){return O},WV:function(){return C},ZP:function(){return E}});var A=e(67294);function f(){return f=Object.assign||function(g){for(var c=1;c<arguments.length;c++){var a=arguments[c];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(g[l]=a[l])}return g},f.apply(this,arguments)}var x=function(g){var c=(0,A.useRef)(g);return c.current=g,c},D=function(g,c){var a;return function(){for(var l=this,d=arguments.length,i=new Array(d),r=0;r<d;r++)i[r]=arguments[r];a!==null&&(clearTimeout(a),a=null),a=setTimeout(function(){return g.apply(l,i)},c)}},L="\u{1F4A1} use-places-autocomplete: Google Maps Places API library must be loaded. See: https://github.com/wellyshen/use-places-autocomplete#load-the-library",E=function(c){var a=c===void 0?{}:c,l=a.requestOptions,d=a.debounce,i=d===void 0?200:d,r=a.cache,s=r===void 0?24*60*60:r,_=a.cacheKey,m=_===void 0?"upa":_,n=a.googleMaps,o=a.callbackName,p=a.defaultValue,u=p===void 0?"":p,t=a.initOnMount,F=t===void 0?!0:t,U=(0,A.useState)(!1),j=U[0],I=U[1],$=(0,A.useState)(u),k=$[0],B=$[1],N=(0,A.useState)({loading:!1,status:"",data:[]}),H=N[0],S=N[1],z=(0,A.useRef)(),ne=x(l),V=x(n),X=(0,A.useCallback)(function(){var y;if(!z.current){var K=window,b=K.google,T=V.current,G=(T==null?void 0:T.places)||(b==null||(y=b.maps)==null?void 0:y.places);if(!G){console.error(L);return}z.current=new G.AutocompleteService,I(!0)}},[V]),Q=(0,A.useCallback)(function(){S({loading:!1,status:"",data:[]})},[]),te=(0,A.useCallback)(function(y){y===void 0&&(y=m);try{sessionStorage.removeItem(y)}catch(K){}},[m]),q=(0,A.useCallback)(D(function(y){var K;if(!y){Q();return}S(function(T){return f({},T,{loading:!0})});var b={};try{b=JSON.parse(sessionStorage.getItem(m)||"{}")}catch(T){}if(s&&(b=Object.keys(b).reduce(function(T,G){return b[G].maxAge-Date.now()>=0&&(T[G]=b[G]),T},{}),b[y])){S({loading:!1,status:"OK",data:b[y].data});return}(K=z.current)==null||K.getPlacePredictions(f({},ne.current,{input:y}),function(T,G){if(S({loading:!1,status:G,data:T||[]}),s&&G==="OK"){b[y]={data:T,maxAge:Date.now()+s*1e3};try{sessionStorage.setItem(m,JSON.stringify(b))}catch(oe){}}})},i),[s,m,Q,ne]),se=(0,A.useCallback)(function(y,K){K===void 0&&(K=!0),B(y),z.current&&K&&q(y)},[q]);return(0,A.useEffect)(function(){if(!F)return function(){return null};var y=window,K=y.google;return!V.current&&!(K!=null&&K.maps)&&o?window[o]=X:X(),function(){window[o]&&delete window[o]}},[o,V,X,F]),{ready:j,value:k,suggestions:H,setValue:se,clearSuggestions:Q,clearCache:te,init:X}},h="\u{1F4A1} use-places-autocomplete: Please provide an address when using getGeocode() with the componentRestrictions.",O=function(c){var a=new window.google.maps.Geocoder;return new Promise(function(l,d){a.geocode(c,function(i,r){r!=="OK"&&d(r),!c.address&&c.componentRestrictions&&(console.error(h),l(i)),l(i)})})},C=function(c){var a=c.geometry.location,l=a.lat,d=a.lng;return{lat:l(),lng:d()}},M=function(c,a){var l=c.address_components.find(function(d){var i=d.types;return i.includes("postal_code")});if(!!l)return a?l.short_name:l.long_name},v="\u{1F4A1} use-places-autocomplete: Please provide a place Id when using getDetails() either as a string or as part of an Autocomplete Prediction.",R=function(c){var a=new window.google.maps.places.PlacesService(document.createElement("div"));return c.placeId?new Promise(function(l,d){a.getDetails(c,function(i,r){r!=="OK"&&d(r),l(i)})}):(console.error(v),Promise.reject(v))}}}]);
