"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1492],{10551:function(Ee,me,r){r.r(me),r.d(me,{default:function(){return dr}});var fe=r(97983),f=r.n(fe),he=r(40794),F=r.n(he),xe=r(12741),p=r.n(xe),j=r(99399),pe=r.n(j),H=r(13448),k=r(11382),W=r(71230),d=r(15746),q=r(59652),ge=r(29924),Z=r(21802),b=r(67294),Q=r(9212),C=r(80737),i=r(71577),_=r(79915),e=r(85893),l=function(h){var m=h.title,s=h.defaultData,U=h.typeId,K=h.is_member,w=h.member_id,g=h.getPricingPostpaid,D=h.disabled,N=h.area_id,I=h.loading,z=h.setLoading,x=b.useState(!1),B=p()(x,2),y=B[0],O=B[1],A=C.Z.useForm(),M=p()(A,1),$=M[0],te=function(v){console.log("Received values of form: ",v),y?(z(!0),(0,Q.Z)({url:"/area/setting/pricing",method:"POST",data:{is_member:K,type_id:U,parameter_1:v.parameter_1,price_1:v.price_1,parameter_2:v.parameter_2,price_2:v.price_2,parameter_3:v.parameter_3,price_3:v.price_3,member_id:w,area_id:N}}).then(function(L){g(),z(!1),O(!1)}).catch(function(L){H.Z.error({message:L.response.data.message})})):O(!0)},R=function(){$.setFields([{name:"parameter_1",value:s.parameter_1},{name:"parameter_2",value:s.parameter_2},{name:"parameter_3",value:s.parameter_3},{name:"price_1",value:s.price_1},{name:"price_2",value:s.price_2},{name:"price_3",value:s.price_3}])};return b.useEffect(function(){R()},[]),(0,e.jsx)(q.Z,{style:{borderRadius:"8px"},bodyStyle:{padding:"12px 16px"},children:(0,e.jsx)("div",{children:(0,e.jsx)(k.Z,{spinning:I,children:(0,e.jsx)(C.Z,{form:$,name:m,onFinish:te,layout:"vertical",children:(0,e.jsxs)(W.Z,{gutter:[16,16],children:[(0,e.jsx)(d.Z,{span:24,children:(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,e.jsx)(Z.Z,{style:{fontSize:"18px",fontWeight:"bold",marginTop:"4px"},children:m}),D?null:(0,e.jsx)(i.Z,{type:"link",size:"large",htmlType:"submit",children:y?"Save":"Edit"})]})}),(0,e.jsxs)(d.Z,{span:8,children:[(0,e.jsx)(C.Z.Item,{label:"Parameter 1",name:"parameter_1",required:!0,children:(0,e.jsx)(_.Z,{placeholder:"Input",style:{width:"100%"},className:y?"":"edit-to-text",disabled:!y,addOnBefore:"<",onChange:function(v){return $.setFields([{name:"parameter_2",value:v}])}})}),(0,e.jsx)(C.Z.Item,{label:"Price",name:"price_1",required:!0,children:(0,e.jsx)(_.Z,{className:y?"":"edit-to-text",disabled:!y,placeholder:"Input",style:{width:"100%"}})})]}),(0,e.jsxs)(d.Z,{span:8,style:{borderLeft:"1px solid #0000000F",borderRight:"1px solid #0000000F"},children:[(0,e.jsx)(C.Z.Item,{label:"Parameter 2",name:"parameter_2",required:!0,children:(0,e.jsx)(_.Z,{placeholder:"Input",style:{width:"100%"},className:y?"":"edit-to-text",disabled:!y,addOnBefore:">=",onChange:function(v){return $.setFields([{name:"parameter_1",value:v}])}})}),(0,e.jsx)(C.Z.Item,{label:"Price",name:"price_2",required:!0,children:(0,e.jsx)(_.Z,{className:y?"":"edit-to-text",disabled:!y,placeholder:"Input",style:{width:"100%"}})})]}),(0,e.jsxs)(d.Z,{span:8,children:[(0,e.jsx)(C.Z.Item,{label:"Parameter 3",name:"parameter_3",required:!0,children:(0,e.jsx)(_.Z,{className:y?"":"edit-to-text",disabled:!y,addOnBefore:">=",placeholder:"Input",style:{width:"100%"}})}),(0,e.jsx)(C.Z.Item,{label:"Price",name:"price_3",required:!0,children:(0,e.jsx)(_.Z,{placeholder:"Input",style:{width:"100%"},className:y?"":"edit-to-text",disabled:!y})})]})]})})})})})},o=l;function a(ie){var h={},m=pe()(ie),s;try{for(m.s();!(s=m.n()).done;){var U=s.value,K=U.type_id,w=U.type_name,g=pe()(U.price_member),D;try{for(g.s();!(D=g.n()).done;){var N=D.value,I=N.id,z=N.name,x=N.price;h[I]?h[I].types.push({type_id:K,type_name:w,price:x}):h[I]={id:I,name:z,types:[{type_id:K,type_name:w,price:x}]}}}catch(B){g.e(B)}finally{g.f()}}}catch(B){m.e(B)}finally{m.f()}return Object.values(h)}var P=function(h){var m=h.dataArea,s=h.getData,U=h.loadingArea,K=b.useState(),w=p()(K,2),g=w[0],D=w[1],N=b.useState([]),I=p()(N,2),z=I[0],x=I[1],B=b.useState(!1),y=p()(B,2),O=y[0],A=y[1],M=b.useState([]),$=p()(M,2),te=$[0],R=$[1];b.useEffect(function(){m.Nebula_Area_Pricing_tiers&&m.Nebula_Area_members&&(x(m==null?void 0:m.Nebula_Area_Pricing_tiers),R(a(m==null?void 0:m.Nebula_Area_Pricing_tiers)),D(m.pricing_type))},[m]),console.log(te);var X=function(L){A(!0),(0,Q.Z)({url:"/area/pricing/type/"+m.id,method:"PUT",data:{pricing_type:L}}).then(function(){A(!1),D(L),s()}).catch(function(ce){H.Z.error({message:ce.response.data.message})})};return(0,e.jsx)("div",{style:{paddingBottom:"8em"},children:(0,e.jsx)(k.Z,{spinning:O||U,children:(0,e.jsxs)(W.Z,{gutter:[16,16],style:{marginTop:"24px"},children:[(0,e.jsx)(d.Z,{xl:10,xxl:8,lg:12,md:24,sm:24,xs:24,children:(0,e.jsx)(q.Z,{style:{borderRadius:"8px",border:g=="all"?"1px solid #1890ff":void 0},headStyle:{backgroundColor:g=="all"?"#1890ff":"#F0F0F0",borderTopLeftRadius:"8px",borderTopRightRadius:"8px"},title:(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,e.jsx)(ge.ZP,{onChange:function(L){return X(L.target.checked?"all":"member")},checked:g=="all"}),(0,e.jsx)(Z.Z,{style:{color:g=="all"?"#fff":"#000"},children:"One Price For All Customer"})]}),bodyStyle:{background:"#F9F9F9",borderRadius:"8px"},children:(0,e.jsx)(W.Z,{gutter:[16,16],children:z.map(function(v){return(0,e.jsx)(d.Z,{xl:24,xxl:24,lg:24,md:24,sm:24,xs:24,children:(0,e.jsx)(o,{title:v.type_name,typeId:v.type_id,defaultData:v.price_all,is_member:g!="all",disabled:g!="all",getPricingPostpaid:s,area_id:m.id,loading:O,setLoading:A},v.type_name)},v.type_name)})})})}),(0,e.jsx)(d.Z,{xl:14,xxl:16,lg:12,md:24,sm:24,xs:24,children:(0,e.jsx)(q.Z,{style:{borderRadius:"8px",border:g=="member"?"1px solid #1890ff":void 0},headStyle:{backgroundColor:g=="member"?"#1890ff":"#F0F0F0",borderTopLeftRadius:"8px",borderTopRightRadius:"8px"},title:(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,e.jsx)(ge.ZP,{onChange:function(L){return X(L.target.checked?"member":"all")},checked:g!="all"}),(0,e.jsx)(Z.Z,{style:{color:g=="member"?"#fff":"#000"},children:"Setting Price Member Level"})]}),bodyStyle:{background:"#F9F9F9",borderRadius:"8px"},children:(0,e.jsx)(W.Z,{gutter:[16,16],children:te.map(function(v){return(0,e.jsx)(d.Z,{span:24,children:(0,e.jsx)(q.Z,{style:{borderRadius:"8px",border:g=="member"?"1px solid #1890ff":void 0},headStyle:{backgroundColor:g=="member"?"#1890ff":"#F0F0F0",borderTopLeftRadius:"8px",borderTopRightRadius:"8px"},title:(0,e.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:(0,e.jsx)(Z.Z,{style:{color:g=="member"?"#fff":"#000"},children:v.name})}),bodyStyle:{background:"#F9F9F9",borderRadius:"8px"},children:(0,e.jsx)(W.Z,{gutter:[16,16],children:v.types.map(function(L){return(0,e.jsx)(d.Z,{xl:12,xxl:12,lg:24,md:24,sm:24,xs:24,children:(0,e.jsx)(o,{title:L.type_name,typeId:L.type_id,defaultData:L.price,is_member:g!="all",disabled:g!="member",getPricingPostpaid:s,member_id:v.id,area_id:m.id,loading:O,setLoading:A},L.type_name)},L.type_name)})})})},v.id+v.name)})})})})]})})})},S=P,c=r(64129),n=r.n(c),t=r(11281),u=r.n(t),je=r(4745),De=r(28530),Oe=r(91714),_e=r(14538),de=r(40038),G=r(26713),Me=r(68351),Re=r(20550),Le=r(30381),Ce=r.n(Le),cr=r(29218);Ce().locale("en");var Ie=function(h){var m,s=h.dataArea,U=h.getData,K=h.loadingArea,w=b.useState(!1),g=p()(w,2),D=g[0],N=g[1],I=b.useState(s==null?void 0:s.cut_off_order),z=p()(I,2),x=z[0],B=z[1],y=b.useState(!1),O=p()(y,2),A=O[0],M=O[1],$=b.useState(s==null?void 0:s.Nebula_Areas_Cut_offs),te=p()($,2),R=te[0],X=te[1],v=C.Z.useForm(),L=p()(v,1),ce=L[0],Ze=b.useState(!1),be=p()(Ze,2),E=be[0],Y=be[1],se=b.useState(!1),V=p()(se,2),ee=V[0],Se=V[1],le=Array.from({length:28});b.useEffect(function(){ce.setFields([{name:"ppn",value:s.ppn},{name:"min_charge_gas",value:s.min_charge_gas},{name:"min_charge_water",value:s.min_charge_water},{name:"min_charge_electrict_ct",value:s.min_charge_electrict_ct},{name:"min_charge_electrict_non_ct",value:s.min_charge_electrict_non_ct},{name:"stamp_number",value:s.stamp_number},{name:"stamp_date",value:s.stamp_date}]),X(s!=null&&s.Nebula_Areas_Cut_offs?s==null?void 0:s.Nebula_Areas_Cut_offs:[]),B(s!=null&&s.cut_off_order?s==null?void 0:s.cut_off_order:[])},[s]);var Ae=function(){var re=F()(f()().mark(function ae(oe){var T;return f()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return Se(!0),J.next=3,(0,De.sN)(s.id,oe);case 3:T=J.sent,Se(!1),T.error||X(T.data);case 6:case"end":return J.stop()}},ae)}));return function(oe){return re.apply(this,arguments)}}(),ur=function(){var re=F()(f()().mark(function ae(oe){var T;return f()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return Y(!0),J.next=3,(0,je._J)(u()(u()({},oe),{},{cut_off:R,cut_off_order:x}),s.id);case 3:T=J.sent,Y(!1),T.error?_e.Z.error({content:T.message}):_e.Z.success({content:T.message,onOk:function(){M(!1),U()}});case 6:case"end":return J.stop()}},ae)}));return function(oe){return re.apply(this,arguments)}}();return(0,e.jsx)(q.Z,{style:{borderRadius:8,marginTop:"20px"},loading:E,children:(0,e.jsx)(C.Z,{name:"add-area",layout:"vertical",form:ce,onFinish:ur,children:(0,e.jsxs)(W.Z,{gutter:[16,16],justify:"space-between",children:[(0,e.jsxs)(d.Z,{xs:24,sm:24,md:12,lg:12,xl:12,xxl:12,children:[(0,e.jsxs)(W.Z,{justify:"space-between",children:[(0,e.jsx)(d.Z,{children:(0,e.jsx)(Z.Z,{children:"Automatic Billing"})}),(0,e.jsx)(d.Z,{children:A?(0,e.jsxs)(de.Z,{value:x,onChange:function(ae){B(ae),Ae(ae)},className:"not-rounded",children:[(0,e.jsx)(de.Z.Option,{value:1,children:"Monthly 1"}),(0,e.jsx)(de.Z.Option,{value:2,children:"Monthly 2"}),(0,e.jsx)(de.Z.Option,{value:3,children:"Monthly 3"}),(0,e.jsx)(de.Z.Option,{value:4,children:"Monthly 4"})]}):(0,e.jsxs)(Z.Z,{children:["Monthly ",s==null||(m=s.Nebula_Areas_Cut_offs)===null||m===void 0?void 0:m.length,"x"]})})]}),(0,e.jsx)(q.Z,{style:{marginTop:10,borderRadius:8},children:(0,e.jsx)(k.Z,{spinning:ee,children:(0,e.jsx)(W.Z,{gutter:[16,16],justify:"space-between",children:R==null?void 0:R.map(function(re,ae){return(0,e.jsx)(d.Z,{xs:12,sm:12,md:12,lg:12,xxl:12,children:(0,e.jsxs)(G.Z,{direction:"vertical",children:[(0,e.jsxs)(Z.Z,{children:["Cutt Off Date ",ae+1,"x"]}),A?(0,e.jsxs)(G.Z,{children:[(0,e.jsx)(de.Z,{showSearch:!0,optionFilterProp:"children",filterOption:function(T,ne){var J;return((J=ne==null?void 0:ne.children)!==null&&J!==void 0?J:"").toLowerCase().includes(T.toLowerCase())},className:"not-rounded",value:re.day,style:{width:"80px"},onChange:function(T){var ne=n()(R);ne[ae].day=T,X(ne)},children:le==null?void 0:le.map(function(oe,T){return T<9?(0,e.jsx)(de.Z.Option,{value:"0"+(T+1).toString(),children:"0"+(T+1).toString()},1):(0,e.jsx)(de.Z.Option,{value:(T+1).toString(),children:(T+1).toString()},1)})}),(0,e.jsx)(Me.Z,{className:"not-rounded",value:Ce()(re.time,"HH:mm:ss"),onChange:function(T){var ne=n()(R);ne[ae].time=T==null?void 0:T.format("HH:mm:ss"),X(ne)},format:"HH:mm"})]}):(0,e.jsxs)(G.Z,{children:[(0,e.jsx)(Re.Z,{color:"#E6F7FF",style:{borderRadius:6,color:"#1890FF",padding:"0px 10px 0px 10px"},children:re.day}),(0,e.jsx)(Re.Z,{icon:(0,e.jsx)(Oe.Z,{}),color:"#E6F7FF",style:{borderRadius:6,color:"#1890FF",padding:"0px 10px 0px 10px"},children:Ce()(re.time,"HH:mm:ss").format("HH:mm")})]})]})},re)})})})})]}),(0,e.jsx)(d.Z,{span:24,style:{textAlign:"right"},children:A?(0,e.jsx)(i.Z,{onClick:function(){ce.submit()},children:"Save"}):(0,e.jsx)(i.Z,{onClick:function(){return M(!0)},children:"Edit"})})]})})})},Be=Ie,ke=r(12461),Fe=r(69677),We=r(62986),we=r(96486),Ue=r.n(we),ze=[{backgroundColor:"#E6F7FF",borderColor:"#91D5FF"},{backgroundColor:"#FFF1F0",borderColor:"#FFA39E"},{backgroundColor:"#F9F0FF",borderColor:"#D3ADF7"},{backgroundColor:"#E6FFFB",borderColor:"#87E8DE"},{backgroundColor:"#FFF7E6",borderColor:"#FFD591"},{backgroundColor:"#FCFFE6",borderColor:"#EAFF8F"},{backgroundColor:"#F6FFED",borderColor:"#B7EB8F"}],He=function(h){var m=h.dataArea,s=h.getData,U=h.loadingArea;console.log(m,"AREA");var K=b.useState(void 0),w=p()(K,2),g=w[0],D=w[1],N=b.useState(!1),I=p()(N,2),z=I[0],x=I[1],B=b.useState([]),y=p()(B,2),O=y[0],A=y[1],M=C.Z.useForm(),$=p()(M,1),te=$[0],R=b.useState([]),X=p()(R,2),v=X[0],L=X[1];console.log(m,"AREA");var ce=function(){var Y=[];m.Nebula_Area_members&&(m.Nebula_Area_members.map(function(se){var V=Ue().sample(ze);Y.push(u()(u()({},se),{},{backgroundColor:V==null?void 0:V.backgroundColor,borderColor:V==null?void 0:V.borderColor}))}),A(Y))};b.useEffect(function(){ce()},[m]);var Ze=function(){var E=F()(f()().mark(function Y(){var se;return f()().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(!(g!==""&&g!=null)){ee.next=7;break}return x(!0),ee.next=4,(0,je.if)({member_name:g,area_id:m.id});case 4:se=ee.sent,x(!1),se.error||(s(),D(""));case 7:case"end":return ee.stop()}},Y)}));return function(){return E.apply(this,arguments)}}(),be=function(){var E=F()(f()().mark(function Y(se){var V,ee;return f()().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return console.log(se,"VALUES"),V=[],Object.keys(se[v[0]]).map(function(Ae){V.push({id:parseInt(Ae),name:se[v[0]][Ae]})}),console.log(V,"ARR"),x(!1),le.next=7,(0,je.K7)(V);case 7:ee=le.sent,ee.error||(ke.ZP.success(ee.message),s(),L([]));case 9:case"end":return le.stop()}},Y)}));return function(se){return E.apply(this,arguments)}}();return(0,e.jsx)("div",{style:{textAlign:"center"},children:(0,e.jsxs)(k.Z,{spinning:z||U,children:[(0,e.jsx)(Z.Z.Title,{level:5,style:{textAlign:"center"},children:"Create Member Level"}),(0,e.jsxs)(G.Z.Compact,{style:{maxWidth:550},size:"large",children:[(0,e.jsx)(Fe.Z,{placeholder:"Create Member Level",size:"large",style:{borderTopLeftRadius:"24px",borderBottomLeftRadius:"24px"},value:g,onChange:function(Y){return D(Y.target.value)},onPressEnter:Ze}),(0,e.jsx)(i.Z,{type:"primary",className:"member-level-save",onClick:Ze,children:"Save"})]}),(0,e.jsx)(C.Z,{size:"middle",form:te,layout:"vertical",onFinish:be,children:(0,e.jsx)(W.Z,{gutter:[24,24],style:{marginTop:20},children:O.length>0?O.map(function(E){return(0,e.jsx)(d.Z,{xs:24,sm:24,md:12,lg:6,xl:6,xxl:6,style:{},children:(0,e.jsx)("div",{style:{borderRadius:"2px",padding:"12px 16px",border:"1px solid ".concat(E==null?void 0:E.borderColor),backgroundColor:"".concat(E==null?void 0:E.backgroundColor),textAlign:"left"},children:(0,e.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:(0,e.jsx)(C.Z.Item,{name:[E.id.toString(),E.id.toString()],label:v.includes(E.id)?(0,e.jsx)(Z.Z.Text,{type:"secondary",children:E.name}):null,initialValue:E.name,noStyle:!0,children:v.includes(E.id)?(0,e.jsx)(Fe.Z,{placeholder:"Input"}):(0,e.jsx)(Z.Z,{style:{marginTop:"6px"},children:E==null?void 0:E.name})},E.id.toString())})})},E)}):(0,e.jsx)(d.Z,{span:24,children:(0,e.jsx)(We.Z,{})})})})]})})},Ge=He,Ke=r(16165),Ne=function(){return(0,e.jsxs)("svg",{width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,e.jsx)("g",{clipPath:"url(#clip0_171292_29290)",children:(0,e.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 14.4219V1.97748C0 0.99704 0.797333 0.199707 1.77778 0.199707H14.2222C15.2027 0.199707 16 0.99704 16 1.97748V14.4219C16 15.4024 15.2027 16.1997 14.2222 16.1997H1.77778C0.797333 16.1997 0 15.4024 0 14.4219ZM1.33333 1.53304V14.8664H14.6667V1.53304H1.33333ZM12.4444 8.19971H11.1111V5.0886H8V3.75526H12.4444V8.19971ZM4.88889 11.3108H8V12.6442H3.55556V8.19971H4.88889V11.3108Z",fill:"#1890FF"})}),(0,e.jsx)("defs",{children:(0,e.jsx)("clipPath",{id:"clip0_171292_29290",children:(0,e.jsx)("rect",{width:"16",height:"16",fill:"white",transform:"translate(0 0.199707)"})})})]})},Ve=function(h){return(0,e.jsx)(Ke.Z,u()({component:Ne},h))},Je=r(95971),Qe=r(24969),Xe=r(68795),ve=r(87547),$e=r(28548),ue=r(30028),ye=r(24093),Ye=function(h){var m=h.area_id,s=b.useState([]),U=p()(s,2),K=U[0],w=U[1],g=b.useState([]),D=p()(g,2),N=D[0],I=D[1],z=b.useState(!1),x=p()(z,2),B=x[0],y=x[1],O=function(){var A=F()(f()().mark(function M(){var $;return f()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return y(!0),R.next=3,(0,Je.cH)({params:{area_id:m}});case 3:$=R.sent,console.log($,"data tenant"),y(!1),$.error||(w($.data),I($.data));case 7:case"end":return R.stop()}},M)}));return function(){return A.apply(this,arguments)}}();return b.useEffect(function(){O()},[]),(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(W.Z,{gutter:[8,20],children:[(0,e.jsx)(d.Z,{span:18,style:{paddingLeft:20,paddingTop:10},children:(0,e.jsxs)(Z.Z.Text,{strong:!0,style:{fontSize:16},children:["List Tenant (",K.length,")"]})}),(0,e.jsx)(d.Z,{span:6,children:(0,e.jsx)(i.Z,{icon:(0,e.jsx)(Qe.Z,{}),type:"primary",shape:"round",size:"large",onClick:function(){return ue.history.push("/tenant/create",{area_id:m})},children:"Add"})}),(0,e.jsx)(d.Z,{span:24,style:{paddingLeft:20},children:(0,e.jsx)(Fe.Z,{suffix:(0,e.jsx)(Xe.Z,{}),size:"large",style:{borderRadius:"20px"},placeholder:"Search Tenant Name",onChange:function(M){w(N.filter(function($){return $.name.toLowerCase().includes(M.target.value.toLowerCase())}))}})}),(0,e.jsx)(d.Z,{span:24,style:{paddingLeft:20,maxHeight:"70vh",overflow:"scroll"},children:K.length>0&&!B?K.map(function(A){return(0,e.jsx)(q.Z,{loading:B,bordered:!1,style:{marginBottom:8},bodyStyle:{backgroundColor:"#FAFAFA",padding:12},children:(0,e.jsxs)("div",{style:{cursor:"pointer",display:"flex",flexDirection:"row",gap:"24px",overflow:"visible"},onClick:function(){return ue.history.push("/area/tenant",{tenant_id:A.id,area_id:m})},children:[(0,e.jsx)("div",{children:A.logo&&A.logo!==""?(0,e.jsx)(ye.C,{icon:(0,e.jsx)(ve.Z,{}),size:60,shape:"square",src:A.logo}):(0,e.jsx)(ye.C,{icon:(0,e.jsx)(ve.Z,{}),size:60,shape:"square"})}),(0,e.jsx)("div",{style:{width:"100%",overflow:"visible"},children:(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"column",gap:"14px"},children:[(0,e.jsx)("div",{children:(0,e.jsx)(Z.Z.Text,{style:{fontSize:16},children:A.name})}),(0,e.jsx)("div",{style:{width:"100%"},children:(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%"},children:[(0,e.jsxs)(G.Z,{children:[(0,e.jsx)(ve.Z,{style:{color:"#1890FF"}}),(0,e.jsx)(Z.Z,{children:A.pic_name})]}),(0,e.jsxs)(G.Z,{style:{float:"right"},children:[(0,e.jsx)($e.Z,{style:{color:"#1890FF"}}),(0,e.jsx)(Z.Z,{children:A.phone})]})]})})]})})]})},A.id)}):null})]})})},qe=Ye,er=r(82826),rr=r(86548),ar=r(33862),Te=r(88641),tr=r(25035),sr=r(38402),Pe=r(58492),nr=r(84908),ir=r(95439),lr=r(64593),or=function(){var h=b.useState("Area Settings"),m=p()(h,2),s=m[0],U=m[1],K=(0,ue.useLocation)(),w=b.useState(!1),g=p()(w,2),D=g[0],N=g[1],I=b.useState([]),z=p()(I,2),x=z[0],B=z[1],y=K.state,O=function(){var A=F()(f()().mark(function M(){var $;return f()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return N(!0),R.next=3,(0,je.yz)(y==null?void 0:y.area_id);case 3:$=R.sent,N(!1),$.error||B($.data);case 6:case"end":return R.stop()}},M)}));return function(){return A.apply(this,arguments)}}();return b.useEffect(function(){y.area_id||ue.history.push("/area")},[y]),b.useEffect(function(){O()},[]),(0,e.jsxs)(sr._z,{childrenContentStyle:{minHeight:"70vh"},style:{backgroundColor:"white"},title:(0,e.jsx)(i.Z,{type:"link",onClick:function(){return ue.history.push("/area")},size:"large",children:(0,e.jsxs)(G.Z,{style:{cursor:"pointer"},align:"start",size:"large",children:[(0,e.jsx)(er.Z,{onClick:function(){return ue.history.push("/area")},style:{marginTop:"12px",fontSize:"24px",color:"#000"}}),(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"column",textAlign:"left"},children:[(0,e.jsxs)(Pe.Z,{children:[(0,e.jsx)(Pe.Z.Item,{children:"Area Management"}),(0,e.jsx)(Pe.Z.Item,{href:"#",children:"Area"})]}),(0,e.jsx)(Z.Z.Title,{level:5,children:"Detail Area"})]})]})}),children:[(0,e.jsxs)(lr.q,{children:[(0,e.jsx)("meta",{charSet:"utf-8"}),(0,e.jsx)("title",{children:"AAT | Detail Area "}),(0,e.jsx)("link",{rel:"icon",href:"https://aetratangerang.co.id/wp-content/uploads/2020/07/cropped-favicon-192x192.png",type:"image/x-icon"})]}),(0,e.jsxs)(W.Z,{gutter:[24,16],style:{borderTop:"1px solid rgba(0, 0, 0, 0.06)",paddingTop:20},children:[(0,e.jsxs)(d.Z,{xs:24,sm:24,md:24,lg:16,xl:18,xxl:18,children:[(0,e.jsx)(q.Z,{style:{borderRadius:8},loading:D,children:(0,e.jsxs)(W.Z,{gutter:[16,16],children:[(0,e.jsx)(d.Z,{xs:24,sm:24,md:24,lg:8,xl:6,xxl:4,children:x.photo&&x.photo!==""?(0,e.jsx)(ye.C,{shape:"square",src:x.photo,size:{xs:124,sm:124,md:144,lg:144,xl:144,xxl:144}}):(0,e.jsx)(ye.C,{shape:"square",icon:(0,e.jsx)(ve.Z,{}),size:{xs:124,sm:124,md:144,lg:144,xl:144,xxl:144}})}),(0,e.jsx)(d.Z,{xs:24,sm:24,md:24,lg:16,xl:18,xxl:18,children:(0,e.jsxs)("div",{children:[(0,e.jsxs)(G.Z,{children:[(0,e.jsx)(Z.Z.Title,{level:4,children:x.area_name}),(0,e.jsx)(i.Z,{icon:(0,e.jsx)(rr.Z,{}),type:"link",onClick:function(){ue.history.push("/area/edit",{dataEdit:x})}})]}),(0,e.jsxs)(W.Z,{gutter:[24,16],children:[(0,e.jsx)(d.Z,{xs:24,sm:24,md:12,lg:6,xl:4,xxl:4,children:(0,e.jsxs)(G.Z,{children:[(0,e.jsx)(Ve,{}),(0,e.jsx)(Z.Z,{children:"Area Name"})]})}),(0,e.jsx)(d.Z,{xs:24,sm:24,md:12,lg:16,xl:18,xxl:18,children:(0,e.jsx)(Z.Z,{children:x.area_name})}),(0,e.jsx)(d.Z,{xs:24,sm:24,md:12,lg:6,xl:4,xxl:4,children:(0,e.jsxs)(G.Z,{children:[(0,e.jsx)($e.Z,{style:{color:"#1890FF",fontSize:16}}),(0,e.jsx)(Z.Z,{children:"Phone"})]})}),(0,e.jsx)(d.Z,{xs:24,sm:24,md:12,lg:16,xl:18,xxl:18,children:(0,e.jsx)(Z.Z,{children:x.phone})}),(0,e.jsx)(d.Z,{xs:24,sm:24,md:12,lg:6,xl:4,xxl:4,children:(0,e.jsxs)(G.Z,{children:[(0,e.jsx)(ar.Z,{style:{color:"#1890FF",fontSize:16}}),(0,e.jsx)(Z.Z,{children:"Address"})]})}),(0,e.jsx)(d.Z,{xs:24,sm:24,md:12,lg:16,xl:18,xxl:18,children:(0,e.jsx)(Z.Z,{children:x.address})}),(0,e.jsx)(d.Z,{xs:24,sm:24,md:12,lg:6,xl:4,xxl:4,children:(0,e.jsxs)(G.Z,{children:[(0,e.jsx)(ve.Z,{style:{color:"#1890FF",fontSize:16}}),(0,e.jsx)(Z.Z,{children:"PIC"})]})}),(0,e.jsx)(d.Z,{xs:24,sm:24,md:12,lg:16,xl:18,xxl:18,children:(0,e.jsx)(Z.Z,{children:x.pic_name})}),(0,e.jsx)(d.Z,{xs:24,sm:24,md:12,lg:6,xl:4,xxl:4,children:(0,e.jsxs)(G.Z,{children:[(0,e.jsx)(Te.Z,{style:{color:"#1890FF",fontSize:16}}),(0,e.jsx)(Z.Z,{children:"Email PIC"})]})}),(0,e.jsx)(d.Z,{xs:24,sm:24,md:12,lg:16,xl:18,xxl:18,children:(0,e.jsx)(Z.Z.Link,{children:x.email_pic})}),(0,e.jsx)(d.Z,{xs:24,sm:24,md:12,lg:6,xl:4,xxl:4,children:(0,e.jsxs)(G.Z,{children:[(0,e.jsx)(Te.Z,{style:{color:"#1890FF",fontSize:16}}),(0,e.jsxs)(G.Z,{children:[(0,e.jsx)(Z.Z,{children:"Email PIC Admin "}),(0,e.jsx)(nr.Z,{title:"Email PIC Admin",children:(0,e.jsx)(tr.Z,{style:{color:"#1890FF"}})})]})]})}),(0,e.jsx)(d.Z,{xs:24,sm:24,md:12,lg:16,xl:18,xxl:18,children:(0,e.jsx)(Z.Z.Link,{children:x.email_pic_admin})})]})]})})]})}),(0,e.jsx)(ir.Z,{options:["Area Settings","Pricing","Member Level"],onResize:void 0,onResizeCapture:void 0,size:"large",block:!0,style:{maxWidth:450,marginTop:20,marginBottom:20,padding:6,backgroundImage:"radial-gradient(circle at 97% 10%, #EBF2FF 0%, #F5F8FF 28%, #EBF1FF 124%)"},onChange:function(M){return U(M.toString())}}),x.id&&(s=="Area Settings"?(0,e.jsx)(Be,{getData:O,dataArea:x,loadingArea:D}):s=="Member Level"?(0,e.jsx)(Ge,{getData:O,dataArea:x,loadingArea:D}):null)]}),(0,e.jsx)(d.Z,{xs:24,sm:24,md:24,lg:8,xl:6,xxl:6,children:(0,e.jsx)(qe,{area_id:y.area_id})}),(0,e.jsx)(d.Z,{span:24,children:x.id&&s=="Pricing"?(0,e.jsx)(S,{getData:O,dataArea:x,loadingArea:D}):null})]})]})},dr=or},4745:function(Ee,me,r){r.d(me,{K7:function(){return e},OO:function(){return ge},Ug:function(){return Q},_J:function(){return Z},bg:function(){return W},if:function(){return C},yz:function(){return q}});var fe=r(11281),f=r.n(fe),he=r(97983),F=r.n(he),xe=r(40794),p=r.n(xe),j=r(12461),pe=r(9669),H=r.n(pe),k=r(9212);function W(l){return d.apply(this,arguments)}function d(){return d=p()(F()().mark(function l(o){var a,P;return F()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,k.Z.get("/area",f()({method:"GET"},o||{}));case 3:return a=c.sent,P=a.data,c.abrupt("return",{data:P.data,error:!1,message:"Success Get",responseCode:P.responseCode});case 8:if(c.prev=8,c.t0=c.catch(0),!H().isAxiosError(c.t0)){c.next=16;break}return console.log("error message: ",c.t0.message),j.ZP.error(c.t0.message),c.abrupt("return",{data:null,error:!0,message:c.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",c.t0),j.ZP.error("An unexpected error occurred"),c.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return c.stop()}},l,null,[[0,8]])})),d.apply(this,arguments)}var q=function(){var l=p()(F()().mark(function o(a){var P,S;return F()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,k.Z.get("/area/detail/".concat(a),{method:"GET"});case 3:return P=n.sent,S=P.data,n.abrupt("return",{data:S.data,error:!1,message:"Success Get",responseCode:S.responseCode});case 8:if(n.prev=8,n.t0=n.catch(0),!H().isAxiosError(n.t0)){n.next=16;break}return console.log("error message: ",n.t0.message),j.ZP.error(n.t0.message),n.abrupt("return",{data:null,error:!0,message:n.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",n.t0),j.ZP.error("An unexpected error occurred"),n.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return n.stop()}},o,null,[[0,8]])}));return function(a){return l.apply(this,arguments)}}(),ge=function(){var l=p()(F()().mark(function o(a){var P,S,c;return F()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.Z.post("/area",{company_name:a.company_name,area_name:a.area_name,pic_name:a.pic_name,billing_address:a.billing_address,image:a.image,phone:a.phone,email_pic:a.email_pic,email_pic_admin:a.email_pic_admin,address:a.address,latitude:a.latitude,longitude:a.longitude},{headers:{"Content-Type":"multipart/form-data"}});case 3:return P=t.sent,S=P.data,t.abrupt("return",f()(f()({},S),{},{status:"ok",error:!1}));case 8:if(t.prev=8,t.t0=t.catch(0),!H().isAxiosError(t.t0)){t.next=17;break}return console.log("error message: ",t.t0.message),c=t.t0.response,c.data.message?j.ZP.error(c.data.message):j.ZP.error(t.t0.message),t.abrupt("return",{responseCode:400,message:t.t0.message,error:!0});case 17:return console.log("unexpected error: ",t.t0),j.ZP.error("An unexpected error occured"),t.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return t.stop()}},o,null,[[0,8]])}));return function(a){return l.apply(this,arguments)}}(),Z=function(){var l=p()(F()().mark(function o(a,P){var S,c,n;return F()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,k.Z.post("/area/setting/"+P,f()({},a));case 3:return S=u.sent,c=S.data,u.abrupt("return",f()(f()({},c),{},{status:"ok",error:!1}));case 8:if(u.prev=8,u.t0=u.catch(0),!H().isAxiosError(u.t0)){u.next=17;break}return console.log("error message: ",u.t0.message),n=u.t0.response,n.data.message?j.ZP.error(n.data.message):j.ZP.error(u.t0.message),u.abrupt("return",{responseCode:400,message:u.t0.message,error:!0});case 17:return console.log("unexpected error: ",u.t0),j.ZP.error("An unexpected error occured"),u.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return u.stop()}},o,null,[[0,8]])}));return function(a,P){return l.apply(this,arguments)}}(),b=null,Q=function(){var l=p()(F()().mark(function o(a,P){var S,c,n;return F()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,k.Z.put("/area/"+P,a);case 3:return S=u.sent,c=S.data,u.abrupt("return",f()(f()({},c),{},{status:"ok",error:!1}));case 8:if(u.prev=8,u.t0=u.catch(0),!H().isAxiosError(u.t0)){u.next=17;break}return console.log("error message: ",u.t0.message),n=u.t0.response,n.data.message?j.ZP.error(n.data.message):j.ZP.error(u.t0.message),u.abrupt("return",{responseCode:400,message:u.t0.message,error:!0});case 17:return console.log("unexpected error: ",u.t0),j.ZP.error("An unexpected error occured"),u.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return u.stop()}},o,null,[[0,8]])}));return function(a,P){return l.apply(this,arguments)}}(),C=function(){var l=p()(F()().mark(function o(a){var P,S,c;return F()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.Z.post("/area/create/member",{name:a.member_name,area_id:a.area_id});case 3:return P=t.sent,S=P.data,t.abrupt("return",f()(f()({},S),{},{status:"ok",error:!1}));case 8:if(t.prev=8,t.t0=t.catch(0),!H().isAxiosError(t.t0)){t.next=17;break}return console.log("error message: ",t.t0.message),c=t.t0.response,c.data.message?j.ZP.error(c.data.message):j.ZP.error(t.t0.message),t.abrupt("return",{responseCode:400,message:t.t0.message,error:!0});case 17:return console.log("unexpected error: ",t.t0),j.ZP.error("An unexpected error occured"),t.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return t.stop()}},o,null,[[0,8]])}));return function(a){return l.apply(this,arguments)}}();function i(l,o){return _.apply(this,arguments)}function _(){return _=_asyncToGenerator(_regeneratorRuntime().mark(function l(o,a){var P,S;return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,api.get("/area/member/"+a,_objectSpread({method:"GET"},o||{}));case 3:return P=n.sent,S=P.data,n.abrupt("return",{data:S.data,error:!1,message:"Success Get",responseCode:S.responseCode});case 8:if(n.prev=8,n.t0=n.catch(0),!axios.isAxiosError(n.t0)){n.next=16;break}return console.log("error message: ",n.t0.message),message.error(n.t0.message),n.abrupt("return",{data:null,error:!0,message:n.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",n.t0),message.error("An unexpected error occurred"),n.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return n.stop()}},l,null,[[0,8]])})),_.apply(this,arguments)}var e=function(){var l=p()(F()().mark(function o(a){var P,S,c;return F()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.Z.post("/area/pricing/member",a,{});case 3:return P=t.sent,S=P.data,t.abrupt("return",f()(f()({},S),{},{status:"ok",error:!1}));case 8:if(t.prev=8,t.t0=t.catch(0),!H().isAxiosError(t.t0)){t.next=17;break}return console.log("error message: ",t.t0.message),c=t.t0.response,c.data.message?j.ZP.error(c.data.message):j.ZP.error(t.t0.message),t.abrupt("return",{responseCode:400,message:t.t0.message,error:!0});case 17:return console.log("unexpected error: ",t.t0),j.ZP.error("An unexpected error occured"),t.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return t.stop()}},o,null,[[0,8]])}));return function(a){return l.apply(this,arguments)}}()},95971:function(Ee,me,r){r.d(me,{GU:function(){return b},cH:function(){return W},mZ:function(){return ge},rR:function(){return q}});var fe=r(97983),f=r.n(fe),he=r(11281),F=r.n(he),xe=r(40794),p=r.n(xe),j=r(12461),pe=r(9669),H=r.n(pe),k=r(9212);function W(Q){return d.apply(this,arguments)}function d(){return d=p()(f()().mark(function Q(C){var i,_;return f()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,k.Z.get("/tenant",F()({method:"GET"},C||{}));case 3:return i=l.sent,_=i.data,l.abrupt("return",{data:_.data,error:!1,message:"Success Get",responseCode:_.responseCode});case 8:if(l.prev=8,l.t0=l.catch(0),!H().isAxiosError(l.t0)){l.next=16;break}return console.log("error message: ",l.t0.message),j.ZP.error(l.t0.message),l.abrupt("return",{data:null,error:!0,message:l.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",l.t0),j.ZP.error("An unexpected error occurred"),l.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return l.stop()}},Q,null,[[0,8]])})),d.apply(this,arguments)}var q=function(){var Q=p()(f()().mark(function C(i){var _,e,l;return f()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,k.Z.put("/tenant/".concat(i.id),{image:i.image,area_id:i.area_id,name:i.name,pic_name:i.pic_name,address:i.address,latitude:i.latitude,longitude:i.longitude,member_id:i.member_id,type:i.type,area_name:i.area_name,phone:i.phone,email:i.email,username:i.username,password:i.password,nama_unit:i.nama_unit,kode_unit:i.kode_unit},{headers:{"Content-Type":"multipart/form-data"}});case 3:return _=a.sent,e=_.data,a.abrupt("return",F()(F()({},e),{},{status:"ok",error:!1}));case 8:if(a.prev=8,a.t0=a.catch(0),!H().isAxiosError(a.t0)){a.next=17;break}return console.log("error message: ",a.t0.message),l=a.t0.response,l.data.message?j.ZP.error(l.data.message):j.ZP.error(a.t0.message),a.abrupt("return",{responseCode:400,message:a.t0.message,error:!0});case 17:return console.log("unexpected error: ",a.t0),j.ZP.error("An unexpected error occured"),a.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return a.stop()}},C,null,[[0,8]])}));return function(i){return Q.apply(this,arguments)}}(),ge=function(){var Q=p()(f()().mark(function C(i){var _,e,l;return f()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,k.Z.post("/tenant",{image:i.image,area_id:i.area_id,name:i.name,pic_name:i.pic_name,address:i.address,latitude:i.latitude,longitude:i.longitude,type:i.type,area_name:i.area_name,phone:i.phone,email:i.email,username:i.username,password:i.password},{headers:{"Content-Type":"multipart/form-data"}});case 3:return _=a.sent,e=_.data,a.abrupt("return",F()(F()({},e),{},{status:"ok",error:!1}));case 8:if(a.prev=8,a.t0=a.catch(0),!H().isAxiosError(a.t0)){a.next=17;break}return console.log("error message: ",a.t0.message),l=a.t0.response,l.data.message?j.ZP.error(l.data.message):j.ZP.error(a.t0.message),a.abrupt("return",{responseCode:400,message:a.t0.message,error:!0});case 17:return console.log("unexpected error: ",a.t0),j.ZP.error("An unexpected error occured"),a.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return a.stop()}},C,null,[[0,8]])}));return function(i){return Q.apply(this,arguments)}}(),Z=null,b=function(){var Q=p()(f()().mark(function C(i){var _,e;return f()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,k.Z.get("/tenant/detail/".concat(i),{method:"GET"});case 3:return _=o.sent,e=_.data,o.abrupt("return",{data:e.data,error:!1,message:"Success Get",responseCode:e.responseCode});case 8:if(o.prev=8,o.t0=o.catch(0),!H().isAxiosError(o.t0)){o.next=16;break}return console.log("error message: ",o.t0.message),j.ZP.error(o.t0.message),o.abrupt("return",{data:null,error:!0,message:o.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",o.t0),j.ZP.error("An unexpected error occurred"),o.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return o.stop()}},C,null,[[0,8]])}));return function(i){return Q.apply(this,arguments)}}()}}]);
