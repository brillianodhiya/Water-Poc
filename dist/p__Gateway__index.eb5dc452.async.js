"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7329],{84038:function(pt,S,t){t.r(S),t.d(S,{default:function(){return at}});var E=t(38402),L=t(71230),j=t(15746),f=t(71577),l=t(67294),z=t(70405),A=t(11281),h=t.n(A),H=t(97983),p=t.n(H),B=t(40794),N=t.n(B),U=t(12741),v=t.n(U),W=t(28530),w=t(26713),C=t(20550),J=t(69677),Q=t(23349),d=t(94217),V=t(30381),c=t.n(V),Ct=t(29218),Z=t(68795),X=t(42054),k=t.n(X),b=t(18537),e=t(85893);c().locale("en");var q=function(g){var D=g.isFocused,st=g.counter,ot=l.useState([]),R=v()(ot,2),lt=R[0],it=R[1],ct=l.useState(!1),I=v()(ct,2),dt=I[0],T=I[1],ut=l.useState(""),$=v()(ut,2),ft=$[0],x=$[1],vt=l.useState(""),F=v()(vt,2),ht=F[0],G=F[1],M=l.useRef(null),mt=b.Z.parse(window.location.search),gt=l.useState([]),P=v()(gt,2),Zt=P[0],xt=P[1],yt=function(){var o=N()(p()().mark(function n(){var a;return p()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return T(!0),s.next=3,(0,W.rm)({params:mt});case 3:a=s.sent,T(!1),a.error||(it(a.data),xt(a.data));case 6:case"end":return s.stop()}},n)}));return function(){return o.apply(this,arguments)}}();l.useEffect(function(){D&&yt()},[D,st]);var K=function(n,a,r){a(),x(n[0]),G(r)},St=function(n){n(),x("")},Y=function(n){return{filterDropdown:function(r){var s=r.setSelectedKeys,i=r.selectedKeys,y=r.confirm,O=r.clearFilters,jt=r.close;return(0,e.jsxs)("div",{style:{padding:8},onKeyDown:function(m){return m.stopPropagation()},children:[(0,e.jsx)(J.Z,{ref:M,placeholder:"Search ".concat(n),value:i[0],onChange:function(m){return s(m.target.value?[m.target.value]:[])},onPressEnter:function(){return K(i,y,n)},style:{marginBottom:8,display:"block"}}),(0,e.jsxs)(w.Z,{children:[(0,e.jsx)(f.Z,{type:"primary",onClick:function(){return K(i,y,n)},icon:(0,e.jsx)(Z.Z,{}),size:"small",style:{width:90},children:"Search"}),(0,e.jsx)(f.Z,{onClick:function(){return O&&St(O)},size:"small",style:{width:90},children:"Reset"}),(0,e.jsx)(f.Z,{type:"link",size:"small",onClick:function(){y({closeDropdown:!1}),x(i[0]),G(n)},children:"Filter"}),(0,e.jsx)(f.Z,{type:"link",size:"small",onClick:function(){jt()},children:"close"})]})]})},filterIcon:function(r){return(0,e.jsx)(Z.Z,{style:{color:r?"#1890ff":void 0}})},onFilter:function(r,s){var i;return((i=s[n])!==null&&i!==void 0?i:"").toString().toLowerCase().includes(r.toLowerCase())},onFilterDropdownOpenChange:function(r){r&&setTimeout(function(){var s;return(s=M.current)===null||s===void 0?void 0:s.select()},100)},render:function(r){return ht===n?(0,e.jsx)(k(),{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[ft],autoEscape:!0,textToHighlight:r?r.toString():""}):r}}};return(0,e.jsx)("div",{children:(0,e.jsxs)(Q.Z,{dataSource:lt,loading:dt,style:{marginTop:20},scroll:{x:!0},children:[(0,e.jsx)(d.Z,{title:"Installation Date",dataIndex:"installation_date",render:function(n){return c()(n).format("MMM DD YYYY HH:mm:ss")},sorter:function(n,a){return c()(n.installation_date).unix()-c()(a.installation_date).unix()}},"installation_date"),(0,e.jsx)(d.Z,{title:"Last Update",dataIndex:"last_update",render:function(n){return c()(n).format("MMM DD YYYY HH:mm:ss")},sorter:function(n,a){return c()(n.last_update).unix()-c()(a.last_update).unix()}},"last_update"),(0,l.createElement)(d.Z,h()(h()({},Y("name")),{},{title:"Gateway Name",dataIndex:"name",key:"name",sorter:function(n,a){return n.device_type.length-a.device_type.length}})),(0,l.createElement)(d.Z,h()(h()({},Y("mac_id")),{},{title:"Mac Address",dataIndex:"mac_id",key:"mac_id"})),(0,e.jsx)(d.Z,{title:"Status",dataIndex:"status",render:function(n){return n==!0?(0,e.jsx)(C.Z,{color:"green",children:"Online"}):(0,e.jsx)(C.Z,{color:"red",children:"Offline"})}}),(0,e.jsx)(d.Z,{title:"Description",dataIndex:"description",sorter:function(n,a){return n.description.length-a.description.length}},"description")]})})},_=q,tt=t(24969),et=t(30028),nt=function(){return(0,e.jsxs)(E._z,{title:"Gateway",content:"This is a gateway management system for IKI's IOT platform.",style:{borderTop:"1px solid rgba(0, 0, 0, 0.06)"},children:[(0,e.jsxs)(z.ql,{children:[(0,e.jsx)("meta",{charSet:"utf-8"}),(0,e.jsx)("title",{children:"IKI IoT Platform | Gateway"}),(0,e.jsx)("link",{rel:"icon",href:"/iki-logo-no-text.png",type:"image/x-icon"})]}),(0,e.jsxs)(L.Z,{gutter:[8,8],children:[(0,e.jsx)(j.Z,{xxl:24,xl:24,md:24,sm:24,xs:24,style:{textAlign:"right"},children:(0,e.jsxs)(f.Z,{onClick:function(){et.history.push("/gateway/create")},children:[(0,e.jsx)(tt.Z,{})," Add Gateway"]})}),(0,e.jsx)(j.Z,{xxl:24,xl:24,md:24,sm:24,xs:24,children:(0,e.jsx)(_,{isFocused:!0,counter:1})})]})]})},at=nt}}]);
