"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9308],{32676:function(F,v,o){o.r(v);var O=o(97983),p=o.n(O),j=o(40794),_=o.n(j),b=o(12741),c=o.n(b),l=o(4745),T=o(68795),E=o(24969),g=o(87547),R=o(38402),f=o(30028),y=o(69677),C=o(71577),W=o(27049),U=o(11382),Z=o(71230),L=o(59652),$=o(26713),P=o(21802),M=o(24093),d=o(67294),a=o(85893),t=y.Z.Search,u=function(){var s=d.useState([]),r=c()(s,2),e=r[0],n=r[1],G=d.useState(!1),I=c()(G,2),w=I[0],K=I[1],z=d.useState(!1),B=c()(z,2),S=B[0],k=B[1],H=(0,f.useModel)("@@initialState"),N=H.initialState,J=N.currentUser,Q=function(h){h||K(!1)},V=function(){var m=_()(p()().mark(function h(){var D;return p()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return k(!0),A.next=3,(0,l.bg)({});case 3:D=A.sent,console.log(D),k(!1),D.error||n(D.data);case 7:case"end":return A.stop()}},h)}));return function(){return m.apply(this,arguments)}}();return d.useEffect(function(){V()},[]),(0,a.jsxs)(R._z,{childrenContentStyle:{minHeight:"70vh"},title:"Area Management",content:"Management area setting, device and more.",extra:(0,a.jsxs)(a.Fragment,{children:[w?(0,a.jsx)(t,{onSearch:Q,style:{width:200},className:"search-rounded",allowClear:!0}):(0,a.jsx)(C.Z,{shape:"circle",icon:(0,a.jsx)(T.Z,{}),onClick:function(){K(!0)}}),J.role!="area"?(0,a.jsxs)(C.Z,{shape:"round",onClick:function(){f.history.push("/area/create")},children:[(0,a.jsx)(E.Z,{})," Create Area"]}):(0,a.jsx)(a.Fragment,{})]}),children:[(0,a.jsx)(W.Z,{}),(0,a.jsx)(U.Z,{spinning:S,children:(0,a.jsx)(Z.Z,{children:e.map(function(m){return(0,a.jsxs)(L.Z,{loading:S,className:"ant-col ant-col-xs-24\r ant-col-sm-12 ant-col-md-12 ant-col-lg-8 ant-col-xl-8 ant-col-xxl-8 card-hover",onClick:function(){return f.history.push("/area/info",{area_id:m.id})},style:{cursor:"pointer"},actions:[(0,a.jsxs)($.Z,{style:{cursor:"pointer",float:"left",paddingLeft:20},onClick:function(){return f.history.push("/area/info",{area_id:m.id})},children:[(0,a.jsx)(g.Z,{color:"#8C8C8C"}),(0,a.jsx)(P.Z.Text,{children:m.pic_name})]},m.id)],children:[(0,a.jsxs)($.Z,{align:"center",children:[m.photo&&m.photo!==""?(0,a.jsx)(M.C,{src:m.photo,size:48}):(0,a.jsx)(M.C,{icon:(0,a.jsx)(g.Z,{}),size:48}),(0,a.jsx)(P.Z.Text,{strong:!0,children:m.area_name})]}),(0,a.jsx)(P.Z.Paragraph,{type:"secondary",style:{paddingTop:15,minHeight:70},children:m.address})]},m.id)})})})]})};v.default=u},4745:function(F,v,o){o.d(v,{K7:function(){return M},OO:function(){return C},Ug:function(){return Z},_J:function(){return W},bg:function(){return R},if:function(){return L},yz:function(){return y}});var O=o(11281),p=o.n(O),j=o(97983),_=o.n(j),b=o(40794),c=o.n(b),l=o(12461),T=o(9669),E=o.n(T),g=o(9212);function R(d){return f.apply(this,arguments)}function f(){return f=c()(_()().mark(function d(a){var t,u;return _()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,g.Z.get("/area",p()({method:"GET"},a||{}));case 3:return t=s.sent,u=t.data,s.abrupt("return",{data:u.data,error:!1,message:"Success Get",responseCode:u.responseCode});case 8:if(s.prev=8,s.t0=s.catch(0),!E().isAxiosError(s.t0)){s.next=16;break}return console.log("error message: ",s.t0.message),l.ZP.error(s.t0.message),s.abrupt("return",{data:null,error:!0,message:s.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",s.t0),l.ZP.error("An unexpected error occurred"),s.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return s.stop()}},d,null,[[0,8]])})),f.apply(this,arguments)}var y=function(){var d=c()(_()().mark(function a(t){var u,i;return _()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,g.Z.get("/area/detail/".concat(t),{method:"GET"});case 3:return u=r.sent,i=u.data,r.abrupt("return",{data:i.data,error:!1,message:"Success Get",responseCode:i.responseCode});case 8:if(r.prev=8,r.t0=r.catch(0),!E().isAxiosError(r.t0)){r.next=16;break}return console.log("error message: ",r.t0.message),l.ZP.error(r.t0.message),r.abrupt("return",{data:null,error:!0,message:r.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",r.t0),l.ZP.error("An unexpected error occurred"),r.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return r.stop()}},a,null,[[0,8]])}));return function(t){return d.apply(this,arguments)}}(),C=function(){var d=c()(_()().mark(function a(t){var u,i,s;return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Z.post("/area",{company_name:t.company_name,area_name:t.area_name,pic_name:t.pic_name,billing_address:t.billing_address,image:t.image,phone:t.phone,email_pic:t.email_pic,email_pic_admin:t.email_pic_admin,address:t.address,latitude:t.latitude,longitude:t.longitude},{headers:{"Content-Type":"multipart/form-data"}});case 3:return u=e.sent,i=u.data,e.abrupt("return",p()(p()({},i),{},{status:"ok",error:!1}));case 8:if(e.prev=8,e.t0=e.catch(0),!E().isAxiosError(e.t0)){e.next=17;break}return console.log("error message: ",e.t0.message),s=e.t0.response,s.data.message?l.ZP.error(s.data.message):l.ZP.error(e.t0.message),e.abrupt("return",{responseCode:400,message:e.t0.message,error:!0});case 17:return console.log("unexpected error: ",e.t0),l.ZP.error("An unexpected error occured"),e.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return e.stop()}},a,null,[[0,8]])}));return function(t){return d.apply(this,arguments)}}(),W=function(){var d=c()(_()().mark(function a(t,u){var i,s,r;return _()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.Z.post("/area/setting/"+u,p()({},t));case 3:return i=n.sent,s=i.data,n.abrupt("return",p()(p()({},s),{},{status:"ok",error:!1}));case 8:if(n.prev=8,n.t0=n.catch(0),!E().isAxiosError(n.t0)){n.next=17;break}return console.log("error message: ",n.t0.message),r=n.t0.response,r.data.message?l.ZP.error(r.data.message):l.ZP.error(n.t0.message),n.abrupt("return",{responseCode:400,message:n.t0.message,error:!0});case 17:return console.log("unexpected error: ",n.t0),l.ZP.error("An unexpected error occured"),n.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return n.stop()}},a,null,[[0,8]])}));return function(t,u){return d.apply(this,arguments)}}(),U=null,Z=function(){var d=c()(_()().mark(function a(t,u){var i,s,r;return _()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.Z.put("/area/"+u,t);case 3:return i=n.sent,s=i.data,n.abrupt("return",p()(p()({},s),{},{status:"ok",error:!1}));case 8:if(n.prev=8,n.t0=n.catch(0),!E().isAxiosError(n.t0)){n.next=17;break}return console.log("error message: ",n.t0.message),r=n.t0.response,r.data.message?l.ZP.error(r.data.message):l.ZP.error(n.t0.message),n.abrupt("return",{responseCode:400,message:n.t0.message,error:!0});case 17:return console.log("unexpected error: ",n.t0),l.ZP.error("An unexpected error occured"),n.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return n.stop()}},a,null,[[0,8]])}));return function(t,u){return d.apply(this,arguments)}}(),L=function(){var d=c()(_()().mark(function a(t){var u,i,s;return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Z.post("/area/create/member",{name:t.member_name,area_id:t.area_id});case 3:return u=e.sent,i=u.data,e.abrupt("return",p()(p()({},i),{},{status:"ok",error:!1}));case 8:if(e.prev=8,e.t0=e.catch(0),!E().isAxiosError(e.t0)){e.next=17;break}return console.log("error message: ",e.t0.message),s=e.t0.response,s.data.message?l.ZP.error(s.data.message):l.ZP.error(e.t0.message),e.abrupt("return",{responseCode:400,message:e.t0.message,error:!0});case 17:return console.log("unexpected error: ",e.t0),l.ZP.error("An unexpected error occured"),e.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return e.stop()}},a,null,[[0,8]])}));return function(t){return d.apply(this,arguments)}}();function $(d,a){return P.apply(this,arguments)}function P(){return P=_asyncToGenerator(_regeneratorRuntime().mark(function d(a,t){var u,i;return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,api.get("/area/member/"+t,_objectSpread({method:"GET"},a||{}));case 3:return u=r.sent,i=u.data,r.abrupt("return",{data:i.data,error:!1,message:"Success Get",responseCode:i.responseCode});case 8:if(r.prev=8,r.t0=r.catch(0),!axios.isAxiosError(r.t0)){r.next=16;break}return console.log("error message: ",r.t0.message),message.error(r.t0.message),r.abrupt("return",{data:null,error:!0,message:r.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",r.t0),message.error("An unexpected error occurred"),r.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return r.stop()}},d,null,[[0,8]])})),P.apply(this,arguments)}var M=function(){var d=c()(_()().mark(function a(t){var u,i,s;return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Z.post("/area/pricing/member",t,{});case 3:return u=e.sent,i=u.data,e.abrupt("return",p()(p()({},i),{},{status:"ok",error:!1}));case 8:if(e.prev=8,e.t0=e.catch(0),!E().isAxiosError(e.t0)){e.next=17;break}return console.log("error message: ",e.t0.message),s=e.t0.response,s.data.message?l.ZP.error(s.data.message):l.ZP.error(e.t0.message),e.abrupt("return",{responseCode:400,message:e.t0.message,error:!0});case 17:return console.log("unexpected error: ",e.t0),l.ZP.error("An unexpected error occured"),e.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return e.stop()}},a,null,[[0,8]])}));return function(t){return d.apply(this,arguments)}}()}}]);
