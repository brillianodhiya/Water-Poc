"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9234],{82826:function(Q,D,n){n.d(D,{Z:function(){return y}});var v=n(1413),r=n(67294),T={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},g=T,P=n(84089),c=function(d,a){return r.createElement(P.Z,(0,v.Z)((0,v.Z)({},d),{},{ref:a,icon:g}))};c.displayName="ArrowLeftOutlined";var y=r.forwardRef(c)},58904:function(Q,D,n){n.r(D);var v=n(97983),r=n.n(v),T=n(40794),g=n.n(T),P=n(12741),c=n.n(P),y=n(5200),K=n.n(y),d=n(87806),a=n(82826),s=n(24969),i=n(38402),l=n(30028),m=n(80737),L=n(14538),j=n(71577),M=n(26713),C=n(58492),o=n(21802),Z=n(27049),F=n(11382),R=n(71230),_=n(15746),A=n(69677),b=n(78116),u=n(40038),p=n(67294),W=n(64593),e=n(85893),S=function(z){return new Promise(function(w,G){var O=new FileReader;O.readAsDataURL(z),O.onload=function(){return w(O.result)},O.onerror=function(H){return G(H)}})},$=function(z){K()(z);var w=m.Z.useForm(),G=c()(w,1),O=G[0],H=(0,l.useLocation)(),h=H.state,te=p.useState([]),V=c()(te,2),I=V[0],J=V[1],ae=(0,p.useState)(!1),X=c()(ae,2),re=X[0],Y=X[1],se=p.useState(!1),k=c()(se,2),ie=k[0],q=k[1],le=(0,p.useState)(""),ee=c()(le,2),oe=ee[0],_e=ee[1],de=(0,p.useState)(""),ne=c()(de,2),ue=ne[0],ce=ne[1];console.log(h.dataEdit.photo),p.useEffect(function(){h.dataEdit?(O.setFields([{name:"name",value:h.dataEdit.name},{name:"email",value:h.dataEdit.email},{name:"email",value:h.dataEdit.email},{name:"phone",value:h.dataEdit.phone},{name:"role_id",value:h.dataEdit.role_id}]),J([{uid:"1",name:"default logo",status:"done",url:h.dataEdit.photo}])):l.history.push("/users/company")},[h.dataEdit]);var me=function(f){var t=f.fileList;return J(t)},he=function(){var E=g()(r()().mark(function f(t){return r()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(!(!t.url&&!t.preview)){x.next=4;break}return x.next=3,S(t.originFileObj);case 3:t.preview=x.sent;case 4:_e(t.url||t.preview),Y(!0),ce(t.name||t.url.substring(t.url.lastIndexOf("/")+1));case 7:case"end":return x.stop()}},f)}));return function(t){return E.apply(this,arguments)}}();console.log(I);var Ee=function(){var E=g()(r()().mark(function f(t){var U;return r()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return q(!0),B.next=3,(0,d.TL)({name:t.name,phone:t.phone,email:t.email,role_id:t.role_id,password:"12345",image:I[0].originFileObj,id:h.dataEdit.id});case 3:U=B.sent,q(!1),U.error?L.Z.error({content:U.message}):L.Z.success({content:U.message,onOk:function(){l.history.back()}});case 6:case"end":return B.stop()}},f)}));return function(t){return E.apply(this,arguments)}}();return(0,e.jsxs)(i._z,{breadcrumb:void 0,title:(0,e.jsx)(j.Z,{type:"link",onClick:function(){return l.history.back()},size:"large",children:(0,e.jsxs)(M.Z,{style:{cursor:"pointer"},align:"start",size:"large",children:[(0,e.jsx)(a.Z,{onClick:function(){return l.history.back()},style:{marginTop:"12px",fontSize:"24px",color:"#000"}}),(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"column",textAlign:"left"},children:[(0,e.jsxs)(C.Z,{children:[(0,e.jsx)(C.Z.Item,{children:"User"}),(0,e.jsx)(C.Z.Item,{href:"#",children:"Edit User Company"})]}),(0,e.jsx)(o.Z.Title,{level:5,children:"Edit User"})]})]})}),style:{borderTop:"1px solid rgba(0, 0, 0, 0.06)"},children:[(0,e.jsxs)(W.q,{children:[(0,e.jsx)("meta",{charSet:"utf-8"}),(0,e.jsx)("title",{children:"AAT IoT Platform | User"}),(0,e.jsx)("link",{rel:"icon",href:"https://aetratangerang.co.id/wp-content/uploads/2020/07/cropped-favicon-192x192.png",type:"image/x-icon"})]}),(0,e.jsx)(Z.Z,{style:{paddingTop:0,marginTop:0}}),(0,e.jsx)(F.Z,{spinning:ie,children:(0,e.jsx)(m.Z,{form:O,name:"add-area",onFinish:Ee,style:{width:500,margin:"0px auto",paddingTop:20},children:(0,e.jsxs)(R.Z,{gutter:16,children:[(0,e.jsx)(_.Z,{span:12,children:(0,e.jsx)(o.Z,{children:"Full Name"})}),(0,e.jsx)(_.Z,{span:12,children:(0,e.jsx)(m.Z.Item,{name:"name",rules:[{required:!0,message:"Please input full name!"}],requiredMark:"optional",children:(0,e.jsx)(A.Z,{placeholder:"Full Name"})})}),(0,e.jsx)(_.Z,{span:12,children:(0,e.jsx)(o.Z,{children:"Email"})}),(0,e.jsx)(_.Z,{span:12,children:(0,e.jsx)(m.Z.Item,{name:"email",rules:[{required:!0,message:"Please input email!",type:"email"}],requiredMark:"optional",children:(0,e.jsx)(A.Z,{placeholder:"Email"})})}),(0,e.jsx)(_.Z,{span:12,children:(0,e.jsx)(o.Z,{children:"Phone"})}),(0,e.jsx)(_.Z,{span:12,children:(0,e.jsx)(m.Z.Item,{name:"phone",rules:[{required:!0,message:"Please input phone!"},{pattern:/^(\+62|62|0)8[1-9][0-9]{6,13}$/g,message:"Phone not valid!"}],requiredMark:"optional",children:(0,e.jsx)(A.Z,{placeholder:"Phone"})})}),(0,e.jsx)(_.Z,{span:12,children:(0,e.jsx)(o.Z,{children:(0,e.jsxs)("div",{children:[(0,e.jsx)(o.Z,{style:{fontSize:16},children:"Photo"}),(0,e.jsx)(o.Z,{style:{fontSize:12,color:"#8C8C8C"},children:"This wil be displayed on profile."})]})})}),(0,e.jsx)(_.Z,{span:12,children:(0,e.jsx)(m.Z.Item,{style:{marginTop:"24px"},children:(0,e.jsxs)(M.Z,{children:[(0,e.jsx)(b.Z,{listType:"picture-card",fileList:I,customRequest:function(f){var t=f.onSuccess;t&&setTimeout(function(){t("ok")},0)},maxCount:1,multiple:!1,accept:"image/*",onChange:me,onPreview:he,children:I.length>0?null:(0,e.jsxs)("div",{children:[(0,e.jsx)(s.Z,{}),(0,e.jsx)("div",{style:{marginTop:8},children:"Upload"})]})}),(0,e.jsx)(L.Z,{open:re,title:ue,footer:null,onCancel:function(){return Y(!1)},children:(0,e.jsx)("img",{alt:"example",style:{width:"100%"},src:oe})}),I.length>0?(0,e.jsx)(j.Z,{danger:!0,type:"text",onClick:function(){return J([])},children:"Delete"}):null]})})}),(0,e.jsx)(_.Z,{span:12,children:(0,e.jsx)(o.Z,{children:"Role"})}),(0,e.jsx)(_.Z,{span:12,children:(0,e.jsx)(m.Z.Item,{name:"role_id",rules:[{required:!0,message:"Please select role!"}],requiredMark:"optional",children:(0,e.jsx)(u.Z,{placeholder:"Select Role",className:"not-rounded",options:[{label:"Admin",value:1},{label:"Finance",value:4},{label:"Technician",value:5}]})})}),(0,e.jsx)(_.Z,{offset:16,children:(0,e.jsxs)(M.Z,{children:[(0,e.jsx)(m.Z.Item,{children:(0,e.jsx)(j.Z,{type:"primary",htmlType:"submit",children:"Save"})}),(0,e.jsx)(m.Z.Item,{children:(0,e.jsx)(j.Z,{type:"default",htmlType:"button",children:"Cancel"})})]})})]})})})]})};D.default=$},27049:function(Q,D,n){var v=n(87462),r=n(4942),T=n(94184),g=n.n(T),P=n(67294),c=n(53124),y=function(d,a){var s={};for(var i in d)Object.prototype.hasOwnProperty.call(d,i)&&a.indexOf(i)<0&&(s[i]=d[i]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(d);l<i.length;l++)a.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(d,i[l])&&(s[i[l]]=d[i[l]]);return s},K=function(a){var s,i=P.useContext(c.E_),l=i.getPrefixCls,m=i.direction,L=a.prefixCls,j=a.type,M=j===void 0?"horizontal":j,C=a.orientation,o=C===void 0?"center":C,Z=a.orientationMargin,F=a.className,R=a.children,_=a.dashed,A=a.plain,b=y(a,["prefixCls","type","orientation","orientationMargin","className","children","dashed","plain"]),u=l("divider",L),p=o.length>0?"-".concat(o):o,W=!!R,e=o==="left"&&Z!=null,S=o==="right"&&Z!=null,$=g()(u,"".concat(u,"-").concat(M),(s={},(0,r.Z)(s,"".concat(u,"-with-text"),W),(0,r.Z)(s,"".concat(u,"-with-text").concat(p),W),(0,r.Z)(s,"".concat(u,"-dashed"),!!_),(0,r.Z)(s,"".concat(u,"-plain"),!!A),(0,r.Z)(s,"".concat(u,"-rtl"),m==="rtl"),(0,r.Z)(s,"".concat(u,"-no-default-orientation-margin-left"),e),(0,r.Z)(s,"".concat(u,"-no-default-orientation-margin-right"),S),s),F),N=(0,v.Z)((0,v.Z)({},e&&{marginLeft:Z}),S&&{marginRight:Z});return P.createElement("div",(0,v.Z)({className:$},b,{role:"separator"}),R&&M!=="vertical"&&P.createElement("span",{className:"".concat(u,"-inner-text"),style:N},R))};D.Z=K}}]);
