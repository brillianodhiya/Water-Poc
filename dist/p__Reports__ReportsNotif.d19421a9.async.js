(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[5583],{58638:function(M,u,o){"use strict";o.d(u,{Z:function(){return P}});var _=o(1413),m=o(67294),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888.3 757.4h-53.8c-4.2 0-7.7 3.5-7.7 7.7v61.8H197.1V197.1h629.8v61.8c0 4.2 3.5 7.7 7.7 7.7h53.8c4.2 0 7.7-3.4 7.7-7.7V158.7c0-17-13.7-30.7-30.7-30.7H158.7c-17 0-30.7 13.7-30.7 30.7v706.6c0 17 13.7 30.7 30.7 30.7h706.6c17 0 30.7-13.7 30.7-30.7V765.1c0-4.3-3.5-7.7-7.7-7.7zm18.6-251.7L765 393.7c-5.3-4.2-13-.4-13 6.3v76H438c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"export",theme:"outlined"},h=s,g=o(84089),p=function(y,R){return m.createElement(g.Z,(0,_.Z)((0,_.Z)({},y),{},{ref:R,icon:h}))};p.displayName="ExportOutlined";var P=m.forwardRef(p)},1166:function(M,u,o){"use strict";o.r(u);var _=o(97983),m=o.n(_),s=o(40794),h=o.n(s),g=o(12741),p=o.n(g),P=o(58638),E=o(71063),y=o(36733),R=o(27049),C=o(59652),c=o(71230),r=o(15746),a=o(26713),t=o(67669),e=o(30478),n=o(71577),i=o(67294),l=o(64593),v=o(30381),d=o.n(v),O=o(69408),D=o(83461),f=o(85893),j=y.Z.Column;d().locale("en");var U=function(){var B=i.useState([]),w=p()(B,2),I=w[0],W=w[1],N=i.useState(!1),V=p()(N,2),H=V[0],x=V[1],$=i.useState([d()().day(d()().day()-3),d()()]),Y=p()($,2),S=Y[0],z=Y[1],J=function(){var A=h()(m()().mark(function L(){var T;return m()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return x(!0),b.next=3,(0,O.Z)({params:{start_date:S[0].format("YYYY-MM-DD"),end_date:S[1].format("YYYY-MM-DD")}});case 3:T=b.sent,x(!1),T.error||W(T.data);case 6:case"end":return b.stop()}},L)}));return function(){return A.apply(this,arguments)}}();i.useEffect(function(){return J(),function(){}},[S]);var G=function(){var L=[],T=[];return I.length>0&&(I[0].length>0&&I[0].map(function(k){T.push({label:k.name,key:k.name})}),I.map(function(k){var b={};k.map(function(Z){b[Z.name]=Z.value}),L.push(b)})),{header:T,data:L}},F=G();return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(E._zJ,{childrenContentStyle:{minHeight:"70vh"},title:"Notification",content:"Manage Your Notification",children:[(0,f.jsxs)(l.q,{children:[(0,f.jsx)("meta",{charSet:"utf-8"}),(0,f.jsx)("title",{children:"AAT IoT Platform | Notification"}),(0,f.jsx)("link",{rel:"icon",href:"https://aetratangerang.co.id/wp-content/uploads/2020/07/cropped-favicon-192x192.png",type:"image/x-icon"})]}),(0,f.jsx)(R.Z,{}),(0,f.jsx)(C.Z,{style:{borderRadius:8,marginBottom:20},bodyStyle:{background:" rgba(230, 247, 255, 0.5)"},children:(0,f.jsx)(c.Z,{gutter:[16,16],align:"bottom",children:(0,f.jsxs)(r.Z,{span:24,style:{textAlign:"left"},children:[(0,f.jsx)(a.Z,{size:"large",wrap:!0,children:(0,f.jsxs)(a.Z,{direction:"vertical",children:[(0,f.jsx)(t.Z,{children:"Date"}),(0,f.jsx)(e.Z.RangePicker,{allowClear:!1,onChange:function(L){return z(L)},value:S})]})}),(0,f.jsx)(D.CSVLink,{data:F.data,headers:F.header,filename:"Reports_Notification_".concat(S[0].format("YYYY-MM"),"-").concat(S[1].format("YYYY-MM"),"_").concat(d()().unix(),".csv"),children:(0,f.jsx)(n.Z,{style:{float:"right",marginTop:"24px"},type:"primary",icon:(0,f.jsx)(P.Z,{}),children:"Export"})})]})})}),(0,f.jsx)(y.Z,{dataSource:F.data,loading:H,style:{borderRadius:8,border:"1px solid #f0f0f0"},size:"small",bordered:!0,scroll:{x:!0},children:F.header.map(function(A){return(0,f.jsx)(j,{title:A.label,dataIndex:A.key},A.key)})})]})})};u.default=U},83461:function(M,u,o){M.exports=o(5090)},89469:function(M,u,o){"use strict";Object.defineProperty(u,"__esModule",{value:!0});var _=function(){function c(r,a){for(var t=0;t<a.length;t++){var e=a[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}return function(r,a,t){return a&&c(r.prototype,a),t&&c(r,t),r}}(),m=o(67294),s=p(m),h=o(99182),g=o(69695);function p(c){return c&&c.__esModule?c:{default:c}}function P(c,r){if(!(c instanceof r))throw new TypeError("Cannot call a class as a function")}function E(c,r){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:c}function y(c,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);c.prototype=Object.create(r&&r.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(c,r):c.__proto__=r)}var R={target:"_blank"},C=function(c){y(r,c);function r(a){P(this,r);var t=E(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,a));return t.state={},t}return _(r,[{key:"buildURI",value:function(){return h.buildURI.apply(void 0,arguments)}},{key:"componentDidMount",value:function(){var t=this.props,e=t.data,n=t.headers,i=t.separator,l=t.enclosingCharacter,v=t.uFEFF,d=t.target,O=t.specs,D=t.replace;this.state.page=window.open(this.buildURI(e,v,n,i,l),d,O,D)}},{key:"getWindow",value:function(){return this.state.page}},{key:"render",value:function(){return null}}]),r}(s.default.Component);C.defaultProps=Object.assign(g.defaultProps,R),C.propTypes=g.propTypes,u.default=C},26425:function(M,u,o){"use strict";Object.defineProperty(u,"__esModule",{value:!0});var _=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])}return r},m=function(){function r(a,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,n.key,n)}}return function(a,t,e){return t&&r(a.prototype,t),e&&r(a,e),a}}(),s=o(67294),h=P(s),g=o(99182),p=o(69695);function P(r){return r&&r.__esModule?r:{default:r}}function E(r,a){var t={};for(var e in r)a.indexOf(e)>=0||!Object.prototype.hasOwnProperty.call(r,e)||(t[e]=r[e]);return t}function y(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function R(r,a){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:r}function C(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(r,a):r.__proto__=a)}var c=function(r){C(a,r);function a(t){y(this,a);var e=R(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,t));return e.buildURI=e.buildURI.bind(e),e}return m(a,[{key:"buildURI",value:function(){return g.buildURI.apply(void 0,arguments)}},{key:"handleLegacy",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(window.navigator.msSaveOrOpenBlob){e.preventDefault();var i=this.props,l=i.data,v=i.headers,d=i.separator,O=i.filename,D=i.enclosingCharacter,f=i.uFEFF,j=n&&typeof l=="function"?l():l,U=new Blob([f?"\uFEFF":"",(0,g.toCSV)(j,v,d,D)]);return window.navigator.msSaveBlob(U,O),!1}}},{key:"handleAsyncClick",value:function(e){var n=this,i=function(v){if(v===!1){e.preventDefault();return}n.handleLegacy(e,!0)};this.props.onClick(e,i)}},{key:"handleSyncClick",value:function(e){var n=this.props.onClick(e)===!1;if(n){e.preventDefault();return}this.handleLegacy(e)}},{key:"handleClick",value:function(){var e=this;return function(n){if(typeof e.props.onClick=="function")return e.props.asyncOnClick?e.handleAsyncClick(n):e.handleSyncClick(n);e.handleLegacy(n)}}},{key:"render",value:function(){var e=this,n=this.props,i=n.data,l=n.headers,v=n.separator,d=n.filename,O=n.uFEFF,D=n.children,f=n.onClick,j=n.asyncOnClick,U=n.enclosingCharacter,K=E(n,["data","headers","separator","filename","uFEFF","children","onClick","asyncOnClick","enclosingCharacter"]),B=typeof window>"u",w=B?"":this.buildURI(i,O,l,v,U);return h.default.createElement("a",_({download:d},K,{ref:function(W){return e.link=W},target:"_self",href:w,onClick:this.handleClick()}),D)}}]),a}(h.default.Component);c.defaultProps=p.defaultProps,c.propTypes=p.propTypes,u.default=c},99182:function(M,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function _(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}else return Array.from(t)}var m=u.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},s=u.isJsons=function(e){return Array.isArray(e)&&e.every(function(n){return(typeof n>"u"?"undefined":o(n))==="object"&&!(n instanceof Array)})},h=u.isArrays=function(e){return Array.isArray(e)&&e.every(function(n){return Array.isArray(n)})},g=u.jsonsHeaders=function(e){return Array.from(e.map(function(n){return Object.keys(n)}).reduce(function(n,i){return new Set([].concat(_(n),_(i)))},[]))},p=u.jsons2arrays=function(e,n){n=n||g(e);var i=n,l=n;s(n)&&(i=n.map(function(d){return d.label}),l=n.map(function(d){return d.key}));var v=e.map(function(d){return l.map(function(O){return P(O,d)})});return[i].concat(_(v))},P=u.getHeaderValue=function(e,n){var i=e.replace(/\[([^\]]+)]/g,".$1").split(".").reduce(function(l,v,d,O){var D=l[v];if(D==null)O.splice(1);else return D},n);return i===void 0?e in n?n[e]:"":i},E=u.elementOrEmpty=function(e){return typeof e>"u"||e===null?"":e},y=u.joiner=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:'"';return e.filter(function(l){return l}).map(function(l){return l.map(function(v){return E(v)}).map(function(v){return""+i+v+i}).join(n)}).join(`
`)},R=u.arrays2csv=function(e,n,i,l){return y(n?[n].concat(_(e)):e,i,l)},C=u.jsons2csv=function(e,n,i,l){return y(p(e,n),i,l)},c=u.string2csv=function(e,n,i,l){return n?n.join(i)+`
`+e:e.replace(/"/g,'""')},r=u.toCSV=function(e,n,i,l){if(s(e))return C(e,n,i,l);if(h(e))return R(e,n,i,l);if(typeof e=="string")return c(e,n,i);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')},a=u.buildURI=function(e,n,i,l,v){var d=r(e,i,l,v),O=m()?"application/csv":"text/csv",D=new Blob([n?"\uFEFF":"",d],{type:O}),f="data:"+O+";charset=utf-8,"+(n?"\uFEFF":"")+d,j=window.URL||window.webkitURL;return typeof j.createObjectURL>"u"?f:j.createObjectURL(D)}},5090:function(M,u,o){"use strict";var _;_={value:!0},u.CSVLink=_=void 0;var m=o(89469),s=p(m),h=o(26425),g=p(h);function p(y){return y&&y.__esModule?y:{default:y}}var P=_=s.default,E=u.CSVLink=g.default},69695:function(M,u,o){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.PropsNotForwarded=u.defaultProps=u.propTypes=void 0;var _=o(67294),m=h(_),s=o(45697);function h(E){return E&&E.__esModule?E:{default:E}}var g=u.propTypes={data:(0,s.oneOfType)([s.string,s.array,s.func]).isRequired,headers:s.array,target:s.string,separator:s.string,filename:s.string,uFEFF:s.bool,onClick:s.func,asyncOnClick:s.bool,enclosingCharacter:s.string},p=u.defaultProps={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},P=u.PropsNotForwarded=["data","headers"]}}]);
