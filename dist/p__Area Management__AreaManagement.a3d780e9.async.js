"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9308],{87547:function(S,A,s){s.d(A,{Z:function(){return d}});var v=s(1413),_=s(67294),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},p=D,C=s(84089),c=function(f,g){return _.createElement(C.Z,(0,v.Z)((0,v.Z)({},f),{},{ref:g,icon:p}))};c.displayName="UserOutlined";var d=_.forwardRef(c)},32676:function(S,A,s){s.r(A);var v=s(97983),_=s.n(v),D=s(40794),p=s.n(D),C=s(12741),c=s.n(C),d=s(4745),O=s(68795),f=s(24969),g=s(87547),R=s(71063),E=s(14776),y=s(11486),j=s(71577),Z=s(27049),$=s(11382),U=s(71230),L=s(59652),I=s(26713),h=s(67669),T=s(24093),l=s(67294),o=s(64593),r=s(85893),u=y.Z.Search,i=function(){var a=l.useState([]),e=c()(a,2),n=e[0],G=e[1],z=l.useState(!1),B=c()(z,2),N=B[0],K=B[1],F=l.useState(!1),W=c()(F,2),w=W[0],k=W[1],H=(0,E.useModel)("@@initialState"),J=H.initialState,Q=J.currentUser,V=function(P){P||K(!1)},X=function(){var m=p()(_()().mark(function P(){var b;return _()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return k(!0),M.next=3,(0,d.bg)({});case 3:b=M.sent,console.log(b),k(!1),b.error||G(b.data);case 7:case"end":return M.stop()}},P)}));return function(){return m.apply(this,arguments)}}();return l.useEffect(function(){X()},[]),(0,r.jsxs)(R._zJ,{childrenContentStyle:{minHeight:"70vh"},title:"Area Management",content:"Management area setting, device and more.",extra:(0,r.jsxs)(r.Fragment,{children:[N?(0,r.jsx)(u,{onSearch:V,style:{width:200},className:"search-rounded",allowClear:!0}):(0,r.jsx)(j.Z,{shape:"circle",icon:(0,r.jsx)(O.Z,{}),onClick:function(){K(!0)}}),Q.role!="area"?(0,r.jsxs)(j.Z,{shape:"round",onClick:function(){E.history.push("/area/create")},children:[(0,r.jsx)(f.Z,{})," Create Area"]}):(0,r.jsx)(r.Fragment,{})]}),children:[(0,r.jsxs)(o.q,{children:[(0,r.jsx)("meta",{charSet:"utf-8"}),(0,r.jsx)("title",{children:"AAT IoT Platform | Area"}),(0,r.jsx)("link",{rel:"icon",href:"https://aetratangerang.co.id/wp-content/uploads/2020/07/cropped-favicon-192x192.png",type:"image/x-icon"})]}),(0,r.jsx)(Z.Z,{}),(0,r.jsx)($.Z,{spinning:w,children:(0,r.jsx)(U.Z,{children:n.map(function(m){return(0,r.jsxs)(L.Z,{loading:w,className:"ant-col ant-col-xs-24\r ant-col-sm-12 ant-col-md-12 ant-col-lg-8 ant-col-xl-8 ant-col-xxl-8 card-hover",onClick:function(){return E.history.push("/area/info",{area_id:m.id})},style:{cursor:"pointer"},actions:[(0,r.jsxs)(I.Z,{style:{cursor:"pointer",float:"left",paddingLeft:20},onClick:function(){return E.history.push("/area/info",{area_id:m.id})},children:[(0,r.jsx)(g.Z,{color:"#8C8C8C"}),(0,r.jsx)(h.Z.Text,{children:m.pic_name})]},m.id)],children:[(0,r.jsxs)(I.Z,{align:"center",children:[m.photo&&m.photo!==""?(0,r.jsx)(T.C,{src:m.photo,size:48}):(0,r.jsx)(T.C,{icon:(0,r.jsx)(g.Z,{}),size:48}),(0,r.jsx)(h.Z.Text,{strong:!0,children:m.area_name})]}),(0,r.jsx)(h.Z.Paragraph,{type:"secondary",style:{paddingTop:15,minHeight:70},children:m.address})]},m.id)})})})]})};A.default=i},4745:function(S,A,s){s.d(A,{K7:function(){return T},OO:function(){return j},Ug:function(){return U},_J:function(){return Z},bg:function(){return R},if:function(){return L},yz:function(){return y}});var v=s(11281),_=s.n(v),D=s(97983),p=s.n(D),C=s(40794),c=s.n(C),d=s(12461),O=s(9669),f=s.n(O),g=s(9212);function R(l){return E.apply(this,arguments)}function E(){return E=c()(p()().mark(function l(o){var r,u;return p()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.Z.get("/area",_()({method:"GET"},o||{}));case 3:return r=t.sent,u=r.data,t.abrupt("return",{data:u.data,error:!1,message:"Success Get",responseCode:u.responseCode});case 8:if(t.prev=8,t.t0=t.catch(0),!f().isAxiosError(t.t0)){t.next=16;break}return console.log("error message: ",t.t0.message),d.ZP.error(t.t0.message),t.abrupt("return",{data:null,error:!0,message:t.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",t.t0),d.ZP.error("An unexpected error occurred"),t.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return t.stop()}},l,null,[[0,8]])})),E.apply(this,arguments)}var y=function(){var l=c()(p()().mark(function o(r){var u,i;return p()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,g.Z.get("/area/detail/".concat(r),{method:"GET"});case 3:return u=a.sent,i=u.data,a.abrupt("return",{data:i.data,error:!1,message:"Success Get",responseCode:i.responseCode});case 8:if(a.prev=8,a.t0=a.catch(0),!f().isAxiosError(a.t0)){a.next=16;break}return console.log("error message: ",a.t0.message),d.ZP.error(a.t0.message),a.abrupt("return",{data:null,error:!0,message:a.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",a.t0),d.ZP.error("An unexpected error occurred"),a.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return a.stop()}},o,null,[[0,8]])}));return function(r){return l.apply(this,arguments)}}(),j=function(){var l=c()(p()().mark(function o(r){var u,i,t;return p()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Z.post("/area",{company_name:r.company_name,area_name:r.area_name,pic_name:r.pic_name,billing_address:r.billing_address,image:r.image,phone:r.phone,email_pic:r.email_pic,email_pic_admin:r.email_pic_admin,address:r.address,latitude:r.latitude,longitude:r.longitude},{headers:{"Content-Type":"multipart/form-data"}});case 3:return u=e.sent,i=u.data,e.abrupt("return",_()(_()({},i),{},{status:"ok",error:!1}));case 8:if(e.prev=8,e.t0=e.catch(0),!f().isAxiosError(e.t0)){e.next=17;break}return console.log("error message: ",e.t0.message),t=e.t0.response,t.data.message?d.ZP.error(t.data.message):d.ZP.error(e.t0.message),e.abrupt("return",{responseCode:400,message:e.t0.message,error:!0});case 17:return console.log("unexpected error: ",e.t0),d.ZP.error("An unexpected error occured"),e.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return e.stop()}},o,null,[[0,8]])}));return function(r){return l.apply(this,arguments)}}(),Z=function(){var l=c()(p()().mark(function o(r,u){var i,t,a;return p()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.Z.post("/area/setting/edit/"+u,_()({},r));case 3:return i=n.sent,t=i.data,n.abrupt("return",_()(_()({},t),{},{status:"ok",error:!1}));case 8:if(n.prev=8,n.t0=n.catch(0),!f().isAxiosError(n.t0)){n.next=17;break}return console.log("error message: ",n.t0.message),a=n.t0.response,a.data.message?d.ZP.error(a.data.message):d.ZP.error(n.t0.message),n.abrupt("return",{responseCode:400,message:n.t0.message,error:!0});case 17:return console.log("unexpected error: ",n.t0),d.ZP.error("An unexpected error occured"),n.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return n.stop()}},o,null,[[0,8]])}));return function(r,u){return l.apply(this,arguments)}}(),$=null,U=function(){var l=c()(p()().mark(function o(r,u){var i,t,a;return p()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.Z.put("/area/"+u,r);case 3:return i=n.sent,t=i.data,n.abrupt("return",_()(_()({},t),{},{status:"ok",error:!1}));case 8:if(n.prev=8,n.t0=n.catch(0),!f().isAxiosError(n.t0)){n.next=17;break}return console.log("error message: ",n.t0.message),a=n.t0.response,a.data.message?d.ZP.error(a.data.message):d.ZP.error(n.t0.message),n.abrupt("return",{responseCode:400,message:n.t0.message,error:!0});case 17:return console.log("unexpected error: ",n.t0),d.ZP.error("An unexpected error occured"),n.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return n.stop()}},o,null,[[0,8]])}));return function(r,u){return l.apply(this,arguments)}}(),L=function(){var l=c()(p()().mark(function o(r){var u,i,t;return p()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Z.post("/area/create/member",{name:r.member_name,area_id:r.area_id});case 3:return u=e.sent,i=u.data,e.abrupt("return",_()(_()({},i),{},{status:"ok",error:!1}));case 8:if(e.prev=8,e.t0=e.catch(0),!f().isAxiosError(e.t0)){e.next=17;break}return console.log("error message: ",e.t0.message),t=e.t0.response,t.data.message?d.ZP.error(t.data.message):d.ZP.error(e.t0.message),e.abrupt("return",{responseCode:400,message:e.t0.message,error:!0});case 17:return console.log("unexpected error: ",e.t0),d.ZP.error("An unexpected error occured"),e.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return e.stop()}},o,null,[[0,8]])}));return function(r){return l.apply(this,arguments)}}();function I(l,o){return h.apply(this,arguments)}function h(){return h=_asyncToGenerator(_regeneratorRuntime().mark(function l(o,r){var u,i;return _regeneratorRuntime().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,api.get("/area/member/"+r,_objectSpread({method:"GET"},o||{}));case 3:return u=a.sent,i=u.data,a.abrupt("return",{data:i.data,error:!1,message:"Success Get",responseCode:i.responseCode});case 8:if(a.prev=8,a.t0=a.catch(0),!axios.isAxiosError(a.t0)){a.next=16;break}return console.log("error message: ",a.t0.message),message.error(a.t0.message),a.abrupt("return",{data:null,error:!0,message:a.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",a.t0),message.error("An unexpected error occurred"),a.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return a.stop()}},l,null,[[0,8]])})),h.apply(this,arguments)}var T=function(){var l=c()(p()().mark(function o(r){var u,i,t;return p()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.Z.post("/area/pricing/member",r,{});case 3:return u=e.sent,i=u.data,e.abrupt("return",_()(_()({},i),{},{status:"ok",error:!1}));case 8:if(e.prev=8,e.t0=e.catch(0),!f().isAxiosError(e.t0)){e.next=17;break}return console.log("error message: ",e.t0.message),t=e.t0.response,t.data.message?d.ZP.error(t.data.message):d.ZP.error(e.t0.message),e.abrupt("return",{responseCode:400,message:e.t0.message,error:!0});case 17:return console.log("unexpected error: ",e.t0),d.ZP.error("An unexpected error occured"),e.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return e.stop()}},o,null,[[0,8]])}));return function(r){return l.apply(this,arguments)}}()}}]);
