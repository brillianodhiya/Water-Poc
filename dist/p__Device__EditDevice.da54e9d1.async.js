"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[3935],{82826:function(Y,A,e){e.d(A,{Z:function(){return g}});var h=e(1413),c=e(67294),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},O=j,M=e(84089),p=function(D,P){return c.createElement(M.Z,(0,h.Z)((0,h.Z)({},D),{},{ref:P,icon:O}))};p.displayName="ArrowLeftOutlined";var g=c.forwardRef(p)},91714:function(Y,A,e){e.d(A,{Z:function(){return g}});var h=e(1413),c=e(67294),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},O=j,M=e(84089),p=function(D,P){return c.createElement(M.Z,(0,h.Z)((0,h.Z)({},D),{},{ref:P,icon:O}))};p.displayName="ClockCircleOutlined";var g=c.forwardRef(p)},86873:function(Y,A,e){e.d(A,{B:function(){return p}});var h=e(97983),c=e.n(h),j=e(40794),O=e.n(j),M=e(52948),p=function(){var g=O()(c()().mark(function E(D,P){var f;return c()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return M.Z.setApiKey("AIzaSyAcli1qFFLWrhhlDhVUCWkAJqzEY6Cp9UI"),M.Z.setLanguage("en"),M.Z.setRegion("id"),m.next=5,M.Z.fromLatLng(D,P);case 5:return f=m.sent,m.next=8,f==null?void 0:f.results[0].formatted_address;case 8:return m.abrupt("return",m.sent);case 9:case"end":return m.stop()}},E)}));return function(D,P){return g.apply(this,arguments)}}()},72923:function(Y,A,e){e.d(A,{Z:function(){return m}});var h=e(97983),c=e.n(h),j=e(40794),O=e.n(j),M=e(67294),p=e(37054),g=e(11486),E=e(67669),D=e(49288),P=e(20906),f=e(85893),U=g.Z.Search;function m(a){var i=a.center,o=i===void 0?{lat:-6.2,lng:106.816666}:i,r=a.onChange,d=r===void 0?function(u){}:r,_=(0,p.Db)({googleMapsApiKey:"AIzaSyAcli1qFFLWrhhlDhVUCWkAJqzEY6Cp9UI",libraries:["places"]}),l=_.isLoaded;return l?(0,f.jsx)(v,{c:o,onChange:d}):(0,f.jsx)("div",{children:"Loading..."})}function v(a){var i=a.c,o=i===void 0?{lat:-6.2,lng:106.816666}:i,r=a.onChange,d=r===void 0?function(l){}:r,_=(0,M.useMemo)(function(){return o},[o]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px",alignItems:"center",alignContent:"center"},children:[(0,f.jsx)(E.Z,{style:{fontSize:"14px",fontWeight:400,marginTop:"12px"},children:"Pin Location"}),(0,f.jsx)(n,{setSelected:d})]}),(0,f.jsx)(p.b6,{onRightClick:function(u){var t=u.latLng.lat(),I=u.latLng.lng();console.log(u,"E");try{d({lat:t,lng:I})}catch{}},zoom:16,center:_,mapContainerClassName:"map-container-gateway",children:(0,f.jsx)(p.Jx,{onDragEnd:function(u){var t=u.latLng.lat(),I=u.latLng.lng();try{d({lat:t,lng:I})}catch{}},draggable:!0,position:_})})]})}var n=function(i){var o=i.setSelected,r=(0,P.ZP)(),d=r.ready,_=r.value,l=r.setValue,u=r.suggestions,t=u.status,I=u.data,R=r.clearSuggestions,z=function(){var y=O()(c()().mark(function C(B){var Z,L,K,s;return c()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return l(JSON.parse(B).description,!1),R(),w.next=4,(0,P.LM)({address:B});case 4:return Z=w.sent,w.next=7,(0,P.WV)(Z[0]);case 7:L=w.sent,K=L.lat,s=L.lng,o({lat:K,lng:s});case 11:case"end":return w.stop()}},C)}));return function(B){return y.apply(this,arguments)}}(),J=I.map(function(y){var C=y.place_id,B=y.description;return{label:B,value:JSON.stringify({place_id:C,description:B})}});return(0,f.jsx)(D.Z,{options:J,style:{width:200},onSelect:z,value:_,children:(0,f.jsx)(U,{disabled:!d,value:_,onChange:function(C){return l(C.target.value)},placeholder:"Cari Lokasi",style:{width:200}})})}},39173:function(Y,A,e){e.d(A,{w:function(){return f}});var h=e(97983),c=e.n(h),j=e(40794),O=e.n(j),M=e(12741),p=e.n(M),g=e(95971),E=e(83652),D=e(67294),P=e(85893),f=function(m){var v=m.onChange,n=m.areaId,a=m.value,i=m.style,o=m.type,r=o===void 0?"not-rounded":o,d=m.useAll,_=m.disabled,l=(0,D.useState)([]),u=p()(l,2),t=u[0],I=u[1],R=D.useState(!1),z=p()(R,2),J=z[0],y=z[1],C=function(L,K){var s;return((s=K==null?void 0:K.children)!==null&&s!==void 0?s:"").toLowerCase().includes(L.toLowerCase())},B=function(){var Z=O()(c()().mark(function L(){var K;return c()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return y(!0),H.next=3,(0,g.cH)({params:{area_id:n}});case 3:K=H.sent,console.log(K,"data tenant"),y(!1),K.error||I(K.data);case 7:case"end":return H.stop()}},L)}));return function(){return Z.apply(this,arguments)}}();return D.useEffect(function(){return B(),function(){}},[n]),(0,P.jsxs)(E.Z,{showSearch:!0,value:a,placeholder:"Tenant Name",loading:J,onChange:v,className:r,optionFilterProp:"children",filterOption:C,disabled:_,children:[d&&(0,P.jsx)(E.Z.Option,{value:0,children:"All Tenant"},0),t.map(function(Z){return(0,P.jsx)(E.Z.Option,{value:Z.id,children:Z.name},Z.id)})]})}},69859:function(Y,A,e){e.r(A);var h=e(97983),c=e.n(h),j=e(40794),O=e.n(j),M=e(12741),p=e.n(M),g=e(98435),E=e(39173),D=e(86873),P=e(72923),f=e(28530),U=e(82826),m=e(91714),v=e(71063),n=e(14776),a=e(66490),i=e(422),o=e(71577),r=e(26713),d=e(58492),_=e(67669),l=e(11382),u=e(71230),t=e(15746),I=e(30478),R=e(11486),z=e(22324),J=e(30381),y=e.n(J),C=e(29218),B=e.n(C),Z=e(18537),L=e(67294),K=e(64593),s=e(85893);y().locale("en");var H=function(){var Q=a.Z.useForm(),se=p()(Q,1),S=se[0],q=L.useState({lat:-6.2,lng:106.816666}),ee=p()(q,2),re=ee[0],ae=ee[1],oe=L.useState(!1),T=p()(oe,2),$=T[0],G=T[1],N=L.useState(""),V=p()(N,2),_e=V[0],ce=V[1],Ee=L.useRef(null),me=L.useState(!0),le=p()(me,2),he=le[0],De=le[1],pe=L.useState(!1),ie=p()(pe,2),fe=ie[0],ue=ie[1],ge=L.useState(null),de=p()(ge,2),Pe=de[0],Oe=de[1],x=Z.Z.parse(window.location.search);L.useEffect(function(){if(x.area_id&&S.setFields([{name:"area_id",value:parseInt(x==null?void 0:x.area_id)},{name:"tenant_id",value:parseInt(x==null?void 0:x.tenant_id)}]),x.id){var b=function(){var k=O()(c()().mark(function W(){var X,F;return c()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,(0,f._v)({params:{id:x.id}});case 2:X=te.sent,X.data.length>0&&(F=X.data[0],console.log(F,"DD"),S.setFields([{name:"devEui",value:F.devEui},{name:"brand",value:F.model},{name:"description",value:F.description},{name:"latitude",value:F.latitude},{name:"longitude",value:F.longitude},{name:"meter_id",value:F.meter_id},{name:"installation_date",value:y()(F.instalation_date)},{name:"interval",value:F.interval}]),ae({lat:F.latitude,lng:F.longitude}));case 4:case"end":return te.stop()}},W)}));return function(){return k.apply(this,arguments)}}();b()}},[]),L.useEffect(function(){(0,D.B)(re.lat,re.lng).then(function(b){S.setFields([{name:"address",value:b}])})},[re]);var ve=function(){var b=O()(c()().mark(function k(W){var X;return c()().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return console.log(W),ue(!0),ne.next=4,(0,f.Zr)({model:W.brand,description:W.description,latitude:W.latitude,longitude:W.longitude,meter_id:W.meter_id},x==null?void 0:x.id);case 4:X=ne.sent,ue(!1),X.error?i.Z.error({content:X.message}):i.Z.success({content:X.message,onOk:function(){try{n.history.back()}catch{n.history.push("/device")}}});case 7:case"end":return ne.stop()}},k)}));return function(W){return b.apply(this,arguments)}}();return(0,s.jsxs)(v._zJ,{title:(0,s.jsx)(o.Z,{type:"link",onClick:function(){x.area_id?n.history.push("/area/tenant",{area_id:x.area_id,tenant_id:x.tenant_id||""}):n.history.push("/device")},size:"large",children:(0,s.jsxs)(r.Z,{style:{cursor:"pointer"},align:"start",size:"large",children:[(0,s.jsx)(U.Z,{onClick:function(){x.area_id?n.history.push("/area/tenant",{area_id:x.area_id,tenant_id:x.tenant_id||""}):n.history.push("/device")},style:{marginTop:"12px",fontSize:"24px",color:"#000"}}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",textAlign:"left"},children:[(0,s.jsxs)(d.Z,{children:[(0,s.jsx)(d.Z.Item,{children:"Device Management"}),(0,s.jsx)(d.Z.Item,{href:"#",children:"Edit Device"})]}),(0,s.jsx)(_.Z.Title,{level:5,children:"Edit Device"})]})]})}),children:[(0,s.jsxs)(K.q,{children:[(0,s.jsx)("meta",{charSet:"utf-8"}),(0,s.jsx)("title",{children:"AAT | Device"}),(0,s.jsx)("link",{rel:"icon",href:"/logo2.png",type:"image/x-icon"})]}),(0,s.jsx)(l.Z,{spinning:fe,children:(0,s.jsxs)(a.Z,{form:S,name:"add-area",onFinish:ve,layout:"vertical",children:[(0,s.jsxs)(u.Z,{style:{borderTop:"1px solid rgba(0, 0, 0, 0.06)",borderBottom:"1px solid rgba(0, 0, 0, 0.06)",paddingTop:20},gutter:[24,24],children:[(0,s.jsxs)(t.Z,{xs:24,sm:24,md:24,lg:12,xl:8,xxl:8,children:[(0,s.jsx)(a.Z.Item,{label:"Installation Date",name:"installation_date",rules:[{required:!0,message:"Please input installation date!"}],requiredMark:"optional",initialValue:y()(),children:(0,s.jsx)(I.Z,{style:{width:"100%"},disabled:!0,className:"not-rounded"})}),(0,s.jsx)(a.Z.Item,{style:{},label:"Area Name",name:"area_id",rules:[{required:!0,message:"Please input area name!"}],requiredMark:"optional",className:"not-rounded",children:(0,s.jsx)(g.U,{style:void 0,type:"",defaultArea0:!1,onChange:function(){S.setFields([{name:"tenant_id",value:void 0}])},disabled:!0})}),(0,s.jsx)(a.Z.Item,{noStyle:!0,shouldUpdate:function(k,W){return k.area_id!==W.area_id},children:function(){return(0,s.jsx)(a.Z.Item,{style:{},label:"Tenant Name",name:"tenant_id",rules:[{required:!0,message:"Please input tenant name!"}],requiredMark:"optional",className:"not-rounded",children:(0,s.jsx)(E.w,{onChange:function(){},areaId:S.getFieldValue("area_id"),style:void 0,type:"",disabled:!0})})}}),(0,s.jsx)(a.Z.Item,{noStyle:!0,shouldUpdate:!0,children:function(){return(0,s.jsx)(a.Z.Item,{requiredMark:"optional",name:"devEui",label:"Device Eui",rules:[{required:!0}],children:(0,s.jsx)(R.Z,{placeholder:"Device Eui",onChange:function(W){ce(W.target.value),S.setFields([{name:"devEui",value:W.target.value.replace(/\s/g,"").replace(/(.{4})/g,"$1 ").trim()}])},disabled:!0})})}})]}),(0,s.jsxs)(t.Z,{xs:24,sm:24,md:24,lg:12,xl:8,xxl:8,children:[(0,s.jsx)(a.Z.Item,{label:"Meter Id",name:"meter_id",rules:[{required:!1,message:"Please input Meter Id!"}],children:(0,s.jsx)(R.Z,{placeholder:"Meter Id"})}),(0,s.jsx)(a.Z.Item,{label:"Model/Brand",name:"brand",rules:[{required:!1,message:"Please input Model/Brand!"}],children:(0,s.jsx)(R.Z,{placeholder:"Model/Brand"})}),(0,s.jsx)(a.Z.Item,{extra:"Minute",label:"Interval",name:"interval",hidden:!0,initialValue:15,rules:[{required:!0,message:"Please input Interval!"}],requiredMark:"optional",children:(0,s.jsx)(z.Z,{prefix:(0,s.jsx)(m.Z,{})})}),(0,s.jsx)(a.Z.Item,{label:"Description",name:"description",rules:[{required:!1,message:"Please input description!"}],requiredMark:"optional",children:(0,s.jsx)(R.Z.TextArea,{placeholder:"Description",rows:3})})]}),(0,s.jsxs)(t.Z,{xs:24,sm:24,md:24,lg:12,xl:8,xxl:8,children:[(0,s.jsx)(P.Z,{center:re,onChange:function(k){ae(k),S.setFields([{name:"latitude",value:k.lat},{name:"longitude",value:k.lng}])}}),(0,s.jsx)(a.Z.Item,{requiredMark:"optional",name:"address",label:"Address",children:(0,s.jsx)(R.Z.TextArea,{placeholder:"Address",disabled:!0})}),(0,s.jsxs)(r.Z,{wrap:!0,size:"large",style:{marginTop:"16px"},children:[(0,s.jsx)(a.Z.Item,{requiredMark:"optional",name:"latitude",label:"Latitude",initialValue:"-6.290690",rules:[{required:!0,message:"Masukkan Latitude"}],hidden:!0,children:(0,s.jsx)(R.Z,{placeholder:"Latitude"})}),(0,s.jsx)(a.Z.Item,{requiredMark:"optional",name:"longitude",label:"Longitude",initialValue:"107.141853",rules:[{required:!0,message:"Masukkan Longitude"}],hidden:!0,children:(0,s.jsx)(R.Z,{placeholder:"Longitude"})})]})]})]}),(0,s.jsx)("div",{style:{marginTop:20,textAlign:"right"},children:(0,s.jsxs)(r.Z,{children:[(0,s.jsx)(a.Z.Item,{children:(0,s.jsx)(o.Z,{type:"default",htmlType:"button",onClick:function(){try{n.history.back()}catch{n.history.push("/device")}},children:"Cancel"})}),(0,s.jsx)(a.Z.Item,{children:(0,s.jsx)(o.Z,{type:"primary",onClick:function(){S.submit()},children:"Submit"})})]})})]})})]})};A.default=H},95971:function(Y,A,e){e.d(A,{GU:function(){return a},cH:function(){return f},mZ:function(){return v},rR:function(){return m}});var h=e(97983),c=e.n(h),j=e(11281),O=e.n(j),M=e(40794),p=e.n(M),g=e(12461),E=e(9669),D=e.n(E),P=e(9212);function f(i){return U.apply(this,arguments)}function U(){return U=p()(c()().mark(function i(o){var r,d;return c()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,P.Z.get("/tenant",O()({method:"GET"},o||{}));case 3:return r=l.sent,d=r.data,l.abrupt("return",{data:d.data,error:!1,message:"Success Get",responseCode:d.responseCode});case 8:if(l.prev=8,l.t0=l.catch(0),!D().isAxiosError(l.t0)){l.next=16;break}return console.log("error message: ",l.t0.message),g.ZP.error(l.t0.message),l.abrupt("return",{data:null,error:!0,message:l.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",l.t0),g.ZP.error("An unexpected error occurred"),l.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return l.stop()}},i,null,[[0,8]])})),U.apply(this,arguments)}var m=function(){var i=p()(c()().mark(function o(r){var d,_,l;return c()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.Z.put("/tenant/".concat(r.id),{image:r.image,area_id:r.area_id,name:r.name,pic_name:r.pic_name,address:r.address,latitude:r.latitude,longitude:r.longitude,member_id:r.member_id,type:r.type,area_name:r.area_name,phone:r.phone,email:r.email,username:r.username,password:r.password,nama_unit:r.nama_unit,kode_unit:r.kode_unit},{headers:{"Content-Type":"multipart/form-data"}});case 3:return d=t.sent,_=d.data,t.abrupt("return",O()(O()({},_),{},{status:"ok",error:!1}));case 8:if(t.prev=8,t.t0=t.catch(0),!D().isAxiosError(t.t0)){t.next=17;break}return console.log("error message: ",t.t0.message),l=t.t0.response,l.data.message?g.ZP.error(l.data.message):g.ZP.error(t.t0.message),t.abrupt("return",{responseCode:400,message:t.t0.message,error:!0});case 17:return console.log("unexpected error: ",t.t0),g.ZP.error("An unexpected error occured"),t.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return t.stop()}},o,null,[[0,8]])}));return function(r){return i.apply(this,arguments)}}(),v=function(){var i=p()(c()().mark(function o(r){var d,_,l;return c()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.Z.post("/tenant",{image:r.image,area_id:r.area_id,name:r.name,pic_name:r.pic_name,address:r.address,latitude:r.latitude,longitude:r.longitude,type:r.type,area_name:r.area_name,phone:r.phone,email:r.email,username:r.username,password:r.password},{headers:{"Content-Type":"multipart/form-data"}});case 3:return d=t.sent,_=d.data,t.abrupt("return",O()(O()({},_),{},{status:"ok",error:!1}));case 8:if(t.prev=8,t.t0=t.catch(0),!D().isAxiosError(t.t0)){t.next=17;break}return console.log("error message: ",t.t0.message),l=t.t0.response,l.data.message?g.ZP.error(l.data.message):g.ZP.error(t.t0.message),t.abrupt("return",{responseCode:400,message:t.t0.message,error:!0});case 17:return console.log("unexpected error: ",t.t0),g.ZP.error("An unexpected error occured"),t.abrupt("return",{responseCode:400,message:"An unexpected error occured",error:!0});case 20:case"end":return t.stop()}},o,null,[[0,8]])}));return function(r){return i.apply(this,arguments)}}(),n=null,a=function(){var i=p()(c()().mark(function o(r){var d,_;return c()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,P.Z.get("/tenant/detail/".concat(r),{method:"GET"});case 3:return d=u.sent,_=d.data,u.abrupt("return",{data:_.data,error:!1,message:"Success Get",responseCode:_.responseCode});case 8:if(u.prev=8,u.t0=u.catch(0),!D().isAxiosError(u.t0)){u.next=16;break}return console.log("error message: ",u.t0.message),g.ZP.error(u.t0.message),u.abrupt("return",{data:null,error:!0,message:u.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",u.t0),g.ZP.error("An unexpected error occurred"),u.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return u.stop()}},o,null,[[0,8]])}));return function(r){return i.apply(this,arguments)}}()},49288:function(Y,A,e){var h=e(87462),c=e(71002),j=e(97685),O=e(94184),M=e.n(O),p=e(37419),g=e(10366),E=e(67294),D=e(53124),P=e(83652),f=e(96159),U=P.Z.Option;function m(a){return a&&a.type&&(a.type.isSelectOption||a.type.isSelectOptGroup)}var v=function(i,o){var r=i.prefixCls,d=i.className,_=i.popupClassName,l=i.dropdownClassName,u=i.children,t=i.dataSource,I=(0,p.Z)(u),R;if(I.length===1&&(0,f.l$)(I[0])&&!m(I[0])){var z=(0,j.Z)(I,1);R=z[0]}var J=R?function(){return R}:void 0,y;return I.length&&m(I[0])?y=u:y=t?t.map(function(C){if((0,f.l$)(C))return C;switch((0,c.Z)(C)){case"string":return E.createElement(U,{key:C,value:C},C);case"object":{var B=C.value;return E.createElement(U,{key:B,value:B},C.text)}default:return}}):[],E.createElement(D.C,null,function(C){var B=C.getPrefixCls,Z=B("select",r);return E.createElement(P.Z,(0,h.Z)({ref:o},(0,g.Z)(i,["dataSource"]),{prefixCls:Z,popupClassName:_||l,className:M()("".concat(Z,"-auto-complete"),d),mode:P.Z.SECRET_COMBOBOX_MODE_DO_NOT_USE},{getInputElement:J}),y)})},n=E.forwardRef(v);n.Option=U,A.Z=n},52948:function(Y,A,e){var h,c=e(35666);function j(n,a,i,o,r,d,_){try{var l=n[d](_),u=l.value}catch(t){return void i(t)}l.done?a(u):Promise.resolve(u).then(o,r)}function O(n){return function(){var a=this,i=arguments;return new Promise(function(o,r){var d=n.apply(a,i);function _(u){j(d,o,r,_,l,"next",u)}function l(u){j(d,o,r,_,l,"throw",u)}_(void 0)})}}h={value:!0},A.Z=void 0;var M=!1,p=null,g="en",E=null,D=null,P="https://maps.googleapis.com/maps/api/geocode/json";function f(n){var a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];M&&(a?console.warn(n):console.log(n))}function U(n){return m.apply(this,arguments)}function m(){return(m=O(c.mark(function n(a){var i,o;return c.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(a).catch(function(){return Promise.reject(new Error("Error fetching data"))});case 2:return i=r.sent,r.next=5,i.json().catch(function(){return f("Error parsing server response"),Promise.reject(new Error("Error parsing server response"))});case 5:if((o=r.sent).status!=="OK"){r.next=9;break}return f(o),r.abrupt("return",o);case 9:return f("".concat(o.error_message,`.
Server returned status code `).concat(o.status),!0),r.abrupt("return",Promise.reject(new Error("".concat(o.error_message,`.
Server returned status code `).concat(o.status))));case 11:case"end":return r.stop()}},n)}))).apply(this,arguments)}var v={setApiKey:function(n){p=n},setLanguage:function(n){g=n},setRegion:function(n){E=n},setLocationType:function(n){D=n},enableDebug:function(){var n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];M=n},fromLatLng:function(n,a,i,o,r,d){return O(c.mark(function _(){var l,u;return c.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n&&a){t.next=3;break}return f("Provided coordinates are invalid",!0),t.abrupt("return",Promise.reject(new Error("Provided coordinates are invalid")));case 3:return l="".concat(n,",").concat(a),u="".concat(P,"?latlng=").concat(encodeURIComponent(l)),(i||p)&&(u+="&key=".concat(p=i||p)),(o||g)&&(u+="&language=".concat(g=o||g)),(r||E)&&(E=r||E,u+="&region=".concat(encodeURIComponent(E))),(d||D)&&(D=d||D,u+="&location_type=".concat(encodeURIComponent(D))),t.abrupt("return",U(u));case 9:case"end":return t.stop()}},_)}))()},fromAddress:function(n,a,i,o){return O(c.mark(function r(){var d;return c.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(n){_.next=3;break}return f("Provided address is invalid",!0),_.abrupt("return",Promise.reject(new Error("Provided address is invalid")));case 3:return d="".concat(P,"?address=").concat(encodeURIComponent(n)),(a||p)&&(d+="&key=".concat(p=a||p)),(i||g)&&(d+="&language=".concat(g=i||g)),(o||E)&&(E=o||E,d+="&region=".concat(encodeURIComponent(E))),_.abrupt("return",U(d));case 8:case"end":return _.stop()}},r)}))()}};A.Z=v},20906:function(Y,A,e){e.d(A,{LM:function(){return E},WV:function(){return D},ZP:function(){return p}});var h=e(67294);function c(){return c=Object.assign||function(m){for(var v=1;v<arguments.length;v++){var n=arguments[v];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(m[a]=n[a])}return m},c.apply(this,arguments)}var j=function(m){var v=(0,h.useRef)(m);return v.current=m,v},O=function(m,v){var n;return function(){for(var a=this,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];n!==null&&(clearTimeout(n),n=null),n=setTimeout(function(){return m.apply(a,o)},v)}},M="\u{1F4A1} use-places-autocomplete: Google Maps Places API library must be loaded. See: https://github.com/wellyshen/use-places-autocomplete#load-the-library",p=function(v){var n=v===void 0?{}:v,a=n.requestOptions,i=n.debounce,o=i===void 0?200:i,r=n.cache,d=r===void 0?24*60*60:r,_=n.cacheKey,l=_===void 0?"upa":_,u=n.googleMaps,t=n.callbackName,I=n.defaultValue,R=I===void 0?"":I,z=n.initOnMount,J=z===void 0?!0:z,y=(0,h.useState)(!1),C=y[0],B=y[1],Z=(0,h.useState)(R),L=Z[0],K=Z[1],s=(0,h.useState)({loading:!1,status:"",data:[]}),H=s[0],w=s[1],Q=(0,h.useRef)(),se=j(a),S=j(u),q=(0,h.useCallback)(function(){var T;if(!Q.current){var $=window,G=$.google,N=S.current,V=(N==null?void 0:N.places)||(G==null||(T=G.maps)==null?void 0:T.places);if(!V){console.error(M);return}Q.current=new V.AutocompleteService,B(!0)}},[S]),ee=(0,h.useCallback)(function(){w({loading:!1,status:"",data:[]})},[]),re=(0,h.useCallback)(function(T){T===void 0&&(T=l);try{sessionStorage.removeItem(T)}catch{}},[l]),ae=(0,h.useCallback)(O(function(T){var $;if(!T){ee();return}w(function(N){return c({},N,{loading:!0})});var G={};try{G=JSON.parse(sessionStorage.getItem(l)||"{}")}catch{}if(d&&(G=Object.keys(G).reduce(function(N,V){return G[V].maxAge-Date.now()>=0&&(N[V]=G[V]),N},{}),G[T])){w({loading:!1,status:"OK",data:G[T].data});return}($=Q.current)==null||$.getPlacePredictions(c({},se.current,{input:T}),function(N,V){if(w({loading:!1,status:V,data:N||[]}),d&&V==="OK"){G[T]={data:N,maxAge:Date.now()+d*1e3};try{sessionStorage.setItem(l,JSON.stringify(G))}catch{}}})},o),[d,l,ee,se]),oe=(0,h.useCallback)(function(T,$){$===void 0&&($=!0),K(T),Q.current&&$&&ae(T)},[ae]);return(0,h.useEffect)(function(){if(!J)return function(){return null};var T=window,$=T.google;return!S.current&&!($!=null&&$.maps)&&t?window[t]=q:q(),function(){window[t]&&delete window[t]}},[t,S,q,J]),{ready:C,value:L,suggestions:H,setValue:oe,clearSuggestions:ee,clearCache:re,init:q}},g="\u{1F4A1} use-places-autocomplete: Please provide an address when using getGeocode() with the componentRestrictions.",E=function(v){var n=new window.google.maps.Geocoder;return new Promise(function(a,i){n.geocode(v,function(o,r){r!=="OK"&&i(r),!v.address&&v.componentRestrictions&&(console.error(g),a(o)),a(o)})})},D=function(v){var n=v.geometry.location,a=n.lat,i=n.lng;return{lat:a(),lng:i()}},P=function(v,n){var a=v.address_components.find(function(i){var o=i.types;return o.includes("postal_code")});if(!!a)return n?a.short_name:a.long_name},f="\u{1F4A1} use-places-autocomplete: Please provide a place Id when using getDetails() either as a string or as part of an Autocomplete Prediction.",U=function(v){var n=new window.google.maps.places.PlacesService(document.createElement("div"));return v.placeId?new Promise(function(a,i){n.getDetails(v,function(o,r){r!=="OK"&&i(r),a(o)})}):(console.error(f),Promise.reject(f))}}}]);
