"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9259],{26822:function(Ie,re,t){t.r(re),t.d(re,{default:function(){return Se}});var P=t(97983),o=t.n(P),_e=t(40794),$=t.n(_e),Be=t(12741),s=t.n(Be),ne=t(38402),he=t(11382),be=t(71230),M=t(15746),me=t(59652),a=t(67294),S=t(70405),ye=t(75302),f=t(21802),C=t(40038),ae=t(79915),u=t(71577),Q=t(26713),g=t(64173),e=t(85893),se=ye.ZP.useBreakpoint,Ce=function(x){var v=x.settings,F=x.getDataInit,j=se(),R=(0,a.useState)(!1),W=s()(R,2),c=W[0],A=W[1],h=(0,a.useState)([]),z=s()(h,2),N=z[0],k=z[1],J=(0,a.useState)(!1),r=s()(J,2),E=r[0],D=r[1],L=(0,a.useState)([]),B=s()(L,2),K=B[0],b=B[1],m=(0,a.useState)(0),n=s()(m,2),p=n[0],y=n[1],Z=(0,a.useState)(0),xe=s()(Z,2),Le=xe[0],G=xe[1],T=(0,a.useState)(""),_=s()(T,2),H=_[0],te=_[1];(0,a.useEffect)(function(){if(v){var Y=[];v.device.map(function(O){Y.push(O.device_id)}),b(Y),v.params.map(function(O){O.deveui=="max_usage"&&(G(O.value),te(O.unit)),O.deveui=="min_usage"&&(y(O.value),te(O.unit))})}},[v]);var Ee=function(){var Y=$()(o()().mark(function O(){var q;return o()().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return A(!0),le.next=3,(0,g.yv)({});case 3:q=le.sent,A(!1),q.error||k(q.data);case 6:case"end":return le.stop()}},O)}));return function(){return Y.apply(this,arguments)}}();(0,a.useEffect)(function(){Ee()},[]);var Re=function(){var O=[];return N.map(function(q){var pe;O.push({label:"".concat(q.deveui," - ").concat((pe=q.Nebula_Tenant)===null||pe===void 0?void 0:pe.name),value:q.id})}),O},Ne=Re(),ke=function(){var Y=$()(o()().mark(function O(){var q;return o()().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return D(!1),A(!0),le.next=4,(0,g.GF)({device_id_list:K,max_usage:Le,min_usage:p});case 4:q=le.sent,q.error||(A(!1),F(),Ee());case 6:case"end":return le.stop()}},O)}));return function(){return Y.apply(this,arguments)}}(),$e=function(){return j.xxl||j.xl?"860px":j.lg||j.md?"600px":"360px"},Ue=$e();return(0,e.jsx)(me.Z,{title:"Water Usage",style:{borderRadius:"8px"},bodyStyle:{paddingTop:"16px",paddingBottom:"16px"},headStyle:{backgroundColor:"#E6F7FF",fontWeight:"bold"},children:(0,e.jsxs)(he.Z,{spinning:c,children:[(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:"18px",flexWrap:"wrap"},children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(f.Z,{children:"Dev Eui"}),(0,e.jsx)(C.Z,{mode:"multiple",allowClear:!0,dropdownMatchSelectWidth:!0,style:{width:Ue,maxHeight:E?"unset":"130px",overflow:"scroll"},placeholder:"Select Dev Eui",onChange:function(O){b(O)},disabled:!E,options:Ne,value:K,filterOption:function(O,q){var pe;return((pe=q==null?void 0:q.label)!==null&&pe!==void 0?pe:"").toLowerCase().includes(O.toLowerCase())},showSearch:!0,optionFilterProp:"children"})]}),(0,e.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[(0,e.jsxs)("div",{children:[(0,e.jsx)(f.Z,{children:"Minimal Usage"}),E?(0,e.jsx)(ae.Z,{addonAfter:H,value:p,onChange:function(O){return y(O)}}):(0,e.jsxs)(f.Z,{style:{fontSize:"20px",fontWeight:"bold"},children:[p," ",H]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)(f.Z,{children:"Average Usage"}),E?(0,e.jsx)(ae.Z,{addonAfter:H,value:Le,onChange:function(O){return G(O)}}):(0,e.jsxs)(f.Z,{style:{fontSize:"20px",fontWeight:"bold"},children:[Le," ",H]})]})]})]}),(0,e.jsx)("div",{style:{textAlign:"right",marginTop:"24px"},children:E?(0,e.jsxs)(Q.Z,{children:[(0,e.jsx)(u.Z,{onClick:function(){D(!1)},children:"Cancel"}),(0,e.jsx)(u.Z,{type:"primary",onClick:ke,children:"Save"})]}):(0,e.jsx)(u.Z,{type:"link",onClick:function(){D(!0)},children:"Edit"})})]})})},ge=t(12461),Oe=t(11281),ie=t.n(Oe),X=t(80737),ue=t(1413),De={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},Fe=De,we=t(84089),We=function(x,v){return a.createElement(we.Z,(0,ue.Z)((0,ue.Z)({},x),{},{ref:v,icon:Fe}))};We.displayName="MinusCircleOutlined";var Te=a.forwardRef(We),ee=t(24969),je=ye.ZP.useBreakpoint,Pe=function(x){var v=x.settings,F=x.options,j=F===void 0?[]:F,R=x.onFinish,W=x.minLabel,c=x.maxLabel,A=x.unit,h=x.isEdit,z=x.setIsEdit,N=je(),k=X.Z.useForm(),J=s()(k,1),r=J[0];(0,a.useEffect)(function(){if(v){var L=[];v.map(function(B){L.push({device_id:B.device_id,max_usage:B.max_usage,min_usage:B.min_usage})}),r.setFieldsValue({device:L})}},[v]);var E=function(){return N.xxl||N.xl?"360px":N.lg||N.md?"600px":"360px"},D=E();return(0,e.jsx)("div",{children:(0,e.jsxs)(X.Z,{form:r,layout:"vertical",name:"dynamic_form_complex",onFinish:R,autoComplete:"off",children:[(0,e.jsx)("div",{style:{maxHeight:h?"unset":"160px",overflow:"scroll"},children:(0,e.jsx)(X.Z.List,{name:"device",children:function(B,K){var b=K.add,m=K.remove;return(0,e.jsxs)(e.Fragment,{children:[B.map(function(n){return console.log(n.name,"NAME"),(0,e.jsxs)(Q.Z,{align:"center",wrap:!0,children:[(0,e.jsx)(X.Z.Item,ie()(ie()({},n),{},{label:"Dev Eui",name:[n.name,"device_id"],rules:[{required:!0,message:"Please Select Dev Eui"}],children:(0,e.jsx)(C.Z,{style:{width:D},options:j,filterOption:function(y,Z){var xe;return((xe=Z==null?void 0:Z.label)!==null&&xe!==void 0?xe:"").toLowerCase().includes(y.toLowerCase())},showSearch:!0,optionFilterProp:"children",disabled:!h,allowClear:!0,dropdownMatchSelectWidth:!0,placeholder:"Select Device"})})),(0,e.jsx)(X.Z.Item,ie()(ie()({},n),{},{label:W,name:[n.name,"min_usage"],initialValue:0,rules:[{required:!0,message:"Please Enter Min. Value"}],children:(0,e.jsx)(ae.Z,{min:0,addonAfter:A,disabled:!h})})),(0,e.jsx)(X.Z.Item,ie()(ie()({},n),{},{label:c,name:[n.name,"max_usage"],initialValue:0,rules:[{required:!0,message:"Please Enter Max. Value"}],children:(0,e.jsx)(ae.Z,{min:0,addonAfter:A,disabled:!h})})),h?(0,e.jsx)(Te,{onClick:function(){return m(n.name)}}):null]},n.key)}),h?(0,e.jsx)(X.Z.Item,{children:(0,e.jsx)(u.Z,{type:"dashed",onClick:function(){return b()},block:!0,icon:(0,e.jsx)(ee.Z,{}),children:"Add Device"})}):null]})}})}),(0,e.jsx)(X.Z.Item,{style:{textAlign:"right",borderTop:h?"unset":"1px solid rgba(0, 0, 0, 0.2)",paddingTop:h?"unset":"12px"},children:h?(0,e.jsxs)(Q.Z,{children:[(0,e.jsx)(u.Z,{onClick:function(){z(!1)},children:"Cancel"}),(0,e.jsx)(u.Z,{type:"primary",onClick:r.submit,children:"Save"})]}):(0,e.jsx)(u.Z,{type:"link",onClick:function(){z(!0)},children:"Edit"})})]})})},de=function(x){var v=x.settings,F=x.getDataInit,j=(0,a.useState)(!1),R=s()(j,2),W=R[0],c=R[1],A=(0,a.useState)([]),h=s()(A,2),z=h[0],N=h[1],k=(0,a.useState)(!1),J=s()(k,2),r=J[0],E=J[1],D=function(){var b=$()(o()().mark(function m(){var n;return o()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return c(!0),y.next=3,(0,g._H)({});case 3:n=y.sent,c(!1),n.error||N(n.data);case 6:case"end":return y.stop()}},m)}));return function(){return b.apply(this,arguments)}}();(0,a.useEffect)(function(){D()},[]);var L=function(){var m=[];return z.map(function(n){var p;m.push({label:"".concat(n.deveui," - ").concat((p=n.Nebula_Tenant)===null||p===void 0?void 0:p.name),value:n.id})}),m},B=L(),K=function(){var b=$()(o()().mark(function m(n){var p;return o()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return console.log("Received values of form:",n),E(!1),c(!0),Z.next=5,(0,g.z2)(n.device);case 5:p=Z.sent,p.error||(ge.ZP.success(p.message),c(!1),F(),D());case 7:case"end":return Z.stop()}},m)}));return function(n){return b.apply(this,arguments)}}();return(0,e.jsx)(me.Z,{title:"Water Pressure",style:{borderRadius:"8px"},bodyStyle:{paddingTop:"16px",paddingBottom:"16px"},headStyle:{backgroundColor:"#E6F7FF",fontWeight:"bold"},children:(0,e.jsx)(he.Z,{spinning:W,children:(0,e.jsx)(Pe,{settings:v,onFinish:K,options:B,maxLabel:"Maximal",minLabel:"Minimal",unit:"Bar",isEdit:r,setIsEdit:E})})})},Ae=function(x){var v=x.settings,F=x.getDataInit,j=(0,a.useState)(!1),R=s()(j,2),W=R[0],c=R[1],A=(0,a.useState)([]),h=s()(A,2),z=h[0],N=h[1],k=(0,a.useState)(!1),J=s()(k,2),r=J[0],E=J[1],D=(0,a.useState)([]),L=s()(D,2),B=L[0],K=L[1],b=(0,a.useState)([]),m=s()(b,2),n=m[0],p=m[1];(0,a.useEffect)(function(){if(v){var G=[];v.air_bersih.map(function(_){G.push(JSON.stringify({id:_.device_id,field_meter:_.field_meter}))}),K(G);var T=[];v.air_limbah.map(function(_){T.push(JSON.stringify({id:_.device_id,field_meter:_.field_meter}))}),p(T)}},[v]);var y=function(){var G=$()(o()().mark(function T(){var _;return o()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return c(!0),te.next=3,(0,g.Sd)({});case 3:_=te.sent,c(!1),_.error||N(_.data);case 6:case"end":return te.stop()}},T)}));return function(){return G.apply(this,arguments)}}();(0,a.useEffect)(function(){y()},[]);var Z=function(){var T=[];return z.map(function(_){var H;T.push({label:"".concat(_.deveui," (").concat(_.field_meter,") - ").concat((H=_.Nebula_Tenant)===null||H===void 0?void 0:H.name),value:JSON.stringify({id:_.id,field_meter:_.field_meter})})}),T},xe=Z(),Le=function(){var G=$()(o()().mark(function T(){var _;return o()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return E(!1),c(!0),te.next=4,(0,g.ik)({device_id_air_bersih:B.map(function(Ee){return JSON.parse(Ee)}),device_id_air_limbah:n.map(function(Ee){return JSON.parse(Ee)})});case 4:_=te.sent,_.error||(c(!1),F(),y());case 6:case"end":return te.stop()}},T)}));return function(){return G.apply(this,arguments)}}();return(0,e.jsx)("div",{children:(0,e.jsxs)(he.Z,{spinning:W,children:[(0,e.jsxs)(be.Z,{gutter:[16,16],children:[(0,e.jsx)(M.Z,{xxl:12,xl:12,md:24,sm:24,xs:24,children:(0,e.jsxs)("div",{children:[(0,e.jsx)(f.Z,{style:{fontWeight:"bold",marginBottom:"4px"},children:"Air Bersih"}),(0,e.jsx)(f.Z,{children:"Dev Eui"}),(0,e.jsx)(C.Z,{mode:"multiple",allowClear:!0,dropdownMatchSelectWidth:!0,style:{width:"100%",maxHeight:r?"unset":"130px",overflow:"scroll"},placeholder:"Select Dev Eui",onChange:function(T){K(T)},disabled:!r,options:xe,value:B,filterOption:function(T,_){var H;return((H=_==null?void 0:_.label)!==null&&H!==void 0?H:"").toLowerCase().includes(T.toLowerCase())},showSearch:!0,optionFilterProp:"children"})]})}),(0,e.jsx)(M.Z,{xxl:12,xl:12,md:24,sm:24,xs:24,children:(0,e.jsxs)("div",{children:[(0,e.jsx)(f.Z,{style:{fontWeight:"bold",marginBottom:"4px"},children:"Air Limbah"}),(0,e.jsx)(f.Z,{children:"Dev Eui"}),(0,e.jsx)(C.Z,{mode:"multiple",allowClear:!0,dropdownMatchSelectWidth:!0,style:{width:"100%",maxHeight:r?"unset":"130px",overflow:"scroll"},placeholder:"Select Dev Eui",onChange:function(T){p(T)},disabled:!r,options:xe,value:n,filterOption:function(T,_){var H;return((H=_==null?void 0:_.label)!==null&&H!==void 0?H:"").toLowerCase().includes(T.toLowerCase())},showSearch:!0,optionFilterProp:"children"})]})})]}),(0,e.jsx)("div",{style:{textAlign:"right",marginTop:"24px"},children:r?(0,e.jsxs)(Q.Z,{children:[(0,e.jsx)(u.Z,{onClick:function(){E(!1)},children:"Cancel"}),(0,e.jsx)(u.Z,{type:"primary",onClick:Le,children:"Save"})]}):(0,e.jsx)(u.Z,{type:"link",onClick:function(){E(!0)},children:"Edit"})})]})})},Me=function(x){var v=x.settings,F=x.getDataInit,j=(0,a.useState)(!1),R=s()(j,2),W=R[0],c=R[1],A=(0,a.useState)([]),h=s()(A,2),z=h[0],N=h[1],k=(0,a.useState)(!1),J=s()(k,2),r=J[0],E=J[1],D=(0,a.useState)([]),L=s()(D,2),B=L[0],K=L[1],b=(0,a.useState)([]),m=s()(b,2),n=m[0],p=m[1],y=(0,a.useState)([]),Z=s()(y,2),xe=Z[0],Le=Z[1],G=(0,a.useState)([]),T=s()(G,2),_=T[0],H=T[1],te=(0,a.useState)([]),Ee=s()(te,2),Re=Ee[0],Ne=Ee[1],ke=(0,a.useState)([]),$e=s()(ke,2),Ue=$e[0],Y=$e[1],O=(0,a.useState)([]),q=s()(O,2),pe=q[0],le=q[1],et=(0,a.useState)([]),Je=s()(et,2),Ke=Je[0],He=Je[1],tt=(0,a.useState)([]),ze=s()(tt,2),Ge=ze[0],Ve=ze[1];(0,a.useEffect)(function(){if(v){var I=[];v.air_bersih.map(function(w){I.push(JSON.stringify({id:w.device_id,field_meter:w.field_meter}))}),K(I);var l=[];v.air_limbah.map(function(w){l.push(JSON.stringify({id:w.device_id,field_meter:w.field_meter}))}),p(l);var i=[];v.air_lumpur.map(function(w){i.push(JSON.stringify({id:w.device_id,field_meter:w.field_meter}))}),Le(i);var d=[];v.air_baku.map(function(w){d.push(JSON.stringify({id:w.device_id,field_meter:w.field_meter}))}),H(d);var oe=[];v.sludge.map(function(w){oe.push(JSON.stringify({id:w.device_id,field_meter:w.field_meter}))}),Ne(oe);var V=[];v.total_distribusi_ki.map(function(w){V.push(JSON.stringify({id:w.device_id,field_meter:w.field_meter}))}),Y(V);var Xe=[];v.tranmisi_indotaise.map(function(w){Xe.push(JSON.stringify({id:w.device_id,field_meter:w.field_meter}))}),le(Xe);var Ye=[];v.tranmisi_indotaise_2.map(function(w){Ye.push(JSON.stringify({id:w.device_id,field_meter:w.field_meter}))}),He(Ye);var qe=[];v.transmisi_ki.map(function(w){qe.push(JSON.stringify({id:w.device_id,field_meter:w.field_meter}))}),Ve(qe)}},[v]);var Qe=function(){var I=$()(o()().mark(function l(){var i;return o()().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return c(!0),oe.next=3,(0,g.JT)({});case 3:i=oe.sent,c(!1),i.error||N(i.data);case 6:case"end":return oe.stop()}},l)}));return function(){return I.apply(this,arguments)}}();(0,a.useEffect)(function(){Qe()},[]);var nt=function(){var l=[];return z.map(function(i){var d;l.push({label:"".concat(i.deveui," (").concat(i.field_meter,") - ").concat((d=i.Nebula_Tenant)===null||d===void 0?void 0:d.name),value:JSON.stringify({id:i.id,field_meter:i.field_meter})})}),l},Ze=nt(),at=function(){var I=$()(o()().mark(function l(){var i;return o()().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return E(!1),c(!0),oe.next=4,(0,g.H$)({device_id_air_bersih:B.map(function(V){return JSON.parse(V)}),device_id_air_limbah:n.map(function(V){return JSON.parse(V)}),device_id_air_lumpur:[],device_id_air_baku:_.map(function(V){return JSON.parse(V)}),device_id_sludge:Re.map(function(V){return JSON.parse(V)}),device_id_total_distribusi_ki:Ue.map(function(V){return JSON.parse(V)}),device_id_tranmisi_indotaise:pe.map(function(V){return JSON.parse(V)}),device_id_tranmisi_indotaise_2:Ke.map(function(V){return JSON.parse(V)}),device_id_transmisi_ki:Ge.map(function(V){return JSON.parse(V)})});case 4:i=oe.sent,i.error||(c(!1),F(),Qe());case 6:case"end":return oe.stop()}},l)}));return function(){return I.apply(this,arguments)}}();return(0,e.jsx)("div",{children:(0,e.jsxs)(he.Z,{spinning:W,children:[(0,e.jsxs)(be.Z,{gutter:[16,16],children:[(0,e.jsx)(M.Z,{xxl:8,xl:8,md:24,sm:24,xs:24,children:(0,e.jsxs)("div",{children:[(0,e.jsx)(f.Z,{style:{fontWeight:"bold",marginBottom:"4px"},children:"Air Bersih"}),(0,e.jsx)(f.Z,{children:"Dev Eui"}),(0,e.jsx)(C.Z,{mode:"multiple",allowClear:!0,dropdownMatchSelectWidth:!0,style:{width:"100%",maxHeight:r?"unset":"130px",overflow:"scroll"},placeholder:"Select Dev Eui",onChange:function(l){K(l)},disabled:!r,options:Ze,value:B,filterOption:function(l,i){var d;return((d=i==null?void 0:i.label)!==null&&d!==void 0?d:"").toLowerCase().includes(l.toLowerCase())},showSearch:!0,optionFilterProp:"children"})]})}),(0,e.jsx)(M.Z,{xxl:8,xl:8,md:24,sm:24,xs:24,children:(0,e.jsxs)("div",{children:[(0,e.jsx)(f.Z,{style:{fontWeight:"bold",marginBottom:"4px"},children:"Air Limbah"}),(0,e.jsx)(f.Z,{children:"Dev Eui"}),(0,e.jsx)(C.Z,{mode:"multiple",allowClear:!0,dropdownMatchSelectWidth:!0,style:{width:"100%",maxHeight:r?"unset":"130px",overflow:"scroll"},placeholder:"Select Dev Eui",onChange:function(l){p(l)},disabled:!r,options:Ze,value:n,filterOption:function(l,i){var d;return((d=i==null?void 0:i.label)!==null&&d!==void 0?d:"").toLowerCase().includes(l.toLowerCase())},showSearch:!0,optionFilterProp:"children"})]})}),(0,e.jsx)(M.Z,{xxl:8,xl:8,md:24,sm:24,xs:24,children:(0,e.jsxs)("div",{children:[(0,e.jsx)(f.Z,{style:{fontWeight:"bold",marginBottom:"4px"},children:"Air Baku"}),(0,e.jsx)(f.Z,{children:"Dev Eui"}),(0,e.jsx)(C.Z,{mode:"multiple",allowClear:!0,dropdownMatchSelectWidth:!0,style:{width:"100%",maxHeight:r?"unset":"130px",overflow:"scroll"},placeholder:"Select Dev Eui",onChange:function(l){H(l)},disabled:!r,options:Ze,value:_,filterOption:function(l,i){var d;return((d=i==null?void 0:i.label)!==null&&d!==void 0?d:"").toLowerCase().includes(l.toLowerCase())},showSearch:!0,optionFilterProp:"children"})]})}),(0,e.jsx)(M.Z,{xxl:8,xl:8,md:24,sm:24,xs:24,children:(0,e.jsxs)("div",{children:[(0,e.jsx)(f.Z,{style:{fontWeight:"bold",marginBottom:"4px"},children:"Sludge"}),(0,e.jsx)(f.Z,{children:"Dev Eui"}),(0,e.jsx)(C.Z,{mode:"multiple",allowClear:!0,dropdownMatchSelectWidth:!0,style:{width:"100%",maxHeight:r?"unset":"130px",overflow:"scroll"},placeholder:"Select Dev Eui",onChange:function(l){Ne(l)},disabled:!r,options:Ze,value:Re,filterOption:function(l,i){var d;return((d=i==null?void 0:i.label)!==null&&d!==void 0?d:"").toLowerCase().includes(l.toLowerCase())},showSearch:!0,optionFilterProp:"children"})]})}),(0,e.jsx)(M.Z,{xxl:8,xl:8,md:24,sm:24,xs:24,children:(0,e.jsxs)("div",{children:[(0,e.jsx)(f.Z,{style:{fontWeight:"bold",marginBottom:"4px"},children:"Total Distribusi BP"}),(0,e.jsx)(f.Z,{children:"Dev Eui"}),(0,e.jsx)(C.Z,{mode:"multiple",allowClear:!0,dropdownMatchSelectWidth:!0,style:{width:"100%",maxHeight:r?"unset":"130px",overflow:"scroll"},placeholder:"Select Dev Eui",onChange:function(l){Y(l)},disabled:!r,options:Ze,value:Ue,filterOption:function(l,i){var d;return((d=i==null?void 0:i.label)!==null&&d!==void 0?d:"").toLowerCase().includes(l.toLowerCase())},showSearch:!0,optionFilterProp:"children"})]})}),(0,e.jsx)(M.Z,{xxl:8,xl:8,md:24,sm:24,xs:24,children:(0,e.jsxs)("div",{children:[(0,e.jsx)(f.Z,{style:{fontWeight:"bold",marginBottom:"4px"},children:"Transmisi IID 1"}),(0,e.jsx)(f.Z,{children:"Dev Eui"}),(0,e.jsx)(C.Z,{mode:"multiple",allowClear:!0,dropdownMatchSelectWidth:!0,style:{width:"100%",maxHeight:r?"unset":"130px",overflow:"scroll"},placeholder:"Select Dev Eui",onChange:function(l){le(l)},disabled:!r,options:Ze,value:pe,filterOption:function(l,i){var d;return((d=i==null?void 0:i.label)!==null&&d!==void 0?d:"").toLowerCase().includes(l.toLowerCase())},showSearch:!0,optionFilterProp:"children"})]})}),(0,e.jsx)(M.Z,{xxl:8,xl:8,md:24,sm:24,xs:24,children:(0,e.jsxs)("div",{children:[(0,e.jsx)(f.Z,{style:{fontWeight:"bold",marginBottom:"4px"},children:"Tranmisi IID 2"}),(0,e.jsx)(f.Z,{children:"Dev Eui"}),(0,e.jsx)(C.Z,{mode:"multiple",allowClear:!0,dropdownMatchSelectWidth:!0,style:{width:"100%",maxHeight:r?"unset":"130px",overflow:"scroll"},placeholder:"Select Dev Eui",onChange:function(l){He(l)},disabled:!r,options:Ze,value:Ke,filterOption:function(l,i){var d;return((d=i==null?void 0:i.label)!==null&&d!==void 0?d:"").toLowerCase().includes(l.toLowerCase())},showSearch:!0,optionFilterProp:"children"})]})}),(0,e.jsx)(M.Z,{xxl:8,xl:8,md:24,sm:24,xs:24,children:(0,e.jsxs)("div",{children:[(0,e.jsx)(f.Z,{style:{fontWeight:"bold",marginBottom:"4px"},children:"Transmisi BP"}),(0,e.jsx)(f.Z,{children:"Dev Eui"}),(0,e.jsx)(C.Z,{mode:"multiple",allowClear:!0,dropdownMatchSelectWidth:!0,style:{width:"100%",maxHeight:r?"unset":"130px",overflow:"scroll"},placeholder:"Select Dev Eui",onChange:function(l){Ve(l)},disabled:!r,options:Ze,value:Ge,filterOption:function(l,i){var d;return((d=i==null?void 0:i.label)!==null&&d!==void 0?d:"").toLowerCase().includes(l.toLowerCase())},showSearch:!0,optionFilterProp:"children"})]})})]}),(0,e.jsx)("div",{style:{textAlign:"right",marginTop:"24px"},children:r?(0,e.jsxs)(Q.Z,{children:[(0,e.jsx)(u.Z,{onClick:function(){E(!1)},children:"Cancel"}),(0,e.jsx)(u.Z,{type:"primary",onClick:at,children:"Save"})]}):(0,e.jsx)(u.Z,{type:"link",onClick:function(){E(!0)},children:"Edit"})})]})})},ce=function(x){var v=x.settings,F=x.getDataInit,j=(0,a.useState)(!1),R=s()(j,2),W=R[0],c=R[1],A=(0,a.useState)([]),h=s()(A,2),z=h[0],N=h[1],k=(0,a.useState)(!1),J=s()(k,2),r=J[0],E=J[1],D=function(){var b=$()(o()().mark(function m(){var n;return o()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return c(!0),y.next=3,(0,g.dm)({});case 3:n=y.sent,c(!1),n.error||N(n.data);case 6:case"end":return y.stop()}},m)}));return function(){return b.apply(this,arguments)}}();(0,a.useEffect)(function(){D()},[]);var L=function(){var m=[];return z.map(function(n){var p;m.push({label:"".concat(n.deveui," - ").concat((p=n.Nebula_Tenant)===null||p===void 0?void 0:p.name),value:n.id})}),m},B=L(),K=function(){var b=$()(o()().mark(function m(n){var p;return o()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return console.log("Received values of form:",n),E(!1),c(!0),Z.next=5,(0,g.VF)(n.device);case 5:p=Z.sent,p.error||(ge.ZP.success(p.message),c(!1),F(),D());case 7:case"end":return Z.stop()}},m)}));return function(n){return b.apply(this,arguments)}}();return(0,e.jsx)(me.Z,{title:"Water Usage Anomali",style:{borderRadius:"8px"},bodyStyle:{paddingTop:"16px",paddingBottom:"16px"},headStyle:{backgroundColor:"#E6F7FF",fontWeight:"bold"},children:(0,e.jsx)(he.Z,{spinning:W,children:(0,e.jsx)(Pe,{settings:v,onFinish:K,options:B,maxLabel:"Average Usage",minLabel:"Minimal Usage",unit:"M3",isEdit:r,setIsEdit:E})})})},fe=function(x){var v=x.settings,F=x.getDataInit,j=(0,a.useState)(!1),R=s()(j,2),W=R[0],c=R[1],A=(0,a.useState)([]),h=s()(A,2),z=h[0],N=h[1],k=(0,a.useState)(!1),J=s()(k,2),r=J[0],E=J[1],D=function(){var b=$()(o()().mark(function m(){var n;return o()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return c(!0),y.next=3,(0,g.To)({});case 3:n=y.sent,c(!1),n.error||N(n.data);case 6:case"end":return y.stop()}},m)}));return function(){return b.apply(this,arguments)}}();(0,a.useEffect)(function(){D()},[]);var L=function(){var m=[];return z.map(function(n){var p;m.push({label:"".concat(n.deveui," - ").concat((p=n.Nebula_Tenant)===null||p===void 0?void 0:p.name),value:n.id})}),m},B=L(),K=function(){var b=$()(o()().mark(function m(n){var p;return o()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return console.log("Received values of form:",n),E(!1),c(!0),Z.next=5,(0,g.pN)(n.device);case 5:p=Z.sent,p.error||(ge.ZP.success(p.message),c(!1),F(),D());case 7:case"end":return Z.stop()}},m)}));return function(n){return b.apply(this,arguments)}}();return(0,e.jsx)(me.Z,{title:"Water Pressure Vacuum",style:{borderRadius:"8px"},bodyStyle:{paddingTop:"16px",paddingBottom:"16px"},headStyle:{backgroundColor:"#E6F7FF",fontWeight:"bold"},children:(0,e.jsx)(he.Z,{spinning:W,children:(0,e.jsx)(Pe,{settings:v,onFinish:K,options:B,maxLabel:"Maximal",minLabel:"Minimal",unit:"Bar",isEdit:r,setIsEdit:E})})})},U=function(){var x=(0,a.useState)(!1),v=s()(x,2),F=v[0],j=v[1],R=(0,a.useState)({}),W=s()(R,2),c=W[0],A=W[1],h=function(){var z=$()(o()().mark(function N(){var k;return o()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return j(!0),r.next=3,(0,g.F$)({});case 3:k=r.sent,console.log(k,"data map"),j(!1),k.error||A(k.data);case 7:case"end":return r.stop()}},N)}));return function(){return z.apply(this,arguments)}}();return(0,a.useEffect)(function(){h()},[]),(0,e.jsxs)(ne._z,{title:"Parameter Setting",content:"Parameter setting for device.",style:{borderTop:"1px solid rgba(0, 0, 0, 0.06)"},children:[(0,e.jsxs)(S.ql,{children:[(0,e.jsx)("meta",{charSet:"utf-8"}),(0,e.jsx)("title",{children:"BITA IoT Platform | Settings"}),(0,e.jsx)("link",{rel:"icon",href:"/logo.png",type:"image/x-icon"})]}),(0,e.jsx)(he.Z,{spinning:F,children:(0,e.jsxs)(be.Z,{gutter:[16,16],children:[(0,e.jsx)(M.Z,{xxl:24,xl:24,md:24,sm:24,xs:24,children:(0,e.jsx)(Ce,{settings:c.water_usage,getDataInit:h})}),(0,e.jsx)(M.Z,{xxl:24,xl:24,md:24,sm:24,xs:24,children:(0,e.jsx)(de,{settings:c.water_pressure,getDataInit:h})}),(0,e.jsx)(M.Z,{xxl:24,xl:24,md:24,sm:24,xs:24,children:(0,e.jsx)(fe,{settings:c.water_vakum,getDataInit:h})}),(0,e.jsx)(M.Z,{span:24,children:(0,e.jsx)(me.Z,{title:"Water Production",style:{borderRadius:"8px"},bodyStyle:{paddingTop:"16px",paddingBottom:"16px"},headStyle:{backgroundColor:"#E6F7FF",fontWeight:"bold"},children:(0,e.jsx)(Me,{settings:c.water_production,getDataInit:h})})}),(0,e.jsx)(M.Z,{span:24,children:(0,e.jsx)(me.Z,{title:"Water Quality",style:{borderRadius:"8px"},bodyStyle:{paddingTop:"16px",paddingBottom:"16px"},headStyle:{backgroundColor:"#E6F7FF",fontWeight:"bold"},children:(0,e.jsx)(Ae,{settings:c.water_quality,getDataInit:h})})}),(0,e.jsx)(M.Z,{xxl:24,xl:24,md:24,sm:24,xs:24,children:(0,e.jsx)(ce,{settings:c.water_usage_anomali,getDataInit:h})})]})})]})},Se=U},15746:function(Ie,re,t){var P=t(21584);re.Z=P.Z},99134:function(Ie,re,t){var P=t(67294),o=(0,P.createContext)({});re.Z=o},21584:function(Ie,re,t){var P=t(4942),o=t(87462),_e=t(71002),$=t(94184),Be=t.n($),s=t(67294),ne=t(53124),he=t(99134),be=function(S,ye){var f={};for(var C in S)Object.prototype.hasOwnProperty.call(S,C)&&ye.indexOf(C)<0&&(f[C]=S[C]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ae=0,C=Object.getOwnPropertySymbols(S);ae<C.length;ae++)ye.indexOf(C[ae])<0&&Object.prototype.propertyIsEnumerable.call(S,C[ae])&&(f[C[ae]]=S[C[ae]]);return f};function M(S){return typeof S=="number"?"".concat(S," ").concat(S," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(S)?"0 0 ".concat(S):S}var me=["xs","sm","md","lg","xl","xxl"],a=s.forwardRef(function(S,ye){var f,C=s.useContext(ne.E_),ae=C.getPrefixCls,u=C.direction,Q=s.useContext(he.Z),g=Q.gutter,e=Q.wrap,se=Q.supportFlexGap,Ce=S.prefixCls,ge=S.span,Oe=S.order,ie=S.offset,X=S.push,ue=S.pull,De=S.className,Fe=S.children,we=S.flex,We=S.style,Te=be(S,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),ee=ae("col",Ce),je={};me.forEach(function(ce){var fe,U={},Se=S[ce];typeof Se=="number"?U.span=Se:(0,_e.Z)(Se)==="object"&&(U=Se||{}),delete Te[ce],je=(0,o.Z)((0,o.Z)({},je),(fe={},(0,P.Z)(fe,"".concat(ee,"-").concat(ce,"-").concat(U.span),U.span!==void 0),(0,P.Z)(fe,"".concat(ee,"-").concat(ce,"-order-").concat(U.order),U.order||U.order===0),(0,P.Z)(fe,"".concat(ee,"-").concat(ce,"-offset-").concat(U.offset),U.offset||U.offset===0),(0,P.Z)(fe,"".concat(ee,"-").concat(ce,"-push-").concat(U.push),U.push||U.push===0),(0,P.Z)(fe,"".concat(ee,"-").concat(ce,"-pull-").concat(U.pull),U.pull||U.pull===0),(0,P.Z)(fe,"".concat(ee,"-rtl"),u==="rtl"),fe))});var Pe=Be()(ee,(f={},(0,P.Z)(f,"".concat(ee,"-").concat(ge),ge!==void 0),(0,P.Z)(f,"".concat(ee,"-order-").concat(Oe),Oe),(0,P.Z)(f,"".concat(ee,"-offset-").concat(ie),ie),(0,P.Z)(f,"".concat(ee,"-push-").concat(X),X),(0,P.Z)(f,"".concat(ee,"-pull-").concat(ue),ue),f),De,je),de={};if(g&&g[0]>0){var Ae=g[0]/2;de.paddingLeft=Ae,de.paddingRight=Ae}if(g&&g[1]>0&&!se){var Me=g[1]/2;de.paddingTop=Me,de.paddingBottom=Me}return we&&(de.flex=M(we),e===!1&&!de.minWidth&&(de.minWidth=0)),s.createElement("div",(0,o.Z)({},Te,{style:(0,o.Z)((0,o.Z)({},de),We),className:Pe,ref:ye}),Fe)});re.Z=a},75302:function(Ie,re,t){var P=t(25378);function o(){return(0,P.Z)()}re.ZP={useBreakpoint:o}},92820:function(Ie,re,t){var P=t(87462),o=t(4942),_e=t(71002),$=t(97685),Be=t(94184),s=t.n(Be),ne=t(67294),he=t(53124),be=t(94060),M=t(24308),me=t(93355),a=t(99134),S=function(u,Q){var g={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&Q.indexOf(e)<0&&(g[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var se=0,e=Object.getOwnPropertySymbols(u);se<e.length;se++)Q.indexOf(e[se])<0&&Object.prototype.propertyIsEnumerable.call(u,e[se])&&(g[e[se]]=u[e[se]]);return g},ye=(0,me.b)("top","middle","bottom","stretch"),f=(0,me.b)("start","end","center","space-around","space-between","space-evenly");function C(u,Q){var g=ne.useState(typeof u=="string"?u:""),e=(0,$.Z)(g,2),se=e[0],Ce=e[1],ge=function(){if(typeof u=="string"&&Ce(u),(0,_e.Z)(u)==="object")for(var ie=0;ie<M.c4.length;ie++){var X=M.c4[ie];if(!!Q[X]){var ue=u[X];if(ue!==void 0){Ce(ue);return}}}};return ne.useEffect(function(){ge()},[JSON.stringify(u),Q]),se}var ae=ne.forwardRef(function(u,Q){var g,e=u.prefixCls,se=u.justify,Ce=u.align,ge=u.className,Oe=u.style,ie=u.children,X=u.gutter,ue=X===void 0?0:X,De=u.wrap,Fe=S(u,["prefixCls","justify","align","className","style","children","gutter","wrap"]),we=ne.useContext(he.E_),We=we.getPrefixCls,Te=we.direction,ee=ne.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),je=(0,$.Z)(ee,2),Pe=je[0],de=je[1],Ae=ne.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),Me=(0,$.Z)(Ae,2),ce=Me[0],fe=Me[1],U=C(Ce,ce),Se=C(se,ce),ve=(0,be.Z)(),x=ne.useRef(ue);ne.useEffect(function(){var r=M.ZP.subscribe(function(E){fe(E);var D=x.current||0;(!Array.isArray(D)&&(0,_e.Z)(D)==="object"||Array.isArray(D)&&((0,_e.Z)(D[0])==="object"||(0,_e.Z)(D[1])==="object"))&&de(E)});return function(){return M.ZP.unsubscribe(r)}},[]);var v=function(){var E=[void 0,void 0],D=Array.isArray(ue)?ue:[ue,void 0];return D.forEach(function(L,B){if((0,_e.Z)(L)==="object")for(var K=0;K<M.c4.length;K++){var b=M.c4[K];if(Pe[b]&&L[b]!==void 0){E[B]=L[b];break}}else E[B]=L}),E},F=We("row",e),j=v(),R=s()(F,(g={},(0,o.Z)(g,"".concat(F,"-no-wrap"),De===!1),(0,o.Z)(g,"".concat(F,"-").concat(Se),Se),(0,o.Z)(g,"".concat(F,"-").concat(U),U),(0,o.Z)(g,"".concat(F,"-rtl"),Te==="rtl"),g),ge),W={},c=j[0]!=null&&j[0]>0?j[0]/-2:void 0,A=j[1]!=null&&j[1]>0?j[1]/-2:void 0;if(c&&(W.marginLeft=c,W.marginRight=c),ve){var h=(0,$.Z)(j,2);W.rowGap=h[1]}else A&&(W.marginTop=A,W.marginBottom=A);var z=(0,$.Z)(j,2),N=z[0],k=z[1],J=ne.useMemo(function(){return{gutter:[N,k],wrap:De,supportFlexGap:ve}},[N,k,De,ve]);return ne.createElement(a.Z.Provider,{value:J},ne.createElement("div",(0,P.Z)({},Fe,{className:R,style:(0,P.Z)((0,P.Z)({},W),Oe),ref:Q}),ie))});re.Z=ae},71230:function(Ie,re,t){var P=t(92820);re.Z=P.Z}}]);
