"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8629],{96773:function(ge,W,t){t.r(W);var f=t(97983),V=t.n(f),m=t(40794),H=t.n(m),b=t(12741),M=t.n(b),l=t(5200),ae=t.n(l),ne=t(98435),oe=t(39173),K=t(78560),T=t(75539),de=t(41231),L=t(58638),$=t(99611),z=t(38402),A=t(30028),w=t(27049),c=t(59652),_=t(71230),F=t(15746),J=t(26713),re=t(21802),u=t(69677),a=t(40038),r=t(63922),n=t(41232),s=t(71577),x=t(23349),o=t(94217),P=t(30381),j=t.n(P),i=t(67294),S=t(64593),e=t(85893),B=function(p){ae()(p);var h=i.useState([]),Z=M()(h,2),R=Z[0],D=Z[1],g=i.useState(!1),I=M()(g,2),le=I[0],y=I[1],Q=i.useState(0),se=M()(Q,2),Y=se[0],ve=se[1],ce=i.useState(0),E=M()(ce,2),X=E[0],ue=E[1],xe=i.useState(void 0),ie=M()(xe,2),U=ie[0],k=ie[1],q=i.useState("all"),_e=M()(q,2),N=_e[0],Ee=_e[1],me=i.useState(""),fe=M()(me,2),ee=fe[0],Ce=fe[1],Pe=function(){var C=H()(V()().mark(function d(){var v;return V()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return y(!0),O.next=3,(0,de.t)({params:{area_id:Y||void 0,tenant_id:X||void 0,periode:U?U.format("YYYY-MM"):void 0,status:N!=="all"?N:void 0,search:ee||void 0}});case 3:v=O.sent,console.log(v),y(!1),v.error||D(v.data);case 7:case"end":return O.stop()}},d)}));return function(){return C.apply(this,arguments)}}();i.useEffect(function(){Pe()},[Y,X,U,N,ee]);var je=function(){(0,K.x)()("billing","Billing ","Billing "+j()().unix())};return(0,e.jsxs)(z._z,{childrenContentStyle:{minHeight:"70vh"},title:"Transaction Billing",content:"Manage your billing",children:[(0,e.jsx)(w.Z,{}),(0,e.jsxs)(c.Z,{style:{borderRadius:8,marginBottom:20},bodyStyle:{background:" rgba(230, 247, 255, 0.5)"},children:[(0,e.jsxs)(S.q,{children:[(0,e.jsx)("meta",{charSet:"utf-8"}),(0,e.jsx)("title",{children:"Nebula Apps | Billing"}),(0,e.jsx)("link",{rel:"icon",href:"https://aetratangerang.co.id/wp-content/uploads/2020/07/cropped-favicon-192x192.png",type:"image/x-icon"})]}),(0,e.jsxs)(_.Z,{gutter:[16,16],justify:"space-between",align:"bottom",children:[(0,e.jsx)(F.Z,{children:(0,e.jsxs)(J.Z,{direction:"vertical",children:[(0,e.jsx)(re.Z,{children:"Search"}),(0,e.jsx)(u.Z.Search,{onSearch:function(d){return Ce(d)},style:{borderRadius:"20px"},placeholder:"No Invoice"})]})}),(0,e.jsx)(F.Z,{children:(0,e.jsxs)(J.Z,{direction:"vertical",children:[(0,e.jsx)(re.Z,{children:"Status"}),(0,e.jsx)(a.Z,{value:N,style:{width:150,borderRadius:100},onChange:function(d){Ee(d)},options:[{value:"all",label:(0,e.jsx)(r.Z,{color:"blue",text:"All"})},{value:"new",label:(0,e.jsx)(r.Z,{color:"cyan",text:"New"})},{value:"paid",label:(0,e.jsx)(r.Z,{color:"green",text:"Paid"})},{value:"unpaid",label:(0,e.jsx)(r.Z,{color:"orange",text:"Unpaid"})},{value:"cancel",label:(0,e.jsx)(r.Z,{color:"red",text:"Cancel"})}]})]})}),(0,e.jsx)(F.Z,{children:(0,e.jsxs)(J.Z,{direction:"vertical",children:[(0,e.jsx)(re.Z,{children:"Area"}),(0,e.jsx)(ne.U,{useAll:!0,defaultArea0:!1,value:Y,onChange:function(d){return ve(d)},type:"rounded",disabled:!1,style:{width:"200px"}})]})}),(0,e.jsx)(F.Z,{children:(0,e.jsxs)(J.Z,{direction:"vertical",children:[(0,e.jsx)(re.Z,{children:"Tenant"}),(0,e.jsx)(oe.w,{useAll:!0,onChange:function(d){return ue(d)},style:{width:"200px"},type:"rounded",areaId:Y==0?void 0:Y,value:X,disabled:!1})]})}),(0,e.jsx)(F.Z,{children:(0,e.jsxs)(J.Z,{direction:"vertical",children:[(0,e.jsx)(re.Z,{children:"Priode"}),(0,e.jsx)(n.Z.MonthPicker,{value:U,onChange:function(d){return k(d)}})]})}),(0,e.jsx)(F.Z,{style:{paddingTop:20},children:(0,e.jsx)(s.Z,{type:"primary",icon:(0,e.jsx)(L.Z,{}),onClick:je,children:"Export"})})]})]}),(0,e.jsxs)(x.Z,{dataSource:R,loading:le,style:{borderRadius:8,border:"1px solid #f0f0f0"},children:[(0,e.jsx)(o.Z,{title:"No Invoice",dataIndex:"invoice"},"invoice"),(0,e.jsx)(o.Z,{title:"Area Name",dataIndex:["Nebula_Area","area_name"]},"area_name"),(0,e.jsx)(o.Z,{title:"Tenant",dataIndex:["Nebula_Tenant","name"]},"tenant_name"),(0,e.jsx)(o.Z,{title:"Periode",dataIndex:"periode"},"periode"),(0,e.jsx)(o.Z,{title:"Usage",dataIndex:"usage",render:function(d){return(0,T.q)(d)}},"usage"),(0,e.jsx)(o.Z,{title:"Status",dataIndex:"status",render:function(d,v){return v.status==="new"?(0,e.jsx)(r.Z,{color:"cyan",text:"New"}):v.status==="paid"?(0,e.jsx)(r.Z,{color:"green",text:"Paid"}):v.status==="unpaid"?(0,e.jsx)(r.Z,{color:"orange",text:"Unpaid"}):v.status==="cancel"?(0,e.jsx)(r.Z,{color:"red",text:"Paid"}):(0,e.jsx)(r.Z,{color:"cyan",text:"Paid"})}},"status"),(0,e.jsx)(o.Z,{title:"Amount",dataIndex:"grand_total",render:function(d){return"Rp."+(0,T.q)(d)+",00"}},"grand_total"),(0,e.jsx)(o.Z,{title:"Action",render:function(d,v){return(0,e.jsxs)(s.Z,{size:"small",type:"primary",ghost:!0,onClick:function(){console.log(v),A.history.push("/billing/detail/"+v.id)},children:[(0,e.jsx)($.Z,{}),"View Detail"]})}},"action")]}),(0,e.jsxs)("div",{style:{opacity:0,position:"fixed"},children:[(0,e.jsx)("a",{id:"dlink"}),(0,e.jsxs)(x.Z,{id:"billing",dataSource:R,loading:le,pagination:!1,children:[(0,e.jsx)(o.Z,{title:"No Invoice",dataIndex:"invoice"},"invoice"),(0,e.jsx)(o.Z,{title:"Area Name",dataIndex:["Nebula_Area","area_name"]},"area_name"),(0,e.jsx)(o.Z,{title:"Tenant",dataIndex:["Nebula_Tenant","name"]},"tenant_name"),(0,e.jsx)(o.Z,{title:"Periode",dataIndex:"periode"},"periode"),(0,e.jsx)(o.Z,{title:"Usage",dataIndex:"usage",render:function(d){return(0,T.q)(d)}},"usage"),(0,e.jsx)(o.Z,{title:"Status",dataIndex:"status",render:function(d,v){return v.status==="new"?(0,e.jsx)(r.Z,{color:"cyan",text:"New"}):v.status==="paid"?(0,e.jsx)(r.Z,{color:"green",text:"Paid"}):v.status==="unpaid"?(0,e.jsx)(r.Z,{color:"orange",text:"Unpaid"}):v.status==="cancel"?(0,e.jsx)(r.Z,{color:"red",text:"Paid"}):(0,e.jsx)(r.Z,{color:"cyan",text:"Paid"})}},"status"),(0,e.jsx)(o.Z,{title:"Amount",dataIndex:"amount",render:function(d){return"Rp."+(0,T.q)(d)+",00"}},"amount")]})]})]})};W.default=B},41231:function(ge,W,t){t.d(W,{W:function(){return de},t:function(){return K}});var f=t(11281),V=t.n(f),m=t(97983),H=t.n(m),b=t(40794),M=t.n(b),l=t(12461),ae=t(9669),ne=t.n(ae),oe=t(9212);function K(L){return T.apply(this,arguments)}function T(){return T=M()(H()().mark(function L($){var z,A;return H()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,oe.Z.get("/billing",V()({method:"GET"},$||{}));case 3:return z=c.sent,A=z.data,c.abrupt("return",{data:A.data,error:!1,message:"Success Get",responseCode:A.responseCode});case 8:if(c.prev=8,c.t0=c.catch(0),!ne().isAxiosError(c.t0)){c.next=16;break}return console.log("error message: ",c.t0.message),l.ZP.error(c.t0.message),c.abrupt("return",{data:null,error:!0,message:c.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",c.t0),l.ZP.error("An unexpected error occurred"),c.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return c.stop()}},L,null,[[0,8]])})),T.apply(this,arguments)}var de=function(){var L=M()(H()().mark(function $(z){var A,w;return H()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.prev=0,_.next=3,oe.Z.get("/billing/"+z,{method:"GET"});case 3:return A=_.sent,w=A.data,_.abrupt("return",{data:w.data,error:!1,message:"Success Get",responseCode:w.responseCode});case 8:if(_.prev=8,_.t0=_.catch(0),!ne().isAxiosError(_.t0)){_.next=16;break}return console.log("error message: ",_.t0.message),l.ZP.error(_.t0.message),_.abrupt("return",{data:null,error:!0,message:_.t0.message,responseCode:400});case 16:return console.log("unexpected error: ",_.t0),l.ZP.error("An unexpected error occurred"),_.abrupt("return",{data:null,error:!0,message:"An unexpected error occurred",responseCode:400});case 19:case"end":return _.stop()}},$,null,[[0,8]])}));return function(z){return L.apply(this,arguments)}}()},63922:function(ge,W,t){t.d(W,{Z:function(){return re}});var f=t(4942),V=t(71002),m=t(87462),H=t(94184),b=t.n(H),M=t(62874),l=t(67294),ae=t(53124),ne=t(96159),oe=t(98787);function K(u){return oe.Y.includes(u)}var T=function(a){var r,n=a.className,s=a.prefixCls,x=a.style,o=a.color,P=a.children,j=a.text,i=a.placement,S=i===void 0?"end":i,e=l.useContext(ae.E_),B=e.getPrefixCls,G=e.direction,p=B("ribbon",s),h=K(o),Z=b()(p,"".concat(p,"-placement-").concat(S),(r={},(0,f.Z)(r,"".concat(p,"-rtl"),G==="rtl"),(0,f.Z)(r,"".concat(p,"-color-").concat(o),h),r),n),R={},D={};return o&&!h&&(R.background=o,D.color=o),l.createElement("div",{className:"".concat(p,"-wrapper")},P,l.createElement("div",{className:Z,style:(0,m.Z)((0,m.Z)({},R),x)},l.createElement("span",{className:"".concat(p,"-text")},j),l.createElement("div",{className:"".concat(p,"-corner"),style:D})))},de=T,L=t(97685);function $(u){var a=u.prefixCls,r=u.value,n=u.current,s=u.offset,x=s===void 0?0:s,o;return x&&(o={position:"absolute",top:"".concat(x,"00%"),left:0}),l.createElement("span",{style:o,className:b()("".concat(a,"-only-unit"),{current:n})},r)}function z(u,a,r){for(var n=u,s=0;(n+10)%10!==a;)n+=r,s+=r;return s}function A(u){var a=u.prefixCls,r=u.count,n=u.value,s=Number(n),x=Math.abs(r),o=l.useState(s),P=(0,L.Z)(o,2),j=P[0],i=P[1],S=l.useState(x),e=(0,L.Z)(S,2),B=e[0],G=e[1],p=function(){i(s),G(x)};l.useEffect(function(){var y=setTimeout(function(){p()},1e3);return function(){clearTimeout(y)}},[s]);var h,Z;if(j===s||Number.isNaN(s)||Number.isNaN(j))h=[l.createElement($,(0,m.Z)({},u,{key:s,current:!0}))],Z={transition:"none"};else{h=[];for(var R=s+10,D=[],g=s;g<=R;g+=1)D.push(g);var I=D.findIndex(function(y){return y%10===j});h=D.map(function(y,Q){var se=y%10;return l.createElement($,(0,m.Z)({},u,{key:y,value:se,offset:Q-I,current:Q===I}))});var le=B<x?1:-1;Z={transform:"translateY(".concat(-z(j,s,le),"00%)")}}return l.createElement("span",{className:"".concat(a,"-only"),style:Z,onTransitionEnd:p},h)}var w=function(u,a){var r={};for(var n in u)Object.prototype.hasOwnProperty.call(u,n)&&a.indexOf(n)<0&&(r[n]=u[n]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(u);s<n.length;s++)a.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(u,n[s])&&(r[n[s]]=u[n[s]]);return r},c=function(a){var r=a.prefixCls,n=a.count,s=a.className,x=a.motionClassName,o=a.style,P=a.title,j=a.show,i=a.component,S=i===void 0?"sup":i,e=a.children,B=w(a,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),G=l.useContext(ae.E_),p=G.getPrefixCls,h=p("scroll-number",r),Z=(0,m.Z)((0,m.Z)({},B),{"data-show":j,style:o,className:b()(h,s,x),title:P}),R=n;if(n&&Number(n)%1===0){var D=String(n).split("");R=D.map(function(g,I){return l.createElement(A,{prefixCls:h,count:Number(n),value:g,key:D.length-I})})}return o&&o.borderColor&&(Z.style=(0,m.Z)((0,m.Z)({},o),{boxShadow:"0 0 0 1px ".concat(o.borderColor," inset")})),e?(0,ne.Tm)(e,function(g){return{className:b()("".concat(h,"-custom-component"),g==null?void 0:g.className,x)}}):l.createElement(S,Z,R)},_=c,F=function(u,a){var r={};for(var n in u)Object.prototype.hasOwnProperty.call(u,n)&&a.indexOf(n)<0&&(r[n]=u[n]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(u);s<n.length;s++)a.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(u,n[s])&&(r[n[s]]=u[n[s]]);return r},J=function(a){var r,n,s=a.prefixCls,x=a.scrollNumberPrefixCls,o=a.children,P=a.status,j=a.text,i=a.color,S=a.count,e=S===void 0?null:S,B=a.overflowCount,G=B===void 0?99:B,p=a.dot,h=p===void 0?!1:p,Z=a.size,R=Z===void 0?"default":Z,D=a.title,g=a.offset,I=a.style,le=a.className,y=a.showZero,Q=y===void 0?!1:y,se=F(a,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","showZero"]),Y=l.useContext(ae.E_),ve=Y.getPrefixCls,ce=Y.direction,E=ve("badge",s),X=e>G?"".concat(G,"+"):e,ue=X==="0"||X===0,xe=e===null||ue&&!Q,ie=(P!=null||i!=null)&&xe,U=h&&!ue,k=U?"":X,q=(0,l.useMemo)(function(){var O=k==null||k==="";return(O||ue&&!Q)&&!U},[k,ue,Q,U]),_e=(0,l.useRef)(e);q||(_e.current=e);var N=_e.current,Ee=(0,l.useRef)(k);q||(Ee.current=k);var me=Ee.current,fe=(0,l.useRef)(U);q||(fe.current=U);var ee=(0,l.useMemo)(function(){if(!g)return(0,m.Z)({},I);var O={marginTop:g[1]};return ce==="rtl"?O.left=parseInt(g[0],10):O.right=-parseInt(g[0],10),(0,m.Z)((0,m.Z)({},O),I)},[ce,g,I]),Ce=D!=null?D:typeof N=="string"||typeof N=="number"?N:void 0,Pe=q||!j?null:l.createElement("span",{className:"".concat(E,"-status-text")},j),je=!N||(0,V.Z)(N)!=="object"?void 0:(0,ne.Tm)(N,function(O){return{style:(0,m.Z)((0,m.Z)({},ee),O.style)}}),C=b()((r={},(0,f.Z)(r,"".concat(E,"-status-dot"),ie),(0,f.Z)(r,"".concat(E,"-status-").concat(P),!!P),(0,f.Z)(r,"".concat(E,"-status-").concat(i),K(i)),r)),d={};i&&!K(i)&&(d.background=i);var v=b()(E,(n={},(0,f.Z)(n,"".concat(E,"-status"),ie),(0,f.Z)(n,"".concat(E,"-not-a-wrapper"),!o),(0,f.Z)(n,"".concat(E,"-rtl"),ce==="rtl"),n),le);if(!o&&ie){var he=ee.color;return l.createElement("span",(0,m.Z)({},se,{className:v,style:ee}),l.createElement("span",{className:C,style:d}),j&&l.createElement("span",{style:{color:he},className:"".concat(E,"-status-text")},j))}return l.createElement("span",(0,m.Z)({},se,{className:v}),o,l.createElement(M.Z,{visible:!q,motionName:"".concat(E,"-zoom"),motionAppear:!1,motionDeadline:1e3},function(O){var te,Oe=O.className,Ze=ve("scroll-number",x),De=fe.current,ye=b()((te={},(0,f.Z)(te,"".concat(E,"-dot"),De),(0,f.Z)(te,"".concat(E,"-count"),!De),(0,f.Z)(te,"".concat(E,"-count-sm"),R==="small"),(0,f.Z)(te,"".concat(E,"-multiple-words"),!De&&me&&me.toString().length>1),(0,f.Z)(te,"".concat(E,"-status-").concat(P),!!P),(0,f.Z)(te,"".concat(E,"-status-").concat(i),K(i)),te)),pe=(0,m.Z)({},ee);return i&&!K(i)&&(pe=pe||{},pe.background=i),l.createElement(_,{prefixCls:Ze,show:!q,motionClassName:Oe,className:ye,count:me,title:Ce,style:pe,key:"scrollNumber"},je)}),Pe)};J.Ribbon=de;var re=J},94217:function(ge,W){var t;t={value:!0},W.Z=void 0;function f(m){return null}var V=f;W.Z=V}}]);
